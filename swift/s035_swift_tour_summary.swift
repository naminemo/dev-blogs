import UIKit

//
//  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//      â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ      â–ˆ          â–ˆâ–ˆ    â–ˆ   â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆ   â–ˆ
//  â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ           â–ˆ    â–ˆ   â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//
//  
//
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ        â–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ
//  â–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ
//     â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ              â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
//


var greeting = "Hello, playground"      // æ­¤å‹åˆ¥ç‚º String


// æ‚¨ä¸éœ€è¦åŒ¯å…¥å–®ç¨çš„å‡½å¼åº«ä¾†è¼¸å‡ºæ–‡å­—æˆ–è™•ç†å­—ä¸²ç­‰åŠŸèƒ½ï¼Œ
// ä¹Ÿä¸éœ€è¦åœ¨æ¯å€‹æ•˜è¿° (statement) çš„æœ«å°¾å¯«åˆ†è™Ÿã€‚
print("Hello, world!")


//===============å–®ä¸€å€¼ (Simple Values/Single Values) ===============
// ä½¿ç”¨ let å»ºç«‹å¸¸æ•¸ (constant) ï¼Œä½¿ç”¨ var å»ºç«‹è®Šæ•¸ (variable) ã€‚
// var å®£å‘Šçš„è¨˜æ†¶é«”é…ç½®ç©ºé–“åœ¨ç¬¬ä¸€æ¬¡è¨­å€¼ä¹‹å¾Œå¯ä»¥è®Šå‹•
// ä½† let å®£å‘Šçš„è¨˜æ†¶é«”é…ç½®ç©ºé–“ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¨­å€¼ä¹‹å¾Œå°±ä¸å¯ä»¥è®Šå‹•ã€‚


// ç­‰è™Ÿ(=)åœ¨ç¨‹å¼ä¸­ç¨±ç‚º assign (è¨­å€¼) ï¼Œæœƒè‡ªå‹•ä¾ç…§è¨­å®šçš„å€¼ä¾†æ¨æ¸¬å…¶å‹åˆ¥ (type inference) ï¼Œ
// å®£å‘Šä¸€å€‹è®Šæ•¸ï¼Œæ­¤å‹åˆ¥ç‚º Int
var myVariable = 42
print(greeting)
print(myVariable)


// è®Šæ•¸åœ¨ç¬¬ä¸€æ¬¡è¨­å€¼ä¹‹å¾Œå¯ä»¥è®Šå‹•
myVariable = 5000000
print(myVariable)


// è®Šæ•¸çš„è®Šå‹•ï¼Œå¿…é ˆç›¸åŒå‹åˆ¥
// myVariable = "test"
// error: Cannot assign value of type 'String' to type 'Int'

// å®£å‘Šä¸€å€‹å¸¸æ•¸
let myConstant = 42

// å¸¸æ•¸ä¸å¯äº‹å¾Œè®Šå‹•å…¶å€¼ï¼Œä¸‹åˆ—ä¸€è¡Œæœƒå‡ºéŒ¯
// myConstant = 55
// error: Cannot assign to value: 'myConstant' is a 'let' constant


let implicitInteger = 70     // ä»¥å‹åˆ¥æ¨æ¸¬æ©Ÿåˆ¶ï¼Œæ±ºå®šå…¶å‹åˆ¥ç‚º Int (å› ç‚ºå…¶å€¼ä¸å¸¶å°æ•¸ä½æ•¸)
let implicitDouble = 70.0    // ä»¥å‹åˆ¥æ¨æ¸¬æ©Ÿåˆ¶ï¼Œæ±ºå®šå…¶å‹åˆ¥ç‚º Double (å› ç‚ºå…¶å€¼å¸¶å°æ•¸ä½æ•¸)
var explicitDouble: Double = 70    // ä¸ä½¿ç”¨å‹åˆ¥æ¨æ¸¬æ©Ÿåˆ¶ï¼Œè‡ªå·±æ˜ç¢ºå‹åˆ¥ç‚º Double (æµ®é»æ•¸)


// æ³¨æ„ï¼š=å‰å¾Œçš„ç©ºç™½å¿…é ˆä¸€è‡´ï¼Œå¦å‰‡æœƒçœ‹åˆ°ä»¥ä¸‹çš„éŒ¯èª¤è¨Šæ¯
// var explicitDouble: Double= 70
// Error: '=' must have consistent whitespace on both sides
// var explicitDouble: Double = 70  // OK


// ä½†æ˜ç¢ºå‹åˆ¥çš„å†’è™Ÿï¼Œå‰å¾Œç©ºç™½å¯ä»¥ä¸ä¸€è‡´
var explicitDouble1:Double = 70    // OK
var explicitDouble2: Double = 70  // OK



// è§€å¯Ÿ Int å‹åˆ¥çš„æœ€å°å€¼å’Œæœ€å¤§å€¼
Int.min
Int.max
// myVariable = 9_223_372_036_854_775_808 // ä¸‰ä½ä¸€æ’‡çš„æ•¸å­—ç®—æ³•å¯ç”¨åº•ç·šä»£æ›¿
// error: Integer literal '9223372036854775808' overflows (æº¢ä½)  when stored into 'Int'

Int8.min
Int8.max
Int16.min
Int16.max

// Int å‹åˆ¥ç­‰åŒæ–¼ Int32 (åœ¨32ä½å…ƒçš„ä½œæ¥­ç³»çµ±ä¸Š)
Int32.min
Int32.max

// Int å‹åˆ¥ç­‰åŒæ–¼ Int64 (åœ¨64ä½å…ƒçš„ä½œæ¥­ç³»çµ±ä¸Š)
Int64.min
Int64.max

// PS.ç›®å‰å¸‚é¢ä¸Šå·²ç¶“æ²’æœ‰ 32 ä½å…ƒçš„è¨­å‚™

explicitDouble = 39.1234567890123456789
// Doubleå‹åˆ¥æä¾›è‡³å°‘15ä½åé€²åˆ¶æ•¸å­—çš„ç²¾åº¦ï¼Œ
// é€™è¡¨ç¤ºå®ƒèƒ½æº–ç¢ºè¡¨ç¤ºå¤§ç´„ 15 ä½æœ‰æ•ˆæ•¸å­—ï¼Œè¶…å‡ºçš„ä½æ•¸æœƒè‡ªå‹•æˆªæ–·ï¼Œä¸æœƒæº¢ä½ï¼
// (æ³¨æ„ï¼šä¸æ˜¯å›ºå®š15ä½å°æ•¸ä½æ•¸)
print(explicitDouble)


/*
 ã€Šç·´ç¿’1ã€‹
 å»ºç«‹ä¸€å€‹å…·æœ‰æ˜ç¢º Float å‹åˆ¥å’Œå€¼ç‚º 4 çš„å¸¸æ•¸ã€‚
*/
let explicitFloat: Float
// Floatå‹åˆ¥æä¾›å¤§ç´„6ä½åé€²åˆ¶æ•¸å­—çš„ç²¾åº¦ï¼Œé€™è¡¨ç¤ºå®ƒèƒ½æº–ç¢ºè¡¨ç¤ºå¤§ç´„6 ä½æœ‰æ•ˆæ•¸å­—ã€‚
explicitFloat = 4.1234567890123456789
print(explicitFloat)


//---------------Swiftæ²’æœ‰è‡ªå‹•è½‰å‹---------------
// å€¼æ°¸é ä¸æœƒè‡ªå‹•è½‰æ›ç‚ºå¦ä¸€ç¨®å‹åˆ¥ã€‚
// å¦‚æœæ‚¨éœ€è¦å°‡å€¼è½‰æ›ç‚ºå…¶ä»–å‹åˆ¥ï¼Œè«‹æ˜ç¢ºåœ°å»ºç«‹æ‰€éœ€å‹åˆ¥çš„å¯¦é«” (instance) ã€‚
let label = "12"                          // å®£å‘Šlabelå¸¸æ•¸ç‚ºStringå‹åˆ¥
let width = 94                            // å®£å‘Šwidthå¸¸æ•¸ç‚ºIntå‹åˆ¥
let widthLabel = label + String(width)    // "12" + "94" String()ç‚ºinitializeråˆå§‹åŒ–æ–¹æ³•
// String(  ) åˆå§‹åŒ–ä¸€å¡Šå­—ä¸²è¨˜æ†¶é«”é…ç½®ç©ºé–“ï¼Œå»ºç«‹ä¸€å€‹å¯¦é«”ï¼Œé‹ç®—å®Œå¾Œæœƒé‡‹æ”¾


let myTotal = Int(label)! + width


// ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹ä¸€æ®µçš„å­—ä¸²æ’å…¥èªæ³•è‡ªå‹•è½‰æ›é‹ç®—å¾Œçš„å‹åˆ¥ç‚ºå­—ä¸²
let widthLabel2: String = "The width is \(width)"


/*
ã€Šç·´ç¿’2ã€‹
å˜—è©¦å¾æœ€å¾Œä¸€è¡Œä¸­åˆªé™¤åˆ° String çš„è½‰æ›ã€‚ ä½ å¾—åˆ°äº†ä»€éº¼éŒ¯èª¤ï¼Ÿ
*/
// let widthLabel = label + width
// error: Binary operator '+' cannot be applied to operands of type 'String' and 'Int'
// operator: é‹ç®—å­ï¼é‹ç®—ç¬¦è™Ÿ
// operand: é‹ç®—å…ƒ (ç´ )


// æœ‰ä¸€å€‹æ›´ç°¡å–®çš„æ–¹æ³•ä¾†åœ¨å­—ä¸²ä¸­åŒ…å«å€¼: å°‡å€¼å¯«åœ¨å°æ‹¬è™Ÿä¸­ï¼Œä¸¦åœ¨æ‹¬è™Ÿå‰å¯«ä¸€å€‹åæ–œç·š (\)
// æ­¤æ–¹æ³•ç¨±åšå­—ä¸²æ’å€¼ï¼Œä¹Ÿå°±æ˜¯åœ¨å­—ä¸²è£¡é¢æ’å…¥å€¼
// ä¾‹å¦‚ï¼š
let apples = 3
let oranges = 5
let appleSummary = "I have \(apples) apples."
let fruitSummary = "I have \(apples + oranges) pieces of fruit."


/*
ã€Šç·´ç¿’3ã€‹
ä½¿ç”¨\()åœ¨å­—ä¸²ä¸­åŒ…å«æµ®é»æ•¸çš„è¨ˆç®— (BMI) ï¼Œä¸¦åœ¨å•å€™èªä¸­åŒ…å«æŸäººçš„åå­—å’Œä»–çš„BMIã€‚
å•å€™èª XXX ä½ å¥½ï¼šä½ çš„BMIæ˜¯23.66
BMI é«”é‡ (å…¬æ–¤) / èº«é«˜ (å…¬å°º) å¹³æ–¹
Operatorï¼š+ (åŠ æ³•)  - (æ¸›æ³•)  * (ä¹˜æ³•)  / (é™¤æ³•å–å•†æ•¸)  % (é™¤æ³•å–é¤˜æ•¸)
*/
let myName = "Perkin"
let myWeight = 61.0
let myHeight = 1.67
let message = "\(myName)ä½ å¥½ï¼šä½ çš„BMIæ˜¯\(myWeight/(myHeight*myHeight))"
print(message)
print(myWeight/(myHeight*myHeight))
// åŸ·è¡Œå­—ä¸²æ ¼å¼åŒ–æ–¹æ³•ï¼ŒæŒ‡å®šå–ä½çš„å°æ•¸ä½æ•¸ (å››æ¨å…­å…¥äº”æˆé›™)
String(format: "%@ä½ å¥½ï¼šä½ çš„BMIæ˜¯%.2f", myName, myWeight/(myHeight*myHeight))


//-------------<è£œå……>å‘½åè¦å‰‡-------------
/*
æ‰€æœ‰çš„å‹åˆ¥ï¼Œå»ºè­°ä½¿ç”¨å¤§å¯«é–‹é ­çš„é§å³°å¼ (Upper Camel Case) å‘½åæ³•ä¾†å‘½åï¼Œç¾æœ‰çš„å‹åˆ¥åŒ…å«ï¼šInt, String, Double, Float éƒ½ä½¿ç”¨å¤§å¯«é–‹é ­ã€‚
æ³¨æ„ï¼šSwiftä¸­å”¯ä¸€æœƒçœ‹åˆ°å¤§å¯«é–‹é ­çš„å‘½åï¼Œåªæœ‰å‹åˆ¥ (Type) ï¼
é™¤äº†å‹åˆ¥ä¹‹å¤–çš„å‘½åï¼Œä¸€å¾‹ä½¿ç”¨å°å¯«é–‹é ­çš„é§å³°å¼ (lower Camel Case) å‘½åæ³•ä¾†å‘½åã€‚
*/
//---------------------------------------


// å¯ä»¥ä½¿ç”¨å‰å¾Œä¸€å°çš„"ä¸‰å€‹é›™å¼•è™Ÿ"ä¾†æ¨™ç¤ºå­—ä¸²ï¼Œ
// å…¶ä¸­å¯ä»¥åŒ…å«æ›è¡Œã€ç©ºç™½è¡Œã€" (å…©å€‹ä»¥ä¸‹çš„é›™å¼•è™Ÿ) ã€å­—ä¸²æ’å…¥ã€‚
// æ³¨æ„ï¼šå‰å¾Œçš„ä¸‰å€‹é›™å¼•è™Ÿå¿…é ˆç¨ç«‹ä¸€è¡Œï¼
let quotation = """
        Even though there's whitespace to the left,
        the actual lines aren't indented.
            Except for this line.
        Double quotes ("") can appear without being escaped.
        I still have \(apples + oranges) pieces of fruit.
        """
print(quotation)


//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ      â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ      â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ


//===============é›†åˆå‹åˆ¥ (Collection Types) /Compound value (è¤‡åˆå€¼) ===============
/*
 Swiftæä¾›äº†ä¸‰ç¨®ä¸»è¦é›†åˆå‹åˆ¥ï¼Œç¨±ç‚ºé™£åˆ—(array)ã€é›†åˆ(set)å’Œå­—å…¸(dictionary)ï¼Œç”¨æ–¼å„²å­˜"å€¼çš„é›†åˆ"ã€‚
 é™£åˆ—æ˜¯æœ‰é †åºå€¼çš„é›†åˆã€‚ é›†åˆ (set) æ˜¯å”¯ä¸€å€¼çš„ç„¡åºé›†åˆã€‚ å­—å…¸æ˜¯éµå€¼ (key-value) é—œè¯çš„ç„¡åºé›†åˆã€‚
*/
/*
{}å¤§æ‹¬è™Ÿï¼èŠ±æ‹¬è™Ÿ
[]ä¸­æ‹¬è™Ÿï¼æ–¹æ‹¬è™Ÿ
()å°æ‹¬è™Ÿï¼åœ“æ‹¬è™Ÿ
*/
// ä½¿ç”¨ä¸­æ‹¬è™Ÿå»ºç«‹é™£åˆ—å’Œå­—å…¸ ([]) ï¼Œä¸¦é€éåœ¨ä¸­æ‹¬è™Ÿä¸­å¯«ä¸Šç´¢å¼•æˆ–éµä¾†å­˜å–å®ƒå€‘çš„å…ƒç´ ã€‚
// æœ€å¾Œä¸€å€‹å…ƒç´ å¾Œå…è¨±ä½¿ç”¨é€—è™Ÿã€‚



// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ      â–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ      â–ˆ          â–ˆâ–ˆ     â–ˆâ–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ      â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ           â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//
//  
//
//  â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆ â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
// â–ˆ   â–ˆ  â–ˆ â–ˆ    â–ˆ â–ˆ    â–ˆ   â–ˆ    â–ˆ
// â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ


//------------------------é™£åˆ—------------------------
// ä½¿ç”¨ä¸­æ‹¬è™Ÿå»ºç«‹é™£åˆ—
// æœ€å¾Œä¸€å€‹å…ƒç´ å¾Œå…è¨±ä½¿ç”¨é€—è™Ÿ
var fruits = ["strawberries", "limes", "tangerines",]
//"è®€å–"é™£åˆ—çš„å…ƒç´ ï¼Œä½¿ç”¨ä¸­æ‹¬è™Ÿï¼Œåœ¨å…¶ä¸­çµ¦å®šå¾ 0 èµ·ç®—çš„ç´¢å¼•å€¼ (index)
fruits[0]
fruits[1]
fruits[2]


// fruits[3]     // error: Execution was interrupted (åŸ·è¡Œéšæ®µéŒ¯èª¤ï¼ŒAppæœƒé–ƒé€€)


// è§€å¯Ÿé™£åˆ—çš„å…ƒç´ å€‹æ•¸
fruits.count

// åœ¨é™£åˆ—ä¸­çš„å°¾ç«¯æ–°å¢å…ƒç´ 
fruits.append("apple")
fruits.append("blueberries")

print(fruits)
fruits.count

fruits[3]  // å› ç‚ºå·²ç¶“ç”¨ append æ–°å¢å…ƒç´ ï¼Œæ‰€ä»¥æ­¤æ™‚ä¸æœƒå‡ºéŒ¯äº†

// ä»¥ç¾æœ‰çš„ç´¢å¼•å€¼ä¾†"ä¿®æ”¹"é™£åˆ—å…ƒç´ 
fruits[1] = "grapes"

fruits // ["strawberries", "grapes", "tangerines", "apple", "blueberries"]

// ç§»é™¤æŒ‡å®šä½ç½®çš„é™£åˆ—å…ƒç´ 
fruits.remove(at: 2)
fruits // ["strawberries", "grapes", "apple", "blueberries"]


// è£œå……ï¼š
// swift çš„ API Design Guidelines
// æœ‰è§£é‡‹äº†ç‚ºä»€éº¼ä½¿ç”¨ fruits.remove(at: 2) è€Œä¸æ˜¯ fruits.remove(2)
// https://www.swift.org/documentation/api-design-guidelines/#naming


let myFruits = fruits[0] + "," + fruits[2]
// å­—ä¸²è½‰å¤§å¯«ï¼Œå®ƒä¸æœƒä¿®æ”¹åˆ°åŸæœ¬ myFrtuis çš„å€¼
myFruits.uppercased()  // "STRAWBERRIES,APPLE"
myFruits               // "strawberries,apple"


// ä¸²æ¥é™£åˆ—(ä¸ä½¿ç”¨åˆ†éš”ç¬¦è™Ÿ)
let concatenatedFruits1 = fruits.joined()
concatenatedFruits1


// ä¸²æ¥é™£åˆ—(ä½¿ç”¨åˆ†éš”ç¬¦è™Ÿ)
let concatenatedFruits2 = fruits.joined(separator: "/")
concatenatedFruits2


let vegetables = ["å°é»ƒç“œ","é«˜éº—èœ"]
// å…©å€‹é™£åˆ—çš„ä¸²æ¥
let concatenatedArray = fruits + vegetables
concatenatedArray


// é™£åˆ—å…ƒç´ ä½ç½®çš„å°èª¿ï¼Œå®ƒæ˜¯ç›´æ¥å°åŸæœ¬çš„é™£åˆ—åšä¿®æ”¹
fruits.swapAt(0, 2)


// åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ 
fruits.insert("orange", at: 1)


// <æ–¹æ³•ä¸€>æ¸…ç©ºé™£åˆ—
fruits = []


// <æ–¹æ³•äºŒ>æ¸…ç©ºé™£åˆ—
fruits.removeAll()


// æ¸…ç©ºé™£åˆ—é¸æ“‡å“ªç¨®æ–¹æ³•
// å¦‚æœæ•ˆèƒ½ä¸æ˜¯é—œéµå•é¡Œï¼Œä¸¦ä¸”ä½ æƒ³è¦ç°¡å–®åœ°æ¸…ç©ºé™£åˆ—ï¼Œå¯ä»¥ä½¿ç”¨ array = []ã€‚
// å¦‚æœæ•ˆèƒ½å¾ˆé‡è¦ï¼Œæˆ–è€…ä½ æƒ³è¦ç¢ºä¿æ‰€æœ‰å¼•ç”¨éƒ½å—åˆ°å½±éŸ¿ï¼Œå»ºè­°ä½¿ç”¨ array.removeAll()ã€‚
// å¦‚æœé™£åˆ—å¾ˆå¤§ï¼Œä¸¦ä¸”ä½ å¸Œæœ›ä¿ç•™é™£åˆ—çš„å®¹é‡ï¼Œè«‹ä½¿ç”¨ array.removeAll(keepingCapacity: true)ã€‚
//
// ç¸½çµï¼š
// array = []ï¼šé‡æ–°è³¦å€¼ï¼Œå»ºç«‹æ–°çš„ç©ºé™£åˆ—å¯¦ä¾‹ã€‚
// array.removeAll()ï¼šç›´æ¥ç§»é™¤æ‰€æœ‰å…ƒç´ ï¼Œä¿ç•™é™£åˆ—å®¹é‡ã€‚
// åœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹ï¼Œarray.removeAll() æ˜¯æ›´æ¨è–¦çš„æ–¹æ³•ï¼Œç‰¹åˆ¥æ˜¯åœ¨éœ€è¦è€ƒæ…®æ•ˆèƒ½çš„æƒ…æ³ä¸‹ã€‚



// <æ–¹æ³•ä¸€>å®£å‘Šç©ºé™£åˆ—
var emptyArray1 = [String]()
// <æ–¹æ³•äºŒ>å®£å‘Šç©ºé™£åˆ— (å®˜æ–¹æ•™æä½¿ç”¨æ­¤æ³•)
var emptyArray2: [String] = []
// <æ–¹æ³•ä¸‰>å®£å‘Šç©ºé™£åˆ—
var emptyArray3 = Array<String>()


// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ
// â–ˆ   â–ˆ    â–ˆ    â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆ â–ˆ
// â–ˆ   â–ˆ    â–ˆ    â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ
// â–ˆ   â–ˆ    â–ˆ    â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ    â–ˆ



//------------------------å­—å…¸------------------------
// å»ºç«‹å­—å…¸ä½¿ç”¨[:]ï¼Œå…¶ä¸­çš„å­—å…¸çš„å…ƒç´ ä»¥ key:value çš„æ ¼å¼å»ºç«‹
// åœ¨è³‡æ–™çš„çµå°¾å…è¨±é€—è™Ÿçš„å­˜åœ¨
// ä¸€èˆ¬é›†åˆçš„å‘½åç‚ºæ˜¯è¤‡æ•¸å‹æ…‹ï¼Œåƒé€™é‚Šå°±æ˜¯åœ¨å¾Œé¢åŠ s
var occupations = [
    "Malcolm": "Captain",
    "Kaylee": "Mechanic",
]


// ç¢ºèªå­—å…¸æœ‰å¹¾ç­†è³‡æ–™
occupations.count


// æŸ¥è©¢å­—å…¸ï¼Œç•¶ key ä¸å­˜åœ¨æ™‚ï¼Œå›å ± nil (Null)ç©ºå€¼
occupations["kaylee"]


// æŸ¥è©¢å­—å…¸ï¼Œç•¶ key å­˜åœ¨æ™‚ï¼Œå›å‚³ value
occupations["Kaylee"]


// åœ¨å­—å…¸ä¸­ã€æ–°å¢ã€ä¸€ç­†"éµå€¼é…å°" (key-value pair)
occupations["Perkin"] = "Teacher"
occupations
occupations["Jayne"] = "Public Relations"
occupations


// <æ–¹æ³•ä¸€>ä»¥ç¾å­˜çš„ key ä¾†ä¿®æ”¹å­—å…¸çš„ value
occupations["Kaylee"] = "å·¥ç¨‹å¸«"
occupations

// <æ–¹æ³•äºŒ>ä½¿ç”¨å­—å…¸çš„æ–¹æ³•ï¼Œä»¥ç¾å­˜çš„ key ä¾†ä¿®æ”¹å­—å…¸çš„ value
occupations.updateValue("èˆ¹é•·", forKey: "Malcolm")
occupations


// ç§»é™¤å­—å…¸ï¼Œå¦‚æœ Key ä¸å­˜åœ¨ä¸æœƒè§¸ç™¼åŸ·è¡Œéšæ®µéŒ¯èª¤ï¼Œæœƒå›å ±ç‚º nil(NULL) ç©ºå€¼
occupations.removeValue(forKey: "Perkin1")
occupations
occupations.removeValue(forKey: "Perkin")
occupations


// <æ–¹æ³•ä¸€>æ¸…ç©ºå­—å…¸
occupations = [:]

// <æ–¹æ³•äºŒ>æ¸…ç©ºå­—å…¸
occupations.removeAll()


// <æ–¹æ³•ä¸€>å®£å‘Šç©ºå­—å…¸ (æœ€å¸¸ç”¨)
var emptyDictionary1 = [String: Float]()
// <æ–¹æ³•äºŒ>å®£å‘Šç©ºå­—å…¸ (ä¸å»ºè­°)
var emptyDictionary2: [String: Float] = [:]
// <æ–¹æ³•ä¸‰>å®£å‘Šç©ºå­—å…¸
var emptyDictionary3 = Dictionary<String,Float>()
emptyDictionary3["First"] = 1.11
emptyDictionary3["Second"] = 2
emptyDictionary3

//
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ        â–ˆ
//  â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
//     â–ˆ  â–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
//

//-----------------------é›†åˆ (Set) ------------------------------
//.........é›†åˆå‹åˆ¥çš„é›œæ¹Šå€¼ (Hash Values for Set Types) ............
/*
 é›œæ¹Š (Hash) æ˜¯ä¸€ç¨®å°‡ä»»æ„è¼¸å…¥çš„è³‡æ–™è½‰æ›ç‚ºå°æ‡‰è­˜åˆ¥å€¼è¼¸å‡ºçš„æ¼”ç®—æ³•ã€‚
 é›œæ¹Šå€¼å°±åƒæ˜¯è¼¸å…¥è³‡æ–™çš„ã€ŒæŒ‡ç´‹ã€ï¼Œå¯ä»¥ç”¨ä¾†å¿«é€Ÿè­˜åˆ¥è³‡æ–™ã€‚
 
 å‹åˆ¥å¿…é ˆæ˜¯å¯é›œæ¹Šçš„ï¼Œæ‰èƒ½å„²å­˜åœ¨é›†åˆä¸­â€”â€”å³ï¼Œå‹åˆ¥å¿…é ˆæä¾›ä¸€ç¨®è¨ˆç®—é›œæ¹Šå€¼çš„æ–¹æ³•ã€‚
 é›œæ¹Šå€¼æ˜¯ä¸€å€‹Intå€¼ï¼Œå°æ–¼æ‰€æœ‰æ¯”è¼ƒç›¸ç­‰çš„ç‰©ä»¶éƒ½æ˜¯ç›¸åŒçš„ï¼Œ
 å› æ­¤ï¼Œå¦‚æœ a == bï¼Œå‰‡ a çš„é›œæ¹Šå€¼ç­‰æ–¼ b çš„é›œæ¹Šå€¼ã€‚


 Swiftçš„æ‰€æœ‰åŸºæœ¬å‹åˆ¥ (å¦‚Stringã€Intã€Doubleå’ŒBool) é è¨­æ˜¯å¯é›œæ¹Šçš„ï¼Œ
 ä¸¦ä¸”å¯ä»¥ç”¨ä½œé›†åˆçš„å€¼æˆ–å­—å…¸çš„éµã€‚


  (æ³¨æ„ï¼šã€è‡ªå®šå‹åˆ¥ã€è‹¥æ²’æœ‰é›œæ¹Šå€¼ï¼Œå°±ä¸èƒ½ç•¶ä½œé›†åˆçš„å€¼æˆ–å­—å…¸çš„éµã€‚
 æ‚¨å¯ä»¥é€éä½¿æ‚¨è‡ªå·±çš„ã€è‡ªå®šå‹åˆ¥ã€ç¬¦åˆ Swift æ¨™æº–å‡½å¼åº«ä¸­çš„ Hashable å”å®š
 ä¾†å°‡å®ƒå€‘ç”¨ä½œé›†åˆçš„å€¼æˆ–å­—å…¸çš„éµã€‚)
*/


// é©—è­‰ç›¸åŒå€¼çš„æƒ…æ³ä¸‹ï¼Œé›œæ¹Šå€¼ç›¸åŒ
/*
let label = "12"    // å®£å‘Šlabelå¸¸æ•¸ç‚ºStringå‹åˆ¥
print(label.hashValue)
print("12".hashValue)
let width = 94
print(width.hashValue)
print(94.hashValue)
*/

// å»ºç«‹ä¸€å€‹ Character å‹åˆ¥çš„ç©ºé›†åˆ
var letters: Set<Character> = Set<Character>()
// ç¢ºèªé›†åˆçš„ç­†æ•¸
print("letters is of type Set<Character> with \(letters.count) items.")


// åœ¨é›†åˆä¸­åŠ å…¥ä¸€ç­†è³‡æ–™
letters.insert("a")
// letters now contains 1 value of type Character


// ç¢ºèªé›†åˆçš„ç­†æ•¸
print("letters is of type Set<Character> with \(letters.count) items.")


// ç•¶é›†åˆçš„å‹åˆ¥å·²çŸ¥æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ç©ºé™£åˆ—çš„èªæ³•å°‡é›†åˆæ¸…ç©º
letters = []
// letters is now an empty set, but is still of type Set<Character>


// ä»¥é™£åˆ—çš„åˆ—ç¤ºèªæ³•å¯ä»¥å»ºç«‹é›†åˆï¼Œä½†å¿…é ˆæ˜ç¢ºæŒ‡å®šç‚ºé›†åˆå‹åˆ¥
//  (å¯¦éš›ä¸ŠèƒŒæ™¯æ˜¯ä»¥æœ‰åºçš„é™£åˆ—ä¾†æ¨¡æ“¬å‡ºç„¡åºçš„é›†åˆ)
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres has been initialized with three initial items


/*
 ä»¥é™£åˆ—çš„åˆ—ç¤ºèªæ³•å¯ä»¥å»ºç«‹é›†åˆï¼Œä½†å¿…é ˆæ˜ç¢ºæŒ‡å®šç‚ºé›†åˆå‹åˆ¥
  (é›†åˆå‹åˆ¥ä¸­æ²’æœ‰ä»¥<String>æ˜ç¢ºæŒ‡å‡ºé›†åˆçš„å‹åˆ¥ï¼Œå› ç‚ºé™£åˆ—æ‰€æœ‰å…ƒç´ çš„å‹åˆ¥çš†ç›¸åŒï¼Œé›†åˆçš„å‹åˆ¥å¯ä»¥ä½¿ç”¨é™£åˆ—å‹åˆ¥æ¨æ¸¬)
*/
var favoriteGenres2: Set = ["Rock", "Classical", "Hip hop"]
// favoriteGenres = []
if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}


// åœ¨é›†åˆä¸­æ–°å¢è³‡æ–™
favoriteGenres.insert("Jazz")
print(favoriteGenres.count)


// åˆªé™¤é›†åˆä¸­å­˜åœ¨çš„è³‡æ–™
favoriteGenres.remove("Rock")
print(favoriteGenres.count)


// åˆªé™¤é›†åˆä¸­ä¸å­˜åœ¨çš„è³‡æ–™ï¼Œå›å ±ç‚º nil
favoriteGenres.remove("XYZ")


// æª¢æŸ¥é›†åˆä¸­æ˜¯å¦åŒ…å«ç‰¹å®šè³‡æ–™
if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}


print("ä»¥ä¸‹åˆ—å°é›†åˆ")
// ä»¥ for è¿´åœˆåˆ—å‡º[é›†åˆ]ä¸­çš„è³‡æ–™
for genre in favoriteGenres {
    print("\(genre)")
}


// å°é›†åˆåŸ·è¡Œæ’åºï¼Œå³å¯å–å¾—ä»¥é›†åˆå…ƒç´ ç”±å°åˆ°å¤§æ’åºéå¾Œçš„"é™£åˆ—"
let sortedFavoriteGenres = favoriteGenres.sorted()
print("ä»¥ä¸‹åˆ—å°é™£åˆ—")
// ä»¥ for è¿´åœˆåˆ—å‡ºé›†åˆæ’åºéå¾Œçš„[é™£åˆ—]è³‡æ–™
for genre in favoriteGenres.sorted() {
    print("\(genre)")
}

//
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ             â–ˆ      â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆ             â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ    â–ˆ    â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ             â–ˆ      â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
//

//===================æµç¨‹æ§åˆ¶ (Control Flow) ===================
/*
 æµç¨‹æ§åˆ¶çš„æ‰‹æ³•ï¼š
 1.ä»¥æ¢ä»¶åˆ¤æ–·å¼ä¾†åˆ¤æ–·"ç¨‹å¼å€æ®µ" (ä»¥{}æ¡†é¸å‡ºä¾†çš„ç¯„åœscope) æ˜¯å¦éœ€è¦åŸ·è¡Œ
 2.ä»¥è¿´åœˆé‡è¤‡åŸ·è¡Œç‰¹å®šçš„"ç¨‹å¼å€æ®µ" (ä»¥{}æ¡†é¸å‡ºä¾†çš„ç¯„åœscope) ï¼Œç›´åˆ°æ¢ä»¶ä¸æ»¿è¶³ç‚ºæ­¢ï¼Œæ‰æœƒé›¢é–‹è¿´åœˆ
*/

/*
 1.ä½¿ç”¨ifå’Œswitchå»ºç«‹æ¢ä»¶åˆ¤æ–·å¼
 2.ä½¿ç”¨for-inã€whileå’Œrepeat-whileå»ºç«‹è¿´åœˆã€‚
 æ³¨æ„ï¼šæ¢ä»¶åˆ¤æ–·å¼æˆ–è¿´åœˆå¸¸æ•¸å‘¨åœçš„å°æ‹¬è™Ÿ (Parentheses) æ˜¯å¯ä»¥çœç•¥çš„ (optional) ã€‚
      ä»¥{}æ¡†é¸å‡ºä¾†çš„åŸ·è¡Œç¯„åœscopeï¼Œä¸èƒ½çœç•¥å¤§æ‹¬è™Ÿ{}ã€‚
*/
//å®£å‘Šå…¨åŸŸçš„åˆ†æ•¸é™£åˆ— (global array)
let individualScores = [75, 43, 103, 87, 12]
//å®£å‘Šå…¨åŸŸçš„åœ˜é«”åˆ†æ•¸
var teamScore = 0
//ä»¥for-inè¿´åœˆåˆ—å‡ºé™£åˆ—
for score in individualScores  //æ¯æ¬¡è¿´åœˆä¾åºå–å¾—ä¸€å€‹é™£åˆ—çš„å…ƒç´ ï¼Œä»£å…¥scoreå¸¸æ•¸ (å€åŸŸå¸¸æ•¸)
{
    if score > 50  //Boolã€Boolean å¸ƒæ—å€¼åˆ¤æ–·å¼ (ifå¿…é ˆé…åˆæ¯”è¼ƒæ“ä½œï¼Œå¦‚ï¼š>ã€<ã€>=ã€<=ã€==ã€!=)
        //ä¸²æ¥ä¸åŒçš„åˆ¤æ–·æ¢ä»¶åœ¨åŒä¸€å€‹åˆ¤æ–·å¼ï¼Œå¯ä»¥ä½¿ç”¨|| (or) && (and)
    {
        teamScore += 3
        //        teamScore = teamScore + 3
    } else {
        teamScore += 1
        //        teamScore = teamScore + 1
    }
}
print(teamScore)

// æ‚¨å¯ä»¥åœ¨è¨­å€¼çš„ç­‰è™Ÿä¹‹å¾Œæ’°å¯« if æˆ– switchï¼Œä¾†æ ¹æ“šæ¢ä»¶é¸æ“‡ä¸€å€‹å€¼é€²è¡Œå¸¸æ•¸æˆ–è®Šæ•¸çš„è¨­å®šã€‚
let scoreDecoration =
    if teamScore > 10 {
        "ğŸ‰"
    } else {
        ""
    }
// ä¸²æ¥å…¶ä»–å­—ä¸²é€²è¡Œåˆ—å°
print("Score:", teamScore, scoreDecoration)

// error: C-style for statement has been removed in Swift 3
// å‚³çµ±çš„forè¿´åœˆç›®å‰å·²ç¶“ä¸å…ä½¿ç”¨åœ¨Swiftèªæ³•ä¸­
/*
for(i=0;i<individualScores.count-1;i++)
{
    individualScores[i]
}
*/

// <è£œå……>for-inè¿´åœˆæ­£è½‰ï¼Œæ¯æ¬¡åŠ 1 (åŒ…å«ä¸Šæ¨™)
for i in 0...individualScores.count - 1  //[0,1,2,3,4]
{
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆæ­£è½‰ï¼Œæ¯æ¬¡åŠ 1 (ä¸å«ä¸Šæ¨™)
for i in 0..<individualScores.count  //[0,1,2,3,4]
{
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆåè½‰ï¼Œæ¯æ¬¡æ¸›1 (åŒ…å«ä¸Šæ¨™)
for i in (0...individualScores.count - 1).reversed()  //[4,3,2,1,0]
{
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆåè½‰ï¼Œæ¯æ¬¡æ¸›1 (ä¸å«ä¸Šæ¨™)
for i in (0..<individualScores.count).reversed()  //[4,3,2,1,0]
{
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆæ­£è½‰ï¼Œæ¯æ¬¡åŠ 2 (åŒ…å«ä¸Šæ¨™)
for i in stride(from: 0, through: individualScores.count - 1, by: 2) {
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆæ­£è½‰ï¼Œæ¯æ¬¡åŠ 2 (ä¸å«ä¸Šæ¨™)
for i in stride(from: 0, to: individualScores.count, by: 2) {
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆåè½‰ï¼Œæ¯æ¬¡æ¸›2 (åŒ…å«ä¸Šæ¨™)
for i in stride(from: individualScores.count - 1, through: 0, by: -2) {
    i
    individualScores[i]
}

// <è£œå……>for-inè¿´åœˆåè½‰ï¼Œæ¯æ¬¡æ¸›2 (ä¸å«ä¸Šæ¨™)
for i in stride(from: individualScores.count - 1, to: -1, by: -2) {
    i
    individualScores[i]
}
//-------------------------------------------------------------------

//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ      â–ˆ          â–ˆâ–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ           â–ˆ    â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//
//  
//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ    â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ   â–ˆ  â–ˆ
// â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ
// â–ˆ   â–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ        â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//

//----------é¸æ“‡å€¼å’Œé¸æ“‡æ€§å‹åˆ¥ (Optional value & Optional Type) ----------
/*
æ‚¨å¯ä»¥ä½¿ç”¨ifå’Œletä¸€èµ·è™•ç†å¯èƒ½ç¼ºå¤±çš„å€¼ã€‚ (æ­¤èªæ³•ç‚ºoptional binding)
é€™äº›å¯èƒ½ç¼ºå¤±çš„å€¼è¡¨ç¤ºç‚ºé¸æ“‡å€¼ (optionals) ã€‚
é¸æ“‡å€¼å¯èƒ½åŒ…å«ä¸€å€‹å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯nil (ç©ºå€¼) ã€‚
é¸æ“‡å€¼å¿…é ˆæ˜ç¢ºå®£å‘Šï¼Œåœ¨å‹åˆ¥ä¹‹å¾ŒåŠ ä¸Šä¸€å€‹å•è™Ÿ (ï¼Ÿ) ã€‚
*/
//å®£å‘Šéé¸æ“‡æ€§å‹åˆ¥ (å¯ä»¥ä¸æ˜ç¢ºå‹åˆ¥ï¼Œæ¡ç”¨å‹åˆ¥æ¨æ¸¬æ©Ÿåˆ¶ Type Inference)
var noneOptionalString = "test"
var noneOptionalString2: String  // æ­£å¸¸æƒ…æ³éé¸æ“‡å€¼ä¸èƒ½æ²’æœ‰å€¼
//print(noneOptionalString2)
// error: Variable 'noneOptionalString2' used before being initialized
// ä»¥ä¸Š noneOptionalString2 å› ç‚ºéé¸æ“‡å€¼æ²’æœ‰çµ¦å€¼ï¼Œæ‰€ä»¥ç„¡æ³•é…ç½®åˆ°è¨˜æ†¶é«”ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨

//å®£å‘Šä¸€å€‹optionalStringæ˜¯Stringå‹åˆ¥çš„åŒ…è£ç›’
var optionalString: String?  //æ­£å¸¸æƒ…æ³é¸æ“‡å€¼å¯ä»¥æ²’æœ‰å€¼ï¼Œè€Œä¸”å·²ç¶“é…ç½®é€²å»è¨˜æ†¶é«”ä¸­ï¼Œæ‰€ä»¥æ²’æœ‰å€¼ (nil) æ™‚ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨
optionalString = "Hello"  //å°‡å­—ä¸²æ”¾å…¥Stringå‹åˆ¥çš„åŒ…è£ç›’ä¸­
optionalString
//æ²’æœ‰æ‹†é–‹åŒ…è£å°±ä½¿ç”¨ï¼Œæœƒçœ‹åˆ°Optionalçš„åŒ…è£ç›’
//print(optionalString)
//ä½¿ç”¨!æ‹†é–‹åŒ…è£ (forced unwrapå¼·åˆ¶æ‹†å°)
print(optionalString!)

let myString1 = optionalString  //String?å‹åˆ¥ (optional typeï¼Œé¸æ“‡å€¼å¯ä»¥æ²’æœ‰å€¼)
var myString2 = optionalString!  //Stringå‹åˆ¥ (éé¸æ“‡å€¼ï¼Œæ°¸é è¦æœ‰å€¼)
//å°‡StringåŒ…è£ç›’æ¸…ç©º
//optionalString = nil
optionalString
//ç•¶åŒ…è£ç›’ç‚ºç©ºå€¼æ™‚ï¼Œä¸å¯ä»¥å¼·åˆ¶æ‹†å°
//optionalString!       //error: Execution was interrupted

print(optionalString == nil)

//<æ–¹æ³•ä¸€>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šè‡ªè¡Œæª¢æŸ¥åŒ…è£ç›’æ˜¯å¦ç‚ºç©ºï¼Œå†æ±ºå®šè¦ä¸è¦å¼·åˆ¶æ‹†å°
if optionalString == nil {
    print("optionalStringç‚ºnil")
} else {
    print("optionalStringçš„å€¼æ˜¯\(optionalString!)")
}

if optionalString != nil {
    print("optionalStringçš„å€¼æ˜¯\(optionalString!)")
} else {
    print("optionalStringç‚ºnil")
}

var optionalName: String? = "John Appleseed"
var greeting2 = "Hello!"

// å…ˆæ¯”è¼ƒ<æ–¹æ³•ä¸€>çš„åšæ³•
if optionalName != nil {
    greeting2 = "Hello, \(optionalName!)"
}

// <æ–¹æ³•äºŒ>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šä½¿ç”¨é¸æ“‡æ€§ç¶å®š (optional binding)
if let name = optionalName  //å°‡é¸æ“‡å€¼æ‹†å°éå¾Œï¼Œç¶å®šåˆ°éé¸æ“‡å€¼çš„name (ç¶å®šæˆåŠŸè‡ªå‹•æ‹†å°)
{
    greeting2 = "Hello, \(name)"
}

//ã€Šç·´ç¿’4ã€‹å°‡optionalNameæ›´æ”¹ç‚ºnilã€‚ ä½ å¾—åˆ°äº†ä»€éº¼å•å€™ï¼Ÿ å¦‚æœoptionalNameç‚ºnilè«‹æ–°å¢ä¸€å€‹elseå­å¥ï¼Œè¨­å®šä¸åŒçš„å•å€™èªã€‚
optionalName = nil
if let name = optionalName  //å°‡é¸æ“‡å€¼æ‹†å°éå¾Œï¼Œç¶å®šåˆ°éé¸æ“‡å€¼çš„name (ç¶å®šæˆåŠŸè‡ªå‹•æ‹†å°)
{
    greeting2 = "Hello, \(name)"
} else  //ç•¶é¸æ“‡å€¼ç‚ºnilï¼Œå‰‡ç¶å®šå¤±æ•—ï¼ŒåŸ·è¡Œelseæ®µ
{
    greeting2 = "Hello, everyone!"
}

// <æ–¹æ³•ä¸‰>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šä½¿ç”¨ã€??é‹ç®—ç¬¦è™Ÿã€ (ç©ºå€¼èšåˆé‹ç®—ç¬¦ Nil-Coalescing Operator)
/*
 a ?? b (ç°¡åŒ–èªæ³•)
 a != nil ? a! : b (å®Œæ•´èªæ³•)
*/
// è™•ç†é¸æ“‡å€¼çš„å¦ä¸€ç¨®æ–¹æ³•æ˜¯ä½¿ç”¨??é‹ç®—ç¬¦è™Ÿä¾†æä¾›é è¨­å€¼ã€‚å¦‚æœç¼ºå°‘é¸æ“‡å€¼ (nil) ï¼Œå‰‡ä½¿ç”¨é è¨­å€¼ã€‚
var nickname: String?  //= nil
let fullName: String = "John Appleseed"
nickname = "Apple"
let informalGreeting = "Hi \(nickname ?? fullName)"  //èªæ³•æ ¼å¼ï¼šé¸æ“‡å€¼ ?? éé¸æ“‡å€¼ (é è¨­å€¼)
let informalGreeting2 = "Hi \(nickname != nil ? nickname! : fullName)"

// <æ–¹æ³•å››>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šä½¿ç”¨é¸æ“‡æ€§ç¶å®š (optional binding) çš„ç°¡åŒ–èªæ³•
// é¸æ“‡æ€§ç¶å®šçš„å®Œæ•´èªæ³•
if let nickname = nickname {
    print("Hey, \(nickname)")
}

// é¸æ“‡æ€§ç¶å®šçš„ç°¡åŒ–èªæ³•ï¼šé¸æ“‡æ€§ç¶å®šèªæ³•ä¸­çš„å¸¸æ•¸å‘½åèˆ‡é¸æ“‡å€¼ä¸€è‡´æ™‚ï¼Œå¯ä»¥çœç•¥ç­‰è™Ÿä¹‹å¾Œçš„èªæ³•
if let nickname  //= nickname
{
    print("Hey, \(nickname)")
}


//
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ    â–ˆ      â–ˆ    â–ˆ      â–ˆ   â–ˆ
//  â–ˆâ–ˆâ–ˆ   â–ˆ â–ˆ â–ˆ    â–ˆ      â–ˆ    â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ    â–ˆ      â–ˆ    â–ˆ      â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ     â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
//

// switch æ”¯æ´ä»»ä½•å‹åˆ¥çš„è³‡æ–™å’Œå„ç¨®æ¯”è¼ƒæ“ä½œâ€”â€”å®ƒå€‘ä¸åƒ…é™æ–¼æ•´æ•¸å’Œç›¸ç­‰å¼æ¸¬è©¦ã€‚
let vegetable = "red pepper"
// æª¢æ¸¬vegetableå…§å®¹
switch vegetable
{
case "celery":  //ç›¸ç­‰å¼æ¸¬è©¦ï¼šæ¸¬è©¦å…¶å€¼æ˜¯å¦å®Œå…¨ç­‰åŒæ–¼"celery"
    print("Add some raisins and make ants on a log.")
//        break     //Swiftä¸éœ€è¦åœ¨æ¯ä¸€æ®µcaseçš„æœ€å¾Œä¸€è¡Œæ’°å¯«breakæŒ‡ä»¤ï¼Œä¸€ä½†caseä¸­çš„ç¨‹å¼åŸ·è¡Œå®Œæˆæœƒè‡ªå‹•é›¢é–‹
case "cucumber", "watercress":  //oræ¸¬è©¦
    print("That would make a good tea sandwich.")
//        break
case let x where x.hasSuffix("pepper"):  //å…ˆå°‡è¦æ¯”å°çš„vegetableä»£å…¥xå¸¸æ•¸ï¼Œä»¥whereæ¢ä»¶å¼æ¯”å°ç‹€æ³æ˜¯å¦ç¬¦åˆ
    // (åŒ…å«å¤§æ–¼å°æ–¼ç­‰éç›¸ç­‰ç‹€æ…‹ï¼Œéƒ½å¿…éœ€ä»¥whereæ¢ä»¶å¼é€²è¡Œæ¯”å°)
    print("Is it a spicy \(x)?")
//        break
default:
    //ç•¶å‰é¢çš„caseç„¡æ³•ä¿è­‰å¯ä»¥æ””æˆªå¾—åˆ°æ™‚ï¼Œä¸€å®šè¦åœ¨æœ€å¾ŒåŠ ä¸Šdafaultæ®µæ””æˆªå‰©é¤˜ç‹€æ³
    print("Everything tastes good in soup.")
}

//ã€Šç·´ç¿’5ã€‹
// å˜—è©¦ç§»é™¤defaultæ®µã€‚ä½ æœƒçœ‹åˆ°äº†ä»€éº¼éŒ¯èª¤ï¼Ÿ
// error: Switch must be exhaustive

// Switch caseçš„å…¶ä»–åƒè€ƒç¯„ä¾‹
let approximateCount = 62
let countedThings = "moons orbiting Saturn"
let naturalCount: String
switch approximateCount
{
case 0:
    naturalCount = "no"
case 1..<5:
    naturalCount = "a few"
case 5..<12:
    naturalCount = "several"
case 12..<100:
    naturalCount = "dozens of"
case 100..<1000:
    naturalCount = "hundreds of"
default:
    naturalCount = "many"
}
print("There are \(naturalCount) \(countedThings).")

/*
æ‚¨å¯ä»¥ä½¿ç”¨for-inä¾†åˆ—å‡ºå­—å…¸ä¸­çš„é …ç›®ï¼Œè—‰ç”±æä¾›ä¸€å°çš„"å¸¸æ•¸åç¨±"ï¼Œå°æ‡‰æ¯å€‹éµå€¼é…å°ã€‚
å­—å…¸æ˜¯ä¸€å€‹ç„¡åºé›†åˆï¼Œå› æ­¤å®ƒå€‘åœ¨for-inè¿´åœˆä¸­çš„éµå’Œå€¼æ˜¯æŒ‰ä»»æ„é †åºåˆ—å‡ºã€‚
*/
let interestingNumbers = [  //[String:[Int]]
    "Prime": [2, 3, 5, 7, 11, 13],  //è³ªæ•¸
    "Fibonacci": [1, 1, 2, 3, 5, 8, 13, 21, 34],  //è²»å¼æ•¸åˆ—
    "Square": [1, 4, 9, 16, 25],  //å¹³æ–¹
]

// ç´€éŒ„æ•¸åˆ—ä¸­çš„æœ€å¤§æ•¸
var largest = 0
// å¤–è¿´åœˆï¼šfor-inè¿´åœˆåˆ—å‡ºå­—å…¸
for (_, numbers) in interestingNumbers {
    // å…§è¿´åœˆï¼šfor-inè¿´åœˆåˆ—å‡ºé™£åˆ—
    for number in numbers {
        if number > largest {
            largest = number
        }
    }
}
print(largest)

//ã€Šç·´ç¿’6ã€‹ä»¥å¸¸æ•¸åç¨±æ›¿æ›_ï¼Œä¸¦è¿½è¹¤æœ€å¤§æ•¸å­—å‡ºç¾åœ¨å“ªä¸€å€‹æ•¸åˆ—ã€‚
//ç´€éŒ„æ•¸åˆ—ä¸­çš„æœ€å¤§æ•¸
largest = 0  //æœ€å¤§æ•¸çš„ç´€éŒ„å…ˆæ­¸é›¶
//ç´€éŒ„æ•¸åˆ—ä¸­å‡ºç¾æœ€å¤§æ•¸çš„ç¨®é¡åç¨±
var largestKind = ""
//å¤–è¿´åœˆï¼šfor-inè¿´åœˆåˆ—å‡ºå­—å…¸
for (kind, numbers) in interestingNumbers {
    //å…§è¿´åœˆï¼šfor-inè¿´åœˆåˆ—å‡ºé™£åˆ—
    for number in numbers {
        if number > largest {
            //ç´€éŒ„éç¨‹ä¸­çš„æœ€å¤§æ•¸
            largest = number
            //åŒæ™‚ç´€éŒ„å°æ‡‰æœ€å¤§æ•¸çš„ç¨®é¡
            largestKind = kind
        }
    }
}
print("æœ€å¤§æ•¸ï¼š\(largest)å‡ºç¾åœ¨\(largestKind)æ•¸åˆ—")


//-------------<è£œå……>ä»¥for-inè¿´åœˆåŒæ™‚åˆ—å‡ºé™£åˆ—çš„ç´¢å¼•å’Œå€¼-------------
//ä»¥ä¸‹ä½¿ç”¨å‰é¢çš„é™£åˆ—æ¸¬è©¦
//let individualScores = [75, 43, 103, 87, 12]
largest = 0  //æœ€å¤§æ•¸çš„ç´€éŒ„å…ˆæ­¸é›¶
//ç´€éŒ„é™£åˆ—ä¸­å‡ºç¾æœ€å¤§æ•¸çš„ç´¢å¼•å€¼
var largestIndex = 0
for (index, item) in individualScores.enumerated()  //[(0,75),(1,43),(2,103),(3,87),(4,12)]
{
    if item > largest {
        largest = item
        largestIndex = index
    }
}
print("æœ€å¤§æ•¸ï¼š\(largest)ä½æ–¼é™£åˆ—çš„ç¬¬\(largestIndex+1)å€‹å…ƒç´ ")

//
//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
//   â–ˆ    â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ
//   â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ
//   â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ          â–ˆ
//   â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
//
//

//-------------------------<è£œå……>å…ƒçµ„ (Tuples) -------------------------
// é™¤äº†ç†Ÿæ‚‰çš„å‹åˆ¥å¤–ï¼ŒSwifté‚„å¼•å…¥äº†å…ƒçµ„ç­‰é€²éšå‹åˆ¥ã€‚å…ƒçµ„å…è¨±æ‚¨å»ºç«‹å’Œå‚³éå€¼çš„ç¾¤çµ„ã€‚
// æ‚¨å¯ä»¥ä½¿ç”¨å…ƒçµ„åœ¨å‡½å¼ä¸­ä»¥å–®ä¸€è¤‡åˆå€¼çš„å½¢å¼å›å‚³å¤šå€‹å€¼ã€‚
// å…ƒçµ„å°‡å¤šå€‹å€¼ç¾¤çµ„ç‚º"å–®ä¸€çš„è¤‡æ•¸å€¼" (a single compound value) ã€‚ å…ƒçµ„ä¸­çš„å€¼å¯ä»¥æ˜¯ä»»ä½•å‹åˆ¥ï¼Œä¸å¿…å½¼æ­¤æ˜¯ç›¸åŒçš„å‹åˆ¥ã€‚
let http404Error = (404, "Not Found", false)
// http404Error is of type (Int, String, Bool), and equals (404, "Not Found", false)
//--------------------------------------------------------------------

/*
 ä½¿ç”¨whileè¿´åœˆé‡è¤‡åŸ·è¡Œä¸€å€‹å¤§æ‹¬è™Ÿæ¡†å‡ºçš„ç¨‹å¼ç¢¼å€å¡Š (block of code) ï¼Œç›´åˆ°æ¢ä»¶ä¸æ»¿è¶³ç‚ºæ­¢ã€‚
 repeat-whileè¿´åœˆçš„æ¢ä»¶å¯ä»¥åœ¨çµå°¾è™•ï¼Œä»¥ç¢ºä¿è¿´åœˆè‡³å°‘æœƒåŸ·è¡Œä¸€æ¬¡ã€‚ (å‚³çµ±çš„ç¨‹å¼èªè¨€ç¨±æ­¤è¿´åœˆç‚ºdo-whileè¿´åœˆ)
*/

var n = 2
while n < 100  //whileè¿´åœˆé ˆå…ˆæª¢æ¸¬æ¢ä»¶æ˜¯å¦ç¬¦åˆï¼Œæ‰æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡
{
    n *= 2
    //n = n * 2
}
print(n)

var m = 2
repeat {
    m *= 2
} while m < 100  //repeat-whileè¿´åœˆä¸éœ€äº‹å…ˆæª¢æ¸¬æ¢ä»¶ï¼Œå°±æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡
print(m)

// æ³¨æ„ï¼š
// ç•¶ç¬¬ä¸€æ¬¡åŸ·è¡Œæ™‚ï¼Œæ¢ä»¶ä¸€å®šç¬¦åˆåˆ¤æ–·çš„ç‹€æ³ï¼Œä¸ç®¡ while è¿´åœˆæˆ– repeat-while è¿´åœˆåŸ·è¡Œçµæœéƒ½ä¸€æ¨£ï¼

//ã€Šç·´ç¿’7ã€‹
// å°‡æ¢ä»¶å¾ m < 100 æ›´æ”¹ç‚º m < 0ï¼Œä»¥æª¢è¦–ç•¶è¿´åœˆæ¢ä»¶å·²ç¶“ç‚º false æ™‚ï¼Œwhileå’Œrepeat-while çš„è¡Œç‚ºå¦‚ä½•ä¸åŒã€‚
n = 2
while n < 0  // whileè¿´åœˆé ˆå…ˆæª¢æ¸¬æ¢ä»¶æ˜¯å¦ç¬¦åˆï¼Œæ‰æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡
{
    n *= 2
    //n = n * 2
}
print(n)

m = 2
repeat {
    m *= 2
} while m < 0  //repeat-whileè¿´åœˆä¸éœ€äº‹å…ˆæª¢æ¸¬æ¢ä»¶ï¼Œå°±æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡
print(m)

// æ³¨æ„ï¼šç•¶ç¬¬ä¸€æ¬¡åŸ·è¡Œæ™‚ï¼Œæ¢ä»¶ä¸ç¬¦åˆåˆ¤æ–·çš„ç‹€æ³æ™‚ï¼Œwhileè¿´åœˆå’Œrepeat-whileè¿´åœˆåŸ·è¡Œçµæœä¸ä¸€æ¨£ï¼

// æ‚¨å¯ä»¥ä½¿ç”¨..<ä¾†å»ºç«‹ä¸€å€‹ç´¢å¼•çš„ç¯„åœ (range of index) ï¼Œåœ¨è¿´åœˆä¸­ä¾†ä½¿ç”¨é€™å€‹ç´¢å¼•ã€‚
var total = 0
for i in 0..<4  // è£½ä½œä¸å«ä¸Šæ¨™çš„ç´¢å¼•ç¯„åœï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨...è£½ä½œåŒ…å«ä¸Šæ¨™çš„ç¯„åœ
{
    i
    total += i
}
print(total)

//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ      â–ˆ          â–ˆâ–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ        â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ           â–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ
//
// 
//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ   â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ      â–ˆ
// â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
//

//====================å‡½å¼å’Œé–‰åŒ… (Functions and Closures) ====================

//---------å‡½å¼çš„åƒæ•¸å’Œå›å‚³å€¼ (Function Parameters and Return Values) ---------
/*
ä½¿ç”¨ func é—œéµå­—ä¾†å®£å‘Šå‡½å¼ï¼Œä¸¦çµ¦äºˆå‡½å¼åç¨±ã€‚
åœ¨å‡½å¼åç¨±ä¹‹å¾Œä½¿ç”¨()ä¾†å®šç¾©"åƒæ•¸åˆ—è¡¨" (parameter list) ï¼Œ
åƒæ•¸åˆ—è¡¨åŒ…å«åƒæ•¸åç¨±å’Œå‹åˆ¥ (ä»¥å†’è™Ÿå€éš”å‹åˆ¥ï¼Œä»¥é€—è™Ÿå€éš”ä¸‹ä¸€å€‹åƒæ•¸) ï¼Œåƒæ•¸é è¨­ç‚º"å¸¸æ•¸"ã€‚
ä»¥->ç¬¦è™Ÿä¾†è¨­å®šå‡½å¼çš„"å›å‚³å‹åˆ¥" (return type) ï¼Œç•¶å‡½å¼åªæœ‰å–®ä¸€å›å‚³å€¼æ™‚ï¼Œä¸å¯ä»¥è¨­å®šå›å‚³çš„åç¨±ã€‚
ä»¥{}ä¾†æŒ‡å®šå‡½å¼çš„å¯¦ä½œ (implementation) ã€‚
å‘¼å«å‡½å¼ä»¥å‡½å¼åç¨±åŠ ä¸Š()ï¼Œ()è£¡é¢å‚³å…¥å°æ‡‰åƒæ•¸å‹åˆ¥çš„å¼•æ•¸ (argument) ä¾†åŸ·è¡Œå‡½å¼ã€‚
*/

//*********æ²’æœ‰åƒæ•¸çš„å‡½å¼ (Functions Without Parameters) *********
//æ²’æœ‰åƒæ•¸çš„å‡½å¼ï¼Œé‚„æ˜¯å¿…é ˆåœ¨åƒæ•¸åˆ—è¡¨çš„ä½ç½®çµ¦ä¸Šä¸€å°ç©ºç™½çš„å°æ‹¬è™Ÿ
func sayHelloWorld() -> String {
    return "hello, world"
}
//å‘¼å«æ²’æœ‰åƒæ•¸çš„å‡½å¼ï¼Œä¹Ÿå¿…é ˆçµ¦ä¸Šä¸€å°ç©ºç™½çš„å°æ‹¬è™Ÿ
print(sayHelloWorld())

//*********å…·æœ‰å¤šå€‹åƒæ•¸çš„å‡½å¼ (Functions With Multiple Parameters) ä¸”å…·æœ‰å–®ä¸€å›å‚³å€¼*********
//å®£å‘Šå‡½å¼
func greet(person: String, day: String) -> String {
    return "Hello \(person), today is \(day)."  //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
}
//å‘¼å«å‡½å¼ï¼Œå‚³å…¥å°æ‡‰çš„"å¼•æ•¸" (åƒæ•¸å€¼) ï¼Œå¿½ç•¥å‡½å¼çš„å›å‚³å€¼ (return value)
greet(person: "Bob", day: "Tuesday")  //å‘¼å«å‡½å¼æ™‚ï¼Œé è¨­æœƒæŠŠåƒæ•¸åç¨±ï¼Œç•¶ä½œ"å¼•æ•¸æ¨™ç±¤" (argument label) ç•™ä¸‹

//æ¥å–å‡½å¼çš„å›å‚³å€¼
let message2 = greet(person: "Perkin", day: "3/12")

//ã€Šç·´ç¿’8ã€‹åˆªé™¤dayåƒæ•¸ï¼Œæ–°å¢ä¸€å€‹åƒæ•¸ï¼Œåœ¨å•å€™èªä¸­åŒ…å«ä»Šå¤©çš„ç‰¹åƒ¹åˆé¤ã€‚
//å®£å‘Šå‡½å¼
func greet(person: String, lunch: String) -> String {
    return "\(person)ä½ å¥½ï¼ä»Šå¤©çš„ç‰¹åƒ¹åˆé¤æ˜¯\(lunch)."  //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
}
//å‘¼å«å‡½å¼
greet(person: "Perkin", lunch: "æ’éª¨é£¯")

//<è£œå……ç·´ç¿’>
//å®£å‘Šå‡½å¼
func greet(person: String, day: Int) -> String {
    //<æ–¹æ³•ä¸€>ä»¥ifã€else ifå’Œelseé€²è¡Œä¸‰æ®µå¼æ””æˆª (ä¸‰æ®µå¯¦ä½œå¯ä»¥çš†ä¸åŒ)
    //    if day > 7
    //    {
    //        return "\(person)ä½ å¥½ï¼"      //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
    //    }
    //    else if day < 1
    //    {
    //        return "\(person)ä½ å¥½ï¼"      //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
    //    }
    //    else    //1...7
    //    {
    //        return "\(person)ä½ å¥½ï¼ä»Šå¤©æ˜¯æ˜ŸæœŸ\(day)ã€‚"      //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
    //    }
    //<æ–¹æ³•äºŒ>ä»¥ifå’Œelseé€²è¡ŒäºŒæ®µå¼æ””æˆª (å…¶ä¸­ä¸€æ®µç¬¦åˆä»»ä¸€æ¢ä»¶çš„å¯¦ä½œç›¸åŒ)
    if day > 7 || day < 1 {
        return "\(person)ä½ å¥½ï¼"  //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
    } else  //1...7
    {
        return "\(person)ä½ å¥½ï¼ä»Šå¤©æ˜¯æ˜ŸæœŸ\(day)ã€‚"  //å‡½å¼çš„å›å‚³å€¼ä¸€å®šåœ¨å¯¦ä½œçš„æœ€å¾Œä¸€è¡Œ
    }

}
//å‘¼å«å‡½å¼
greet(person: "Perkin", day: 8)

//é è¨­æƒ…æ³ä¸‹ï¼Œå‡½å¼ä½¿ç”¨å…¶åƒæ•¸åç¨±ç•¶ä½œå¼•æ•¸æ¨™ç±¤ã€‚åœ¨åƒæ•¸åç¨±ä¹‹å‰æ’°å¯«ä¸€å€‹è‡ªå®šçš„å¼•æ•¸æ¨™ç±¤ï¼Œæˆ–è€…æ’°å¯«_è¡¨æ˜ä¸ä½¿ç”¨å¼•æ•¸æ¨™ç±¤ã€‚
func greet(_ person: String, on day: String) -> String  //åƒæ•¸åˆ—è¡¨åœ¨å‹åˆ¥ä¹‹å‰æœ‰å…©å€‹ä½ç½®ï¼šç¬¬ä¸€å€‹ç‚ºå¼•æ•¸æ¨™ç±¤ï¼Œç¬¬äºŒå€‹ç‚ºåƒæ•¸åç¨±)

{
    return "Hello \(person), today is \(day)."
}
//å‘¼å«å‡½å¼
greet("John", on: "Wednesday")

greet("Perkin", on: "Saturday")

//************æ²’æœ‰å›å‚³å€¼çš„å‡½å¼ (Functions Without Return Values) ************
func greet(person: String)  //-> Void        //æ²’æœ‰å›å‚³å€¼çš„å‡½å¼å¯ä»¥æ¨™æ˜å‡½å¼çš„å›å‚³å‹åˆ¥ç‚ºVoidæˆ–çœç•¥å›å‚³å‹åˆ¥
{
    print("Hello, \(person)!")
    //æœ€å¾Œä¸€è¡Œä¸æœƒå‡ºç¾return
}
//å‘¼å«æ²’æœ‰å›å‚³å€¼çš„å‡½å¼
greet(person: "Dave")

//*************å…·æœ‰å¤šå€‹è¿”å›å€¼çš„å‡½å¼ (Functions with Multiple Return Values) *************
//ä½¿ç”¨å…ƒçµ„å»ºç«‹è¤‡åˆå€¼â€”â€”ä¾‹å¦‚ï¼Œåœ¨å‡½å¼ä¸­å›å‚³å¤šå€‹å€¼ã€‚å…ƒçµ„çš„å…ƒç´ å¯ä»¥ä¾åç¨±æˆ–ç·¨è™Ÿä¾†å¼•ç”¨ã€‚ (å…ƒçµ„çš„æ¯ä¸€å€‹ä½ç½®"ä¸å¿…"æ˜¯ç›¸åŒå‹åˆ¥ï¼Œé™£åˆ—å¿…é ˆç›¸åŒå‹åˆ¥)
func calculateStatistics(scores: [Int]) -> (
    min: Int, max: Int, sum: Int
)//å‡½å¼ä½¿ç”¨å…ƒçµ„é€²è¡Œè¤‡åˆå€¼å›å‚³æ™‚ï¼Œå¯ä»¥ç‚ºæ¯å€‹å…ƒçµ„çš„ä½ç½®å‘½å (ä»¥åç¨±æˆ–ç·¨è™Ÿå­˜å–) ï¼Œä¹Ÿå¯ä»¥ä¸å‘½å (åªèƒ½ä»¥ç·¨è™Ÿå­˜å–) ã€‚
{
    //å…ˆè¨­å®šå³å°‡ä»¥è¿´åœˆçš„åŸ·è¡Œä¾†æ±ºå®šçš„æœ€å°å€¼ã€æœ€å¤§å€¼ã€ç¸½å’Œçš„åˆå§‹å€¼
    var min = scores[0]  //ä»¥é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ è¨­å®šç‚ºæœ€å°å€¼çš„åˆå§‹å€¼
    var max = scores[0]  //ä»¥é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ è¨­å®šç‚ºæœ€å¤§å€¼çš„åˆå§‹å€¼
    var sum = 0  //é™£åˆ—çš„ç¸½å’Œåœ¨è¿´åœˆé–‹å§‹ä¹‹å‰å…ˆè¨­ç‚º0

    //ä»¥for-inè¿´åœˆåˆ—å‡ºé™£åˆ—
    for score in scores {
        //æ›¿æ›æœ€å¤§å€¼
        if score > max {
            max = score
        }
        //æ›¿æ›æœ€å°å€¼
        else if score < min {
            min = score
        }
        //ç´¯è¨ˆç¸½å’Œ
        sum += score
        //        sum = sum + score
    }

    return (min, max, sum)
}
//å‘¼å«å‡½å¼
let statistics = calculateStatistics(scores: [5, 3, 100, 3, 9])
//ä»¥åç¨±å­˜å–å…ƒçµ„
statistics.min
statistics.max
statistics.sum
print(statistics.sum)
// Prints "120"

//ä»¥ç·¨è™Ÿå­˜å–å…ƒçµ„
statistics.0
statistics.1
statistics.2
print(statistics.2)

//----------------------å·¢ç‹€å‡½å¼ (Nested Function) ----------------------
//å‡½å¼å¯ä»¥æ˜¯å·¢ç‹€æ¶æ§‹ã€‚å·¢ç‹€å‡½å¼å¯ä»¥å­˜å–å®£å‘Šåœ¨å¤–éƒ¨å‡½å¼ä¸­çš„è®Šæ•¸ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å·¢ç‹€å‡½å¼ä¾†çµ„ç¹”è¼ƒé•·æˆ–è¤‡é›œçš„ç¨‹å¼å€æ®µã€‚
//å®£å‘Šå¤–éƒ¨ç‚ºå·¢ç‹€æ¶æ§‹çš„å‡½å¼
func returnFifteen() -> Int {
    var y = 10
    //å®£å‘Šå…§éƒ¨å‡½å¼
    func add() {  //çµ„ç¹”è¼ƒé•·æˆ–è¤‡é›œçš„ç¨‹å¼å€æ®µ
        y += 5
    }
    //è‡ªè¡ŒåŸ·è¡Œå…§éƒ¨å‡½å¼ (é‹ä½œä¸€æ®µè¼ƒé•·æˆ–è¤‡é›œçš„ç¨‹å¼å€æ®µ)
    add()
    return y  //å¤–éƒ¨å‡½å¼å›å‚³é‹ä½œéè¼ƒé•·æˆ–è¤‡é›œé‚è¼¯çš„å€¼
}
//å‘¼å«å·¢ç‹€å‡½å¼
returnFifteen()

//å‡½å¼æ˜¯ä¸€ç´šå‹åˆ¥ (éæ¬¡ç´š) ã€‚  (Functions are a first-class type.) é€™æ„å‘³è‘—ä¸€å€‹å‡½å¼å¯ä»¥å›å‚³å¦ä¸€å€‹å‡½å¼ä½œç‚ºå…¶å›å‚³å‹åˆ¥ï¼Œå‡½å¼ä¹Ÿå¯ä»¥å‡ºç¾åœ¨åƒæ•¸åˆ—è¡¨ã€‚
//************å‡½å¼çš„å›å‚³å‹åˆ¥ç‚ºä¸€å€‹å‡½å¼************
//å®£å‘Šå¤–éƒ¨ç‚ºå·¢ç‹€æ¶æ§‹çš„å‡½å¼
func makeIncrementer() -> ((Int) -> Int) {
    //å®£å‘Šå…§éƒ¨çš„å‘½åå‡½å¼
    func addOne(number: Int) -> Int {
        return 1 + number
    }
    //ä¸è‡ªè¡ŒåŸ·è¡Œå…§éƒ¨å‡½å¼
    return addOne  //å°‡å‡½å¼å›å‚³çµ¦å‘¼å«è€…åŸ·è¡Œ (ä¸å«å‡½å¼åç¨±ï¼Œå³ä»¥"åŒ¿åå‡½å¼"å›å‚³)
}

//å‘¼å«å‡½å¼ï¼Œå–å¾—çš„å›å‚³å€¼ç‚ºä¸€å€‹æ²’æœ‰åç¨±çš„å‡½å¼ (åŒ¿åå‡½å¼) ï¼Œä¸¦ä¸”ä»¥è®Šæ•¸å‘½åæ­¤å‡½å¼ (æ²’æœ‰å¼•æ•¸æ¨™ç±¤)
var increment = makeIncrementer()
//ä»¥è®Šæ•¸åç¨±ä½œç‚ºå‡½å¼åç¨±åŸ·è¡Œæ­¤å‡½å¼
increment(7)

//å®£å‘Šå¤–éƒ¨ç‚ºå·¢ç‹€æ¶æ§‹çš„å‡½å¼
func makeIncrementer2() -> ((Int) -> Int) {
    //    //å®£å‘Šå…§éƒ¨çš„å‘½åå‡½å¼
    //    func addOne(number: Int) -> Int
    //    {
    //        return 1 + number
    //    }
    //ä»¥é–‰åŒ…çš„æ–¹å¼å›å‚³åŒ¿åå‡½å¼
    return { (number: Int) -> Int in return 1 + number }  //å°‡å‡½å¼å›å‚³çµ¦å‘¼å«è€…åŸ·è¡Œ (ä¸å«å‡½å¼åç¨±ï¼Œå³ä»¥"åŒ¿åå‡½å¼"å›å‚³)
}

//å‘¼å«å‡½å¼ï¼Œå–å¾—çš„å›å‚³å€¼ç‚ºä¸€å€‹æ²’æœ‰åç¨±çš„å‡½å¼ (åŒ¿åå‡½å¼) ï¼Œä¸¦ä¸”ä»¥è®Šæ•¸å‘½åæ­¤å‡½å¼ (æ²’æœ‰å¼•æ•¸æ¨™ç±¤)
increment = makeIncrementer2()
//ä»¥è®Šæ•¸åç¨±ä½œç‚ºå‡½å¼åç¨±åŸ·è¡Œæ­¤å‡½å¼
increment(7)

//************å‡½å¼çš„åƒæ•¸å‹åˆ¥ç‚ºä¸€å€‹å‡½å¼************
//ä¸€å€‹å‡½å¼å¯ä»¥å°‡å¦ä¸€å€‹å‡½å¼ç•¶ä½œå…¶åƒæ•¸ã€‚
func hasAnyMatches(list: [Int], condition: (Int) -> Bool) -> Bool {
    //for-inè¿´åœˆåˆ—å‡ºlisté™£åˆ—
    for item in list {
        //åŸ·è¡Œè‡ªå®šåˆ¤æ–·é‚è¼¯çš„conditionå‡½å¼
        if condition(item) {
            return true
        }
    }
    return false
}
//å®£å‘Š"å‘½åå‡½å¼"ï¼Œæº–å‚™å‚³å…¥ç¬¬äºŒå€‹åƒæ•¸ä½ç½®çš„å‡½å¼
func lessThanTen(number: Int) -> Bool {
    //è‡ªå®šåˆ¤æ–·é‚è¼¯ç‚ºæ˜¯å¦å°æ–¼10
    return number < 10
}
//æº–å‚™å‚³å…¥ç¬¬ä¸€å€‹åƒæ•¸çš„é™£åˆ—
var numbers = [20, 19, 7, 12]
// <æ–¹æ³•ä¸€>å‘¼å«å‡½å¼ï¼Œå‚³å…¥å‘½åé™£åˆ—åŠå‘½åå‡½å¼
hasAnyMatches(list: numbers, condition: lessThanTen)

// <æ–¹æ³•äºŒ>å‘¼å«å‡½å¼ï¼Œå‚³å…¥åŒ¿åé™£åˆ—åŠåŒ¿åå‡½å¼ (åŒ¿åå‡½å¼å°±æ˜¯é–‰åŒ…closure) è¼ƒå¸¸è¦‹ï¼
// å‡½å¼å¯¦éš›ä¸Šæ˜¯é–‰åŒ…çš„ä¸€å€‹ç‰¹æ®Šç‹€æ³ï¼šä¸€å€‹ç¨å¾Œå¯ä»¥å‘¼å«çš„ç¨‹å¼å€å¡Šã€‚
// é–‰åŒ…ä¸­çš„ç¨‹å¼å¯ä»¥å­˜å–å»ºç«‹é–‰åŒ…çš„ç¯„åœå…§å¯ç”¨çš„è®Šæ•¸å’Œå‡½å¼ç­‰å…§å®¹ï¼Œå³ä½¿é–‰åŒ…åœ¨åŸ·è¡Œæ™‚è™•æ–¼ä¸åŒçš„ç¯„åœå…§ã€‚
hasAnyMatches(
    list: [20, 19, 7, 12],
    condition: {
        (number: Int) -> Bool  //é–‰åŒ…çš„åƒæ•¸å¿…é ˆå…§ç¸®åœ¨{}æ¡†å‡ºçš„å¯¦ä½œæ®µä¸­
        in  //ä»¥iné—œéµå­—å€éš”é–‰åŒ…çš„å¯¦ä½œ
        return number < 10  //é–‰åŒ…çš„å¯¦ä½œ
    }
)

// <æ–¹æ³•ä¸‰>å‘¼å«å‡½å¼ï¼Œå‚³å…¥åŒ¿åé™£åˆ—åŠ"å°¾éš¨é–‰åŒ…" (trailing closure)  æœ€å¸¸ç”¨ï¼
hasAnyMatches(list: [20, 19, 7, 12]) {
    number  //(number:Int)->Bool
    in
    //    print(number)       //è£œå……æ¸¬è©¦é–‰åŒ…å¯¦ä½œè¶…éä¸€è¡Œæ™‚
    number < 10  //return number < 10
    //ç•¶é–‰åŒ…çš„å¯¦ä½œåªæœ‰ä¸€è¡Œæ™‚ï¼Œå¯ä»¥çœç•¥returné—œéµå­— (å¯¦ä½œè¶…å‡ºä¸€è¡Œæ™‚ï¼Œreturné—œéµå­—æœ‰å¯èƒ½ä¸èƒ½çœç•¥)
}

// <æ–¹æ³•å››>å‘¼å«å‡½å¼ï¼Œå‚³å…¥åŒ¿åé™£åˆ—åŠ"å°¾éš¨é–‰åŒ…" (trailing closure) ï¼Œ
// æ’°å¯«é–‰åŒ…æ™‚ï¼Œä¸ç‚ºåƒæ•¸åˆ—è¡¨å‘½åï¼Œä¹Ÿä¸ä½¿ç”¨iné—œéµå­—ï¼Œç›´æ¥ä»¥$+ç´¢å¼•å€¼ï¼Œå­˜å–é–‰åŒ…åƒæ•¸ï¼Œä¾†é€²è¡Œå¯¦ä½œï¼
hasAnyMatches(list: [20, 19, 7, 12]) {
    $0 < 10
}

//-----------------é™£åˆ—çš„å°æ‡‰è™•ç†æ–¹æ³•-----------------------
//<æ–¹æ³•ä¸‰>å‘¼å«é™£åˆ—çš„å°æ‡‰è™•ç†æ–¹æ³•ï¼Œå‚³å…¥è‡ªå®šè™•ç†é‚è¼¯ï¼Œå‚³å…¥"å°¾éš¨é–‰åŒ…"
let mappingResult1 =
    numbers.map {
        number -> String
        in
        return "\(number)"
    }

//æ³¨æ„ï¼šè‹¥å‡½å¼çš„åƒæ•¸åªæœ‰ä¸€å€‹é–‰åŒ…ï¼Œä»¥å°¾éš¨é–‰åŒ…çš„å½¢å¼å‘¼å«æ™‚ï¼Œåƒæ•¸åˆ—è¡¨çš„ä¸€å°å°æ‹¬è™Ÿæœƒæ¶ˆå¤±ï¼
let mappingResult2 =
    numbers.map {
        number  //(number: Int) -> Int
        in
        let result = 3 * number
        return result
    }

//<æ–¹æ³•äºŒ>å‘¼å«é™£åˆ—çš„å°æ‡‰è™•ç†æ–¹æ³•ï¼Œå‚³å…¥è‡ªå®šè™•ç†é‚è¼¯ï¼Œå‚³å…¥è‡ªå®šé–‰åŒ…ï¼Œç¶­æŒåƒæ•¸çš„å½¢å¼
let mappingResult3 =
    numbers.map({
        (number: Int) -> Int
        in
        let result = 3 * number
        return result
    })

//ã€Šç·´ç¿’9ã€‹é‡å¯«é–‰åŒ…ï¼Œè®“é™£åˆ—ä¸­çš„æ‰€æœ‰å¥‡æ•¸å›å‚³ç‚ºé›¶ï¼Œå¶æ•¸å‰‡ç¶­æŒåŸå€¼ã€‚
//[20, 19, 7, 12]
//[20, 0, 0, 12]
let mappingResult4 =
    numbers.map {
        number
        in
        if number % 2 == 0  //å¶æ•¸
        {
            return number
        } else  //å¥‡æ•¸
        {
            return 0
        }
    }

let mappingResult5 =
    numbers.map {
        number
        in
        if number % 2 != 0  //å¥‡æ•¸
        {
            return 0
        } else  //å¶æ•¸
        {
            return number
        }
    }

// æ‚¨æœ‰å¹¾å€‹é¸é …å¯ä»¥æ›´ç°¡æ½”åœ°æ’°å¯«é–‰åŒ…ã€‚ç•¶é–‰åŒ…çš„å‹åˆ¥å·²çŸ¥æ™‚ï¼Œ
// ä¾‹å¦‚ä»£ç†çš„å›callï¼Œæ‚¨å¯ä»¥çœç•¥é–‰åŒ…åƒæ•¸çš„å‹åˆ¥ã€å›å‚³å‹åˆ¥æˆ–å…©è€…å…¼è€Œæœ‰ä¹‹ã€‚
// å–®ä¸€æ•˜è¿°çš„é–‰åŒ…éš±å«æœƒå›å‚³å…¶å”¯ä¸€æ•˜è¿°çš„å€¼ï¼Œæ‰€ä»¥çœç•¥returné—œéµå­—ã€‚
let mappedNumbers = numbers.map({ number in 3 * number })
print(mappedNumbers)

//------------------------------------------------------------------

//------------------------é™£åˆ—çš„æ’åºæ–¹æ³•-------------------------------
numbers
//åŸ·è¡Œé™£åˆ—çš„é è¨­æ’åºæ–¹æ³•ï¼Œç”±"å°åˆ°å¤§"æ’åºï¼Œæ’åºåˆ°"æ–°é™£åˆ—"
numbers.sorted()
numbers
//ä½¿ç”¨é è¨­æ’åºæ–¹æ³•ï¼Œå…ˆ"å°åˆ°å¤§"æ’åºï¼Œå†åè½‰æ’åºæˆç‚º"å¤§åˆ°å°"ï¼Œæ’åºåˆ°"æ–°é™£åˆ—"
let reversedResult = numbers.sorted().reversed()
for number in numbers.sorted().reversed() {
    number
}

//åŸ·è¡Œé™£åˆ—çš„é è¨­æ’åºæ–¹æ³•ï¼Œåœ¨åŸé™£åˆ—ä¸­ç”±"å°åˆ°å¤§"æ’åº
numbers.sort()
numbers

//ä»¥"è‡ªå®š"æ’åºæ–¹æ³•ï¼Œå‚³å…¥ç”±å°åˆ°å¤§æ’åˆ—çš„æ¯”è¼ƒé‚è¼¯ï¼Œæ’åºåˆ°"æ–°é™£åˆ—"
let newArray1 =
    numbers.sorted {
        num1,
        num2
        in
        return num1 < num2  //å›å‚³num1æœƒä¸æœƒæ¯”num2å°
    }

//ä»¥"è‡ªå®š"æ’åºæ–¹æ³•ï¼Œå‚³å…¥ç”±å¤§åˆ°å°æ’åˆ—çš„æ¯”è¼ƒé‚è¼¯ï¼Œæ’åºåˆ°"æ–°é™£åˆ—"
let newArray2 =
    numbers.sorted {
        num1,
        num2
        in
        return num1 > num2  //å›å‚³num1æœƒä¸æœƒæ¯”num2å¤§
    }
//åŸé™£åˆ—æ’åºæ²’æœ‰è®Šå‹•
numbers

//ä»¥"è‡ªå®š"æ’åºæ–¹æ³•ï¼Œå‚³å…¥ç”±å°åˆ°å¤§æ’åˆ—çš„æ¯”è¼ƒé‚è¼¯ï¼Œåœ¨"åŸé™£åˆ—"æ’åº
numbers.sort {
    num1,
    num2
    in
    return num1 < num2
}
numbers

//ä»¥"è‡ªå®š"æ’åºæ–¹æ³•ï¼Œå‚³å…¥ç”±å¤§åˆ°å°æ’åˆ—çš„æ¯”è¼ƒé‚è¼¯ï¼Œåœ¨"åŸé™£åˆ—"æ’åº
numbers.sort {
    num1,
    num2
    in
    return num1 > num2
}
numbers

//ä»¥ä¸‹ç‚ºä¸Šä¸€å€‹ç¯„ä¾‹çš„ç°¡åŒ–ç‰ˆï¼šæ²’æœ‰ç‚ºé–‰åŒ…çš„åƒæ•¸å‘½åï¼Œä½¿ç”¨$+ç´¢å¼•å€¼ä¾†å­˜å–é–‰åŒ…åƒæ•¸
let sortedNumbers = numbers.sorted { $0 > $1 }
print(sortedNumbers)

//å®£å‘Šä¸€å€‹å…ƒç´ ç‚ºå­—å…¸çš„é™£åˆ—
var dicArray = [
    ["ABC": 123, "DEF": 456], ["ABC": 999, "DEF": 654],
    ["ABC": 321, "DEF": 888],
]
//ç•¶é™£åˆ—å…ƒç´ ä¸æ˜¯å–®ä¸€å€¼ (é›†åˆ) æ™‚ï¼Œæ²’æœ‰é è¨­çš„æ’åºæ–¹æ³•ï¼Œåªèƒ½æ“ä½œæ’åº
let newDicArray =
    //æ­¤æ’åºæ–¹æ³•æ’åºåˆ°æ–°é™£åˆ—
    dicArray.sorted {
        dic1,
        dic2
        in
        //ä»¥ABCçš„keyä¾†æŸ¥è©¢å­—å…¸ä½œç‚ºæ’åºçš„é‚è¼¯ (å­—å…¸çš„æŸ¥è©¢å›å‚³ç‚ºé¸æ“‡å€¼ï¼Œéœ€æ‹†å°å¾Œæ‰èƒ½é€²è¡Œæ¯”è¼ƒé‹ç®—)
        return dic1["ABC"]! > dic2["ABC"]!
    }
//ä»¥for-inè¿´åœˆåˆ—å‡ºé™£åˆ—
for dic in newDicArray {
    //æŸ¥è©¢æ¯æœ¬å­—å…¸å°æ‡‰Keyçš„å€¼
    dic["ABC"]!
}

//å®£å‘Šä¸€å€‹å…ƒç´ ç‚ºTupleçš„é™£åˆ—
var tupleArray = [
    (a: "xyz", b: 23, c: true), (a: "fff", b: 45, c: false),
    (a: "str", b: 778, c: false),
]
//æ­¤æ’åºæ–¹æ³•åœ¨åŸé™£åˆ—æ’åº
tupleArray.sort {
    tuple1,
    tuple2
    in
    //    return tuple1.1 > tuple2.1
    return tuple1.b > tuple2.b
    //ä»¥å…ƒçµ„çš„ç¬¬äºŒå€‹å…ƒç´ é€²è¡Œç”±å¤§åˆ°å°æ’åº
}
//ç¢ºèªåŸåœ°æ’åºéå¾Œçš„é™£åˆ—
tupleArray


// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ      â–ˆ          â–ˆâ–ˆ    â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ           â–ˆ    â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//
//
//
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ       â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ      â–ˆ
// â–ˆ      â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ      â–ˆ   â–ˆ      â–ˆ      â–ˆ  â–ˆ          â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ


//=====================ç‰©ä»¶å’Œé¡åˆ¥ (Objects and Classes) =========================
//=====================å¯¦é«”å’Œé¡åˆ¥ (Instances and Classes) =======================
// é¡åˆ¥çš„å¯¦é«” (instance) å‚³çµ±ä¸Šè¢«ç¨±ç‚ºç‰©ä»¶ (object) ã€‚
// ç„¶è€Œï¼ŒSwiftçš„"çµæ§‹" (structure) å’Œ"é¡åˆ¥" (class) åœ¨åŠŸèƒ½ä¸Šæ¯”å…¶ä»–ç¨‹å¼èªè¨€æ›´æ¥è¿‘ï¼Œ
// å› æ­¤ä½¿ç”¨äº†æ›´é€šç”¨çš„è¡“èª"å¯¦é«”" (instance) ä¾†å–ä»£"ç‰©ä»¶" (object) ã€‚
/*
ä½¿ç”¨classé—œéµå­—å¾Œé¢è·Ÿè‘—é¡åˆ¥åç¨±ä¾†å»ºç«‹é¡åˆ¥ï¼Œä»¥{}æ¡†å‡ºé¡åˆ¥çš„å®£å‘Šç¯„åœã€‚
é¡åˆ¥ä¸­çš„å±¬æ€§ (property) å®£å‘Šçš„æ’°å¯«æ–¹å¼èˆ‡å¸¸æ•¸æˆ–è®Šæ•¸çš„å®£å‘Šæ–¹å¼ç›¸åŒã€‚
é¡åˆ¥ä¸­çš„æ–¹æ³• (method) å’Œå‡½å¼å®£å‘Šçš„æ’°å¯«æ–¹å¼ç›¸åŒã€‚
*/
// å®£å‘ŠShapeé¡åˆ¥ (å‘½åéœ€ç¬¦åˆå‹åˆ¥çš„å‘½åè¦å‰‡ï¼Œä»¥å¤§å¯«é–‹é ­çš„é§å³¯å¼å‘½åæ³•å‘½å)
class Shape {
    //ä»¥ä¸‹å…©å€‹å±¬æ€§éƒ½æœ‰åˆå§‹å€¼ï¼Œå› æ­¤ç·¨è­¯å™¨æœƒ"è‡ªå‹•è³¦äºˆ"ä¸€å€‹ä¸å¸¶åƒæ•¸çš„åˆå§‹åŒ–æ–¹æ³•
    //å¯è®€å¯å¯«çš„"å¯¦é«”å„²å­˜å±¬æ€§" (instance stored property) ï¼šå½¢ç‹€æœ‰å¹¾é‚Š
    var numberOfSides = 0
    //å”¯è®€çš„"å¯¦é«”å„²å­˜å±¬æ€§"ï¼šå½¢ç‹€çš„ç‰¹æ€§ç‚º3D
    let dimention = "3D"  //ã€Šç·´ç¿’10ã€‹
    //å¯¦é«”æ–¹æ³• (instance method) ï¼šåˆ—å°å½¢ç‹€æœ‰å¹¾é‚Šçš„æ–¹æ³•
    func simpleDescription() -> String {
        return "A shape with \(numberOfSides) sides."
    }
    //ã€Šç·´ç¿’10ã€‹ä¸€å€‹æ¥å—å¼•æ•¸çš„æ–¹æ³•ï¼šåˆ—å°å½¢ç‹€çš„ç›¸é—œè³‡è¨Š
    func shapeWithHeight(height: Int) -> String {
        return "é€™æ˜¯\(dimention)å½¢ç‹€ï¼Œé«˜åº¦ï¼š\(height)å…¬å°º"
    }
}

//ã€Šç·´ç¿’10ã€‹
// åœ¨ä¸Šè¿°é¡åˆ¥ä¸­ï¼Œç”¨letæ–°å¢ä¸€å€‹å¸¸æ•¸å±¬æ€§ï¼Œä¸¦ä¸”æ–°å¢å¦ä¸€å€‹æ¥å—å¼•æ•¸çš„æ–¹æ³•ã€‚
// æ–°å¢åœ¨é¡åˆ¥çš„ç¯„åœä¸­
// é€éåœ¨é¡åˆ¥åç¨±ä¹‹å¾Œæ”¾ä¸Šä¸€å°å°æ‹¬è™Ÿä¾†å»ºç«‹é¡åˆ¥çš„"å¯¦é«”" (instance) ã€‚ä½¿ç”¨é»èªæ³•ä¾†å­˜å–å¯¦é«”çš„å±¬æ€§å’Œæ–¹æ³•ã€‚

//ç”¢ç”ŸShapeé¡åˆ¥çš„å¯¦é«”
var shape = Shape()
//ä½¿ç”¨é»èªæ³•ä¾†å­˜å–å¯¦é«”çš„å±¬æ€§
shape.numberOfSides
shape.numberOfSides = 7
shape.numberOfSides
shape.dimention
//shape.dimention = "2D"
//error:Cannot assign to property: 'dimention' is a 'let' constant

//ä½¿ç”¨é»èªæ³•ä¾†å­˜å–å¯¦é«”çš„æ–¹æ³•
var shapeDescription = shape.simpleDescription()
shape.shapeWithHeight(height: 5)

//æ­¤ç‰ˆæœ¬çš„NamedShapeé¡åˆ¥ç¼ºå°‘ä¸€äº›é‡è¦çš„æ±è¥¿ï¼šåœ¨å»ºç«‹å¯¦é«”æ™‚ç”¨ä¾†è¨­å®šé¡åˆ¥çš„"åˆå§‹åŒ–æ–¹æ³•" (initializer/constructor) ã€‚
//å› æ­¤éœ€ä½¿ç”¨inité—œéµå­—å»ºç«‹ä¸€å€‹"åˆå§‹åŒ–æ–¹æ³•"ã€‚
//å®£å‘ŠNamedShapeé¡åˆ¥
class NamedShape {
    //å› ç‚ºä»¥ä¸‹æœ‰ä»»ä¸€å±¬æ€§æ²’æœ‰åˆå§‹å€¼ï¼Œæ‰€ä»¥ä¸æœƒè‡ªå‹•å¾—åˆ°ä¸€å€‹åˆå§‹åŒ–æ–¹æ³•ï¼Œåˆå§‹åŒ–æ–¹æ³•å¿…é ˆè‡ªå®šï¼Œç‚ºç¼ºå€¼çš„å±¬æ€§è£œä¸Šåˆå§‹å€¼ã€‚
    var numberOfSides: Int = 0
    var name: String

    //å®šç¾©å¸¶åƒæ•¸çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•
    init(name: String) {
        //å‚³å…¥çš„å¼•æ•¸ï¼šnameç‚ºnameå±¬æ€§è£œä¸Šåˆå€¼
        self.name = name  //å› ç‚ºåƒæ•¸åç¨±èˆ‡å±¬æ€§åç¨±é‡è¤‡ï¼Œæ­¤è¡Œéœ€ä½¿ç”¨selfé—œéµå­—ä¾†æŒ‡ånameå±¬æ€§
    }
    //å®šç¾©ä¸å¸¶åƒæ•¸çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•
    init() {
        //å¯¦ä½œä¸­è‡ªå·±ç‚ºç¼ºå€¼çš„å±¬æ€§è£œå€¼
        name = "æ²’æœ‰åå­—çš„å½¢ç‹€"
    }

    //åœ¨å¯¦é«”å¾è¨˜æ†¶é«”è¢«é‡‹æ”¾ä¹‹å‰ï¼Œååˆå§‹åŒ–æ–¹æ³• (deinitializer) æœƒè‡ªå‹•è¢«å‘¼å«ã€‚æ‚¨ä¸å…è¨±è‡ªå·±å‘¼å«ååˆå§‹åŒ–æ–¹æ³•ã€‚
    deinit  //å®£å‘Šååˆå§‹åŒ–æ–¹æ³• (ä½¿ç”¨deinité—œéµå­—)
    {
        //åœ¨æ­¤å¯ä»¥åŸ·è¡Œä¸€äº›æ¸…ç†ä½œæ¥­
        print("\(name)è¢«é‡‹æ”¾ï¼")
    }

    func simpleDescription() -> String {
        return "A shape with \(numberOfSides) sides."
    }
}
// å¯¦é«”åŒ– NamedShape
var namedShape: NamedShape? = NamedShape(name: "ç‰¹æ®Šå½¢ç‹€")

// ä»¥é»èªæ³•å­˜å–å¯¦é«”çš„å±¬æ€§å’Œæ–¹æ³•
// ç•¶å¯¦é«”ç‚ºé¸æ“‡å€¼æ™‚ï¼Œä¸²é€£å±¬æ€§å’Œæ–¹æ³•çš„å‹•ä½œç¨±ç‚ºé¸æ“‡æ€§ä¸²é€£-Optional Chainingï¼Œç•¶ä¸²é€£çš„ä»»ä¸€ç’°ç¯€å‡ºç¾nilæ™‚ï¼Œä¸²é€£å³åœæ­¢ï¼Œä½†ç¨‹å¼ä¸æœƒè§¸ç™¼åŸ·è¡Œéšæ®µéŒ¯èª¤
namedShape?.numberOfSides
namedShape?.name
namedShape?.numberOfSides = 100
namedShape?.numberOfSides
namedShape?.name = "æ–°çš„ç‰¹æ®Šå½¢ç‹€"
namedShape?.name
namedShape?.simpleDescription()

//é¸æ“‡æ€§ä¸²é€£å‘¼å«ï¼Œæœƒå¾—åˆ°æœ€å¾Œå±¬æ€§æˆ–æ–¹æ³•å›å‚³å€¼çš„é¸æ“‡å€¼ï¼Œå³ä½¿åŸæœ¬çš„å±¬æ€§æˆ–æ–¹æ³•ä¸¦ä¸æ˜¯å›å‚³é¸æ“‡å€¼
let shapeName1 = namedShape?.name
let description1 = namedShape?.simpleDescription()

//é¸æ“‡æ€§ä¸²é€£ï¼Œä¹Ÿå¯ä»¥é…åˆå¼·åˆ¶æ‹†å° (!) é‹ä½œ
let shapeName2 = namedShape!.name

//<æ–¹æ³•ä¸€>è‡ªè¡Œåˆ¤æ–·æ˜¯å¦ç‚ºnilï¼Œå†æ±ºå®šæ˜¯å¦æ‹†å°
if namedShape != nil {
    let shapeName3 = namedShape!.name
}

//<æ–¹æ³•äºŒ>ä»¥é¸æ“‡æ€§ç¶å®š (optional binding) èªæ³•ï¼Œé…åˆé¸æ“‡æ€§ä¸²é€£ (optional chaining) ä¾†è‡ªå‹•æ‹†å°
if let shameName = namedShape?.name {
    shameName
}

//<æ–¹æ³•ä¸‰>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šä½¿ç”¨ã€??é‹ç®—ç¬¦è™Ÿã€ (ç©ºå€¼èšåˆé‹ç®—ç¬¦ Nil-Coalescing Operator)
let shaheName4 = namedShape?.name ?? "æ²’æœ‰åç¨±"

//<æ–¹æ³•å››>é¿å…å¼·åˆ¶æ‹†å°é€ æˆAppç•¶æ‰çš„é¢¨éšªï¼šä½¿ç”¨é¸æ“‡æ€§ç¶å®š (optional binding) çš„ç°¡åŒ–èªæ³•
//ç°¡åŒ–èªæ³•ä¸é©ç”¨æ–¼é¸æ“‡æ€§ä¸²é€£

//ä¸»å‹•æ¸…ç©ºåŒ…è£ç›’ (æŠŠé¸æ“‡å€¼è¨­ç‚ºnil) ï¼Œé€™æ™‚ARCåªè¦ç™¼ç¾è¨˜æ†¶é«”å·²ç¶“æ²’æœ‰ä»»ä½•å¸¸æ•¸æˆ–è®Šæ•¸åœ¨ä½¿ç”¨ï¼Œå°±æœƒè‡ªå‹•é‡‹æ”¾è¨˜æ†¶é«”
namedShape = nil

/*
è£œå……
é—œæ–¼"é¡åˆ¥"ä½¿ç”¨ let èˆ‡ var çš„å®£å‘Š
åœ¨ Swift ä¸­ï¼Œlet å’Œ var çš„ä¸»è¦å€åˆ¥åœ¨æ–¼å®ƒå€‘è²æ˜çš„æ˜¯å¸¸é‡é‚„æ˜¯è®Šé‡ã€‚
é€™å€‹å€åˆ¥æœƒå½±éŸ¿åˆ°è®Šé‡æœ¬èº«æ˜¯å¦å¯ä»¥è¢«é‡æ–°è³¦å€¼ï¼Œä½†å°æ–¼å¼•ç”¨é¡å‹ï¼ˆå¦‚é¡åˆ¥çš„å¯¦ä¾‹ï¼‰çš„å±¬æ€§ï¼Œæƒ…æ³æœƒæœ‰æ‰€ä¸åŒã€‚

è®“æˆ‘å€‘åˆ†åˆ¥ä¾†çœ‹é€™å…©ç¨®æƒ…æ³ï¼š

1. ä½¿ç”¨ let è²æ˜é¡åˆ¥çš„å¯¦ä¾‹ï¼š
let namedShape = NamedShape(name: "333")
ç•¶ä½ ä½¿ç”¨ let è²æ˜ namedShape æ™‚ï¼Œé€™æ„å‘³è‘— namedShape é€™å€‹å¸¸é‡ä¸€æ—¦è¢«è³¦äºˆ NamedShape çš„å¯¦ä¾‹ï¼Œå°±ä¸èƒ½å†æŒ‡å‘å¦ä¸€å€‹ä¸åŒçš„ NamedShape å¯¦ä¾‹ã€‚
ä½ ä¸èƒ½åšé¡ä¼¼ namedShape = NamedShape(name: "666") çš„æ“ä½œã€‚

ç„¶è€Œï¼ŒnamedShape é€™å€‹å¸¸é‡æ‰€å¼•ç”¨çš„ NamedShape å¯¦ä¾‹çš„å±¬æ€§ï¼ˆnumberOfSides å’Œ nameï¼‰ä»ç„¶å¯ä»¥è¢«ä¿®æ”¹ï¼Œå› ç‚ºé€™äº›å±¬æ€§æœ¬èº«æ˜¯è®Šé‡ï¼ˆç”¨ var è²æ˜çš„ï¼‰ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹æ“ä½œæ˜¯å…è¨±çš„ï¼š
namedShape.numberOfSides = 5
namedShape.name = "Pentagon"
print(namedShape.simpleDescription()) // è¼¸å‡º "A shape with 5 sides."
print(namedShape.name) // è¼¸å‡º "Pentagon"

2. ä½¿ç”¨ var è²æ˜é¡åˆ¥çš„å¯¦ä¾‹ï¼š
var namedShape = NamedShape(name: "333")
ç•¶ä½ ä½¿ç”¨ var è²æ˜ namedShape æ™‚ï¼ŒnamedShape æ˜¯ä¸€å€‹è®Šé‡ï¼Œé€™æ„å‘³è‘—ä½ å¯ä»¥é‡æ–°è³¦å€¼å®ƒï¼Œä½¿å…¶æŒ‡å‘å¦ä¸€å€‹ä¸åŒçš„ NamedShape å¯¦ä¾‹ã€‚

namedShape = NamedShape(name: "777") // é€™æ˜¯å…è¨±çš„
namedShape.numberOfSides = 8
namedShape.name = "Octagon"
print(namedShape.simpleDescription()) // è¼¸å‡º "A shape with 8 sides."
print(namedShape.name) // è¼¸å‡º "Octagon"

åŒæ¨£åœ°ï¼Œç”±æ–¼ numberOfSides å’Œ name éƒ½æ˜¯ç”¨ var è²æ˜çš„ï¼Œæ‰€ä»¥å®ƒå€‘çš„å€¼ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹ã€‚

*/


//------------------------------------é¡åˆ¥çš„ç¹¼æ‰¿ (inheritance) ---------------------------------------
/*
å­é¡åˆ¥ (subclass) åœ¨å…¶é¡åˆ¥åç¨±ä¹‹å¾ŒåŒ…æ‹¬å…¶çˆ¶é¡åˆ¥åç¨±ï¼Œä¸¦ç”¨å†’è™Ÿåˆ†éš”ã€‚
ä¸€å€‹é¡åˆ¥æ²’æœ‰è¦æ±‚è¦æ˜¯ä»»ä½•æ¨™æº–æ ¹é¡åˆ¥çš„å­é¡åˆ¥ï¼Œå› æ­¤æ‚¨å¯ä»¥æ ¹æ“šéœ€è¦åŒ…å«æˆ–çœç•¥çˆ¶é¡åˆ¥ã€‚
æ²’æœ‰ç¹¼æ‰¿è‡ªä»»ä½•çˆ¶é¡åˆ¥çš„é¡åˆ¥ï¼Œç¨±ç‚ºåŸºç¤é¡åˆ¥ (base class) ã€‚
å­é¡åˆ¥è‹¥ç¹¼æ‰¿è‡ªçˆ¶é¡åˆ¥ï¼Œå‰‡æœƒè‡ªå‹•å¾—åˆ°çˆ¶é¡åˆ¥çš„å±¬æ€§å’Œæ–¹æ³•ã€‚
åœ¨å­é¡åˆ¥ä¸Šè¦†å¯«çˆ¶é¡åˆ¥å¯¦ä½œçš„æ–¹æ³•ï¼Œéœ€ä»¥overrideé—œéµå­—æ¨™è¨˜ (æ„å¤–åœ°è¦†å¯«çˆ¶é¡åˆ¥çš„æ–¹æ³•ï¼Œè€Œæ²’æœ‰åŠ ä¸Šoverrideé—œéµå­—ï¼Œæœƒè¢«ç·¨è­¯å™¨æª¢æ¸¬ç‚ºéŒ¯èª¤ã€‚
ä¸€å€‹æ–¹æ³•å¯¦éš›ä¸Šä¸æœƒè¦†å¯«çˆ¶é¡åˆ¥ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œå»åŠ ä¸Šoverrideé—œéµå­—ï¼Œç·¨è­¯å™¨ä¹Ÿæœƒæª¢æ¸¬å‡ºä¸¦ä¸”å ±éŒ¯ã€‚)
*/

//å®£å‘ŠSquareç‚ºNamedShapeçš„å­é¡åˆ¥
class Square: NamedShape {
    /*
    ä»¥ä¸‹å…©å€‹å±¬æ€§ç¹¼æ‰¿è‡ªNamedShapeçˆ¶é¡åˆ¥
    var numberOfSides: Int = 0
    var name: String
    */
    //å¯è®€å¯å¯«çš„å±¬æ€§ï¼šé‚Šé•·å±¬æ€§
    var sideLength: Double

    /*
    åˆå§‹åŒ–æ–¹æ³•æœ‰å…©ç¨®ï¼š
    1.æŒ‡å®šåˆå§‹åŒ–æ–¹æ³• (Designated initializer) ï¼š
    "æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"æ˜¯é¡åˆ¥çš„ä¸»è¦åˆå§‹åŒ–æ–¹æ³•ï¼Œ "æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"æœƒå®Œå…¨åˆå§‹åŒ–è©²é¡åˆ¥çš„æ‰€æœ‰å±¬æ€§ (ç‚ºç¼ºå€¼çš„æ‰€æœ‰å±¬æ€§è£œä¸Šåˆå€¼) ï¼Œ
    ä¸¦ä¸”å‘¼å«é©ç•¶çš„çˆ¶é¡åˆ¥çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä»¥ç¹¼çºŒä¸²é€£åˆ°çˆ¶é¡åˆ¥çš„åˆå§‹åŒ–éç¨‹ã€‚
    (è¨˜æ†¶é‡é»ï¼šæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ç¸½æ˜¯"å‘ä¸Šä»£ç†" delegate up ) æ¯å€‹é¡åˆ¥å¿…é ˆè‡³å°‘æœ‰ä¸€å€‹"æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"ã€‚
    
    2.ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³• (Convenience initializer) ï¼š
    æœ‰å…©ç¨®å¯¦ä½œæ–¹å¼ï¼Œç¬¬ä¸€ç¨®æ˜¯ç›´æ¥å‘¼å«åˆ°ç›¸åŒé¡åˆ¥çš„"æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"ï¼Œç¬¬äºŒç¨®æ˜¯å‘¼å«ç›¸åŒé¡åˆ¥ä¸­å¦å¤–çš„"ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"ã€‚
     (è¨˜æ†¶é‡é»ï¼šä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•ç¸½æ˜¯"æ©«å‘ä»£ç†" delegate cross )
    æ³¨æ„ï¼šæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•æœƒåœ¨é¡åˆ¥çš„ç¹¼æ‰¿ä¸²ä¸­ï¼Œå½¢æˆåˆå§‹åŒ–éç¨‹çš„é€šé“ (funnel)
    
     Swiftå°åˆå§‹åŒ–æ–¹æ³•ä¹‹é–“çš„ä»£ç†å‘¼å«æ‡‰ç”¨äº†ä»¥ä¸‹ä¸‰æ¢è¦å‰‡ï¼š
     <è¦å‰‡1>
     æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•å¿…é ˆå¾å…¶ç›´æ¥çš„çˆ¶é¡åˆ¥å‘¼å«æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚ PS.å³"å‘ä¸Šä»£ç†" delegate up
     <è¦å‰‡2>
     ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•å¿…é ˆå‘¼å«ä¾†è‡ªåŒä¸€é¡åˆ¥çš„å¦ä¸€å€‹åˆå§‹åŒ–æ–¹æ³•ã€‚ PS.å³"æ©«å‘ä»£ç†" delegate cross
     <è¦å‰‡3>
     ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•æœ€çµ‚å¿…é ˆå‘¼å«åˆ°æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚
    */
    //å®£å‘Š"æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"
    init(sideLength: Double, name: String) {
        /*
        Swiftä¸­çš„é¡åˆ¥çš„åˆå§‹åŒ–æ˜¯ä¸€å€‹å…©éšæ®µçš„éç¨‹ï¼š
        1.ç¬¬ä¸€éšæ®µï¼Œç‚ºé¡åˆ¥çš„æ¯å€‹"å„²å­˜å±¬æ€§" (stored property) åˆ†é…äº†ä¸€å€‹åˆå§‹å€¼ã€‚ (å³ä»¥ä¸‹çš„Step1å’ŒStep2)
        2.ä¸€æ—¦ç¢ºå®šäº†æ¯å€‹å„²å­˜å±¬æ€§çš„åˆå§‹ç‹€æ…‹ï¼Œç¬¬äºŒéšæ®µå°±æœƒé–‹å§‹ï¼Œåœ¨æ–°çš„å¯¦é«”æ­£å¼è¢«ä½¿ç”¨ä¹‹å‰ï¼Œæ¯å€‹é¡åˆ¥éƒ½é‚„æœ‰æ©Ÿæœƒé€²ä¸€æ­¥è‡ªå®šå…¶å„²å­˜å±¬æ€§çš„åˆå§‹å€¼ã€‚
        (å³ä»¥ä¸‹çš„Step3)
        ä½¿ç”¨å…©éšæ®µåˆå§‹åŒ–çš„éç¨‹æœƒä½¿åˆå§‹åŒ–æ›´å®‰å…¨ï¼ŒåŒæ™‚ä»ç„¶ç‚ºé¡åˆ¥çš„å±¤æ¬¡æ¶æ§‹ (class hierarchy) ä¸­çš„æ¯å€‹é¡åˆ¥æä¾›å®Œå…¨çš„éˆæ´»æ€§ã€‚
        å…©éšæ®µåˆå§‹åŒ–å¯ä»¥é˜²æ­¢åœ¨åˆå§‹åŒ–å®Œæˆä¹‹å‰å­˜å–å±¬æ€§å€¼ï¼Œä¸¦ä¸”é˜²æ­¢å±¬æ€§å€¼è¢«å¦ä¸€å€‹åˆå§‹åŒ–æ–¹æ³•æ„å¤–è¨­å®šç‚ºä¸åŒçš„å€¼ã€‚
        */
        //-----ç¬¬ä¸€éšæ®µ-----
        //Step1.å…ˆç‚ºè‡ªå·±çš„å±¬æ€§è¨­å®šåˆå€¼
        self.sideLength = sideLength
        //Step2.ä»¥superé—œéµå­—ä¾†å‘¼å«çˆ¶é¡åˆ¥çš„åˆå§‹åŒ–æ–¹æ³• (å‘ä¸Šä»£ç†) ï¼Œç‚ºç¹¼æ‰¿è‡ªçˆ¶é¡åˆ¥çš„å±¬æ€§è¨­å®šåˆå€¼
        super.init(name: name)
        //-----ç¬¬äºŒéšæ®µ-----
        //Step3.æ›´æ”¹åŸä¾†å±¬æ€§è¨­å®šçš„åˆå§‹å€¼
        numberOfSides = 4
    }
    //å®£å‘Š"ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"
    convenience override init() {
        //ç¬¬ä¸€ç¨®å¯¦ä½œï¼šç›´æ¥å‘¼å«åˆ°ç›¸åŒé¡åˆ¥çš„"æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"
        self.init(sideLength: 4.99, name: "é è¨­æ­£æ–¹å½¢")
    }

    //å®£å‘Š"ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"
    convenience override init(name: String) {
        //ç¬¬äºŒç¨®å¯¦ä½œï¼šå‘¼å«ç›¸åŒé¡åˆ¥ä¸­å¦å¤–çš„"ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"
        self.init()
        self.name = name
    }

    //æ–¹æ³•ï¼šè¨ˆç®—æ­£æ–¹å½¢é¢ç©
    func area() -> Double {
        return sideLength * sideLength
    }
    //ä»¥overrideé—œéµå­—è¦†å¯«çˆ¶é¡åˆ¥çš„æ–¹æ³•ï¼Œæ›¿æ›çˆ¶é¡åˆ¥çš„"å¯¦ä½œ" (implementation)
    override func simpleDescription() -> String {
        return "A square with sides of length \(sideLength)."
    }
    //ç•¶å‡½å¼åç¨±ç›¸åŒï¼Œä½†å‡½å¼çš„å‹åˆ¥ä¸åŒæ™‚ï¼Œè¦–ç‚ºä¸åŒå‡½å¼ï¼Œä¸éœ€è¦overrideé—œéµå­—
    func simpleDescription(a: String) -> Double {
        return sideLength
    }
}
//å¯¦é«”åŒ–Square
let testSquare = Square(sideLength: 5.2, name: "my test square")
testSquare.name
testSquare.numberOfSides
testSquare.sideLength

testSquare.area()
testSquare.simpleDescription()

testSquare.simpleDescription(a: "testSquare")





// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ   â–ˆâ–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ   â–ˆ    â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ




//ã€Šç·´ç¿’11ã€‹è£½ä½œä¸€å€‹NamedShapeçš„å­é¡åˆ¥åç¨±ç‚ºCircleï¼Œè©²å­é¡åˆ¥ä»¥åŠå¾‘ (radius) å’Œåç¨± (name) ä½œç‚ºå…¶åˆå§‹åŒ–æ–¹æ³•çš„å¼•æ•¸ã€‚
// åœ¨Circleé¡åˆ¥ä¸Šå¯¦ä½œarea()æ–¹æ³•å’ŒsimpleDescription()æ–¹æ³•ã€‚
// è¨ˆç®—åœ“é¢ç©ï¼špi*radius*radius
Double.pi
Float.pi
//å®šç¾©åœ“å½¢é¡åˆ¥ç¹¼æ‰¿è‡ªNamedShapeé¡åˆ¥
class Circle: NamedShape {
    /*
    ä»¥ä¸‹å…©å€‹å±¬æ€§ç¹¼æ‰¿è‡ªNamedShapeçˆ¶é¡åˆ¥
    var numberOfSides: Int = 0
    var name: String
    */
    var radius: Double  //åŠå¾‘å±¬æ€§

    init(radius: Double, name: String) {
        //-----ç¬¬ä¸€éšæ®µ-----
        //Step1. å…ˆç‚ºè‡ªå·±çš„å±¬æ€§è¨­å®šåˆå€¼
        self.radius = radius
        //Step2. ä»¥superé—œéµå­—ä¾†å‘¼å«çˆ¶é¡åˆ¥çš„åˆå§‹åŒ–æ–¹æ³• (å‘ä¸Šä»£ç†) ï¼Œç‚ºç¹¼æ‰¿è‡ªçˆ¶é¡åˆ¥çš„å±¬æ€§è¨­å®šåˆå€¼
        super.init(name: name)
        //-----ç¬¬äºŒéšæ®µ-----
        //Step3. æ›´æ”¹åŸä¾†å±¬æ€§è¨­å®šçš„åˆå§‹å€¼
        numberOfSides = 1
    }

    //æ–¹æ³•ï¼šè¨ˆç®—åœ“å½¢é¢ç©
    func area() -> Double {
        return Double.pi * radius * radius
    }
    //æ–¹æ³•ï¼šåˆ—å°åœ“å½¢è³‡è¨Š
    override func simpleDescription() -> String {
        return "åœ“å½¢ï¼š\(name)ï¼ŒåŠå¾‘ï¼š\(radius)ï¼Œé¢ç©ï¼š\(area())"
    }
}
//æ¸¬è©¦
var circle = Circle(radius: 3.99, name: "å°åœ“")
circle.name
circle.numberOfSides
circle.radius
circle.area()
String(format: "%.2f", circle.area())
circle.simpleDescription()

circle.radius = 4.33

//é‡æ–°é…ç½®æ–°çš„Circleå¯¦é«”æ™‚ï¼ŒåŸä¾†çš„"å°åœ“"çš„è¨˜æ†¶é«”ç©ºé–“æœƒè‡ªå‹•é‡‹æ”¾
circle = Circle(radius: 10, name: "å¤§åœ“")
circle.name
circle.numberOfSides
circle.radius
circle.area()
String(format: "%.2f", circle.area())
circle.simpleDescription()

//------------å„²å­˜å±¬æ€§vs.è¨ˆç®—å±¬æ€§ (Stored Properties vs. Computed Properties) ------------
//é™¤äº†å„²å­˜çš„ç°¡å–®å±¬æ€§ä¹‹å¤–ï¼Œå±¬æ€§é‚„å¯ä»¥æœ‰ä¸€å€‹getterå’Œsetter (è¨ˆç®—å±¬æ€§) ã€‚
//å®šç¾©æ­£ä¸‰è§’å½¢é¡åˆ¥
class EquilateralTriangle: NamedShape {
    /*
    ä»¥ä¸‹å…©å€‹å±¬æ€§ç¹¼æ‰¿è‡ªNamedShapeçˆ¶é¡åˆ¥
    var numberOfSides: Int = 0
    var name: String
    */
    //å¯è®€å¯å¯«çš„å„²å­˜å±¬æ€§ï¼šé‚Šé•·å±¬æ€§
    var sideLength: Double  //= 0.0
    //æ³¨æ„ï¼šåˆå§‹åŒ–æ–¹æ³•å¿…é ˆç¢ºèªç‚ºæ‰€æœ‰ç¼ºå€¼çš„"å„²å­˜å±¬æ€§"è£œå€¼ï¼ (ä¸å¿…è€ƒæ…®è¨ˆç®—å±¬æ€§)
    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 3
    }

    //å¯è®€å¯å¯«çš„è¨ˆç®—å±¬æ€§ï¼šç¸½é‚Šé•·å±¬æ€§
    var perimeter: Double  //è¨ˆç®—å±¬æ€§åªèƒ½ä½¿ç”¨varå®£å‘Šï¼Œä¸å¯ä½¿ç”¨letå®£å‘Š
    {
        //å–å€¼æ®µ getter
        get {
            return 3.0 * sideLength
        }
        //è¨­å®šæ®µ setter (ä¸èƒ½è¨­å€¼åˆ°è‡ªå·±çš„å±¬æ€§ï¼Œå› ç‚ºæ­¤å±¬æ€§ç‚ºè¨ˆç®—å±¬æ€§)
        set  //(aValue)       //å¦‚æœä¸æƒ³ä½¿ç”¨é è¨­çš„newValueå¸¸æ•¸åç¨±æ¥å–è¨­å®šå€¼ï¼Œå¯ä»¥åœ¨seté—œéµå­—ä¹‹å¾ŒåŠ ä¸Š()è‡ªå®šæ¥å–è¨­å®šå€¼çš„å¸¸æ•¸åç¨±
        {
            //è¨­å®šæ®µçš„å¯¦ä½œåªèƒ½å­˜å€¼åˆ°å…¶ä»–çš„å„²å­˜å±¬æ€§ (ç”±æ¥å–åˆ°çš„ç¸½é‚Šé•·å›ç®—å–®é‚Šé•·åº¦)
            sideLength = newValue / 3.0  //è¨­å®šæ®µä»¥é è¨­çš„newValueå¸¸æ•¸åç¨±æ¥å–è¨­å®šå€¼
        }
    }
    /*
    <è£œå……ç·´ç¿’>ä»¥"å”¯è®€è¨ˆç®—å±¬æ€§"ä¾†è¨ˆç®—ä¸‰è§’å½¢é¢ç©
    æµ·é¾å…¬å¼ï¼šâˆšs (s-a)(s-b)(s-c)
    å…¬å¼ä¸­çš„aã€bã€c æ˜¯ç”¨ä¾†ä»£ç¨±ä¸‰è§’å½¢çš„ä¸‰é‚Šé•·ï¼›è€Œså‰‡æ˜¯ä¸‰è§’å½¢å‘¨é•·çš„ä¸€åŠï¼Œä¹Ÿå°±æ˜¯(a+b+c)/2ã€‚
    é–‹æ ¹è™Ÿçš„å‡½å¼ï¼šsqurt()
    */
    var area: Double {
        //        get       //å”¯è®€è¨ˆç®—å±¬æ€§å¯ä»¥çœç•¥geté—œéµå­—åŠå…¶{}
        //        {
        let s = perimeter / 2
        return sqrt(s * (s - sideLength) * (s - sideLength) * (s - sideLength))
        //        }
    }

    override func simpleDescription() -> String {
        return "An equilateral triangle with sides of length \(sideLength)."
    }
}
//æ¸¬è©¦ï¼šç”¢ç”Ÿæ­£ä¸‰è§’å½¢å¯¦é«”
var triangle = EquilateralTriangle(sideLength: 3.1, name: "a triangle")
//æ¸¬è©¦å„²å­˜å±¬æ€§
triangle.name
triangle.sideLength
triangle.numberOfSides
//æ¸¬è©¦è¨ˆç®—å±¬æ€§çš„å–å€¼
triangle.perimeter
//æ¸¬è©¦è¨ˆç®—å±¬æ€§çš„è¨­å€¼
triangle.perimeter = 9.9
triangle.sideLength
triangle.area



// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ    â–ˆ     â–ˆ â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ      â–ˆ
// â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ â–ˆ      â–ˆ      â–ˆ
// â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ    â–ˆ      â–ˆ
//
//
//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ
// â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ      â–ˆ â–ˆ     â–ˆ â–ˆ   â–ˆ      â–ˆ â–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ

/*
If you donâ€™t need to compute the property but still need to provide code thatâ€™s run before
and after setting a new value, use willSet and didSet. The code you provide is run any time
the value changes outside of an initializer. For example, the class below ensures that the
side length of its triangle is always the same as the side length of its square.

å‡è¨­ä½ ä¸éœ€è¦è¨ˆç®—å±¬æ€§ï¼Œä½†ä»ç„¶éœ€è¦åœ¨å€¼çš„è®ŠåŒ–ä¹‹å‰æˆ–ä¹‹å¾ŒåŠ å…¥ç¨‹å¼ç¢¼ï¼Œå¯ä»¥ä½¿ç”¨ willSet å’Œ didSet
willSet è·Ÿ didSet ä¸¦ä¸æ˜¯è¨ˆç®—å±¬æ€§
æ‰€ä»¥å®ƒè¬›çš„å…¶å¯¦æ˜¯å„²å­˜å±¬æ€§ï¼Œåªæ˜¯åœ¨ç¨‹å¼ç¢¼çš„è¡¨é”ä¸Šæœƒè·Ÿè¨ˆç®—å±¬æ€§æœ‰é»ç›¸åƒ
å„²å­˜å±¬æ€§å¯ä»¥æœ‰è§¸ç™¼æ©Ÿåˆ¶
å±¬æ€§è§€å¯Ÿå™¨ Property Observers ï¼ˆ willSetã€didSet ï¼‰
ç›£çœ‹ä¸¦å›æ‡‰å±¬æ€§å€¼çš„è®ŠåŒ–
å³ä½¿æ–°å€¼èˆ‡å±¬æ€§ç›®å‰çš„å€¼ç›¸åŒï¼Œéƒ½æœƒè§¸ç™¼å±¬æ€§è§€å¯Ÿå™¨
å±¬æ€§è§€å¯Ÿå™¨ä¸¦ä¸èƒ½åŠ åœ¨è¨ˆç®—å±¬æ€§èº«ä¸Š
*/
//--------------å±¬æ€§è§€å¯Ÿå™¨ (Property Observers) --------------
/*
å±¬æ€§è§€å¯Ÿå™¨æœƒç›£çœ‹ä¸¦å›æ‡‰å±¬æ€§å€¼çš„è®ŠåŒ–ã€‚æ¯æ¬¡è¨­å®šå±¬æ€§å€¼æ™‚éƒ½æœƒå‘¼å«å±¬æ€§è§€å¯Ÿå™¨ï¼Œå³ä½¿æ–°å€¼èˆ‡å±¬æ€§ç›®å‰çš„å€¼ç›¸åŒï¼Œéƒ½æœƒè§¸ç™¼å±¬æ€§è§€å¯Ÿå™¨ã€‚
æ‚¨å¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®æ–°å¢å±¬æ€§è§€å¯Ÿå™¨ï¼š
1.æ‚¨å®šç¾©çš„å„²å­˜å±¬æ€§
2.æ‚¨ç¹¼æ‰¿çš„å„²å­˜å±¬æ€§
3.æ‚¨ç¹¼æ‰¿çš„è¨ˆç®—å±¬æ€§
å°æ–¼ç¹¼æ‰¿çš„å±¬æ€§ï¼Œæ‚¨é€éåœ¨å­é¡åˆ¥ä¸­è¦†å¯«è©²å±¬æ€§ä¾†æ–°å¢å±¬æ€§è§€å¯Ÿå™¨ã€‚
å°æ–¼æ‚¨å®šç¾©çš„è¨ˆç®—å±¬æ€§ï¼Œä½¿ç”¨å±¬æ€§çš„setterä¾†ç›£çœ‹ä¸¦å›æ‡‰å€¼çš„è®ŠåŒ–ï¼Œè€Œä¸æ˜¯å˜—è©¦å»ºç«‹å±¬æ€§è§€å¯Ÿå™¨ã€‚

æ‚¨å¯ä»¥é¸æ“‡åœ¨å±¬æ€§ä¸Šå®šç¾©é€™äº›è§€å¯Ÿå™¨ä¸­çš„ä¸€å€‹æˆ–å…©å€‹ï¼š
1.willSetåœ¨å„²å­˜å€¼ä¹‹å‰è¢«å‘¼å«ã€‚
2.didSetå„²å­˜æ–°å€¼å¾Œç«‹å³å‘¼å«ã€‚
*/

//ä¸‹é¢çš„é¡åˆ¥ç¢ºä¿äº†å…¶ä¸‰è§’å½¢çš„é‚Šé•·å§‹çµ‚èˆ‡å…¶æ­£æ–¹å½¢çš„é‚Šé•·ç›¸åŒã€‚
//å®šç¾©"ä¸‰è§’å½¢èˆ‡æ­£æ–¹å½¢"é¡åˆ¥
class TriangleAndSquare {
    //å¯è®€å¯å¯«çš„å„²å­˜å±¬æ€§ï¼šæ­£ä¸‰è§’å½¢å±¬æ€§
    var triangle: EquilateralTriangle
    {
        willSet {
            square.sideLength = newValue.sideLength
        }
        didSet {

        }
    }
    //å¯è®€å¯å¯«çš„å„²å­˜å±¬æ€§ï¼šæ­£æ–¹å½¢å±¬æ€§
    var square: Square
    {
        willSet {
            triangle.sideLength = newValue.sideLength
        }
    }
    init(size: Double, name: String) {
        //åˆå§‹åŒ–æ–¹æ³•ä¸­çš„å¯¦ä½œï¼Œä¸æœƒè§¸ç™¼willSetå’ŒdidSet (æ­¤æ®µå¯¦ä½œå·²ç¶“ç¢ºä¿æ­£æ–¹å½¢èˆ‡æ­£ä¸‰è§’å½¢çš„é‚Šé•·ä¸€è‡´)
        square = Square(sideLength: size, name: name)
        triangle = EquilateralTriangle(sideLength: size, name: name)
    }
}
//æ¸¬è©¦
var triangleAndSquare = TriangleAndSquare(size: 10, name: "another test shape")
triangleAndSquare.square.sideLength

triangleAndSquare.triangle.sideLength

//ä»¥ä¸‹æœƒè§¸ç™¼squareå±¬æ€§çš„willSetï¼Œç¢ºä¿æ­£ä¸‰è§’å½¢çš„é‚Šé•·èˆ‡å…¶ä¸€è‡´
triangleAndSquare.square = Square(sideLength: 50, name: "larger square")
triangleAndSquare.square.sideLength
triangleAndSquare.triangle.sideLength
//ä»¥ä¸‹æœƒè§¸ç™¼triangleå±¬æ€§çš„willSetï¼Œç¢ºä¿æ­£æ–¹å½¢çš„é‚Šé•·èˆ‡å…¶ä¸€è‡´
triangleAndSquare.triangle = EquilateralTriangle(sideLength: 30, name: "æ–°ä¸‰è§’å½¢")
triangleAndSquare.square.sideLength
triangleAndSquare.triangle.sideLength

class Triangle: EquilateralTriangle {
    override var perimeter: Double
    {
        get {
            return 0
        }
        set {
            //å–ä»£å„²å­˜å±¬æ€§çš„willSetæˆ–didSet
        }
    }
}

//åœ¨è™•ç†é¸æ“‡å€¼æ™‚ï¼Œä½ å¯ä»¥åœ¨æ–¹æ³•ã€å±¬æ€§å’Œæ¨™è¨»ç­‰æ“ä½œä¹‹å‰å¯«ä¸Š?ã€‚å¦‚æœ?ä¹‹å‰çš„å€¼æ˜¯nilï¼Œ?ä¹‹å¾Œçš„ä¸€åˆ‡å‹•ä½œæœƒè¢«å¿½ç•¥ï¼Œæ•´å€‹è¡¨é”å¼çš„å€¼ç‚ºnilã€‚
// å¦‚æœ?ä¹‹å‰çš„å€¼ä¸æ˜¯nilï¼Œ?ä¹‹å¾Œçš„æ‰€æœ‰å…§å®¹æœƒæ˜¯æœªæ‹†å°çš„å€¼ã€‚
var optionalSquare: Square? = Square(sideLength: 2.5, name: "optional square")
let sideLength = optionalSquare?.sideLength  //æ­¤è™•å¾—åˆ°çš„å‹åˆ¥ç‚ºDouble? (é¸æ“‡æ€§ä¸²é€£å¿…ç„¶å¾—åˆ°é¸æ“‡å€¼)
let unwrappedSideLength = optionalSquare!.sideLength  //æ­¤è™•å¾—åˆ°çš„å‹åˆ¥ç‚ºDouble
optionalSquare = nil
optionalSquare?.sideLength

//é¸æ“‡æ€§ä¸²é€£é…åˆé¸æ“‡æ€§ç¶å®šï¼Œå¯ä»¥æ¸¬è©¦æ˜¯å¦å¾—åˆ°æœ€å¾Œä¸²é€£çš„å€¼ï¼Œä¸”è‡ªå‹•æ‹†å°
if let length = optionalSquare?.sideLength {
    print(length)
}


// â–ˆ       â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ     â–ˆ    â–ˆ â–ˆ          â–ˆ        â–ˆ    â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ
// â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ      â–ˆ            â–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ   â–ˆ       â–ˆ               â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ    â–ˆ      â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ           â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
//
//
//
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ    â–ˆ      â–ˆ    â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ      â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ â–ˆ      â–ˆ      â–ˆ    â–ˆ          â–ˆ
// â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ


//-------------<è£œå……>æƒ°æ€§å„²å­˜å±¬æ€§ (Lazy Stored Properties) -------------
/*
æƒ°æ€§å„²å­˜å±¬æ€§æ˜¯æŒ‡åœ¨é¦–æ¬¡ä½¿ç”¨ä¹‹å‰ä¸æœƒè³¦äºˆåˆå§‹å€¼çš„å±¬æ€§ã€‚
æ‚¨åœ¨varçš„å®£å‘Šä¹‹å‰æœƒå¯«å…¥lazyä¿®é£¾èªä¾†è¡¨ç¤ºæƒ°æ€§å„²å­˜å±¬æ€§ã€‚
æ‚¨å¿…é ˆå§‹çµ‚å°‡æƒ°æ€§å±¬æ€§å®£å‘Šç‚ºè®Šæ•¸ (ä½¿ç”¨varé—œéµå­—)
ç•¶å±¬æ€§çš„åˆå§‹å€¼ä¾è³´æ–¼å¤–éƒ¨å› ç´ æ™‚ï¼Œæˆ–ç•¶å±¬æ€§çš„åˆå§‹å€¼éœ€è¦è¤‡é›œæˆ–è€—æ™‚çš„è¨ˆç®—æ™‚ï¼Œæ‡¶æƒ°å±¬æ€§æœƒå¾ˆæœ‰ç”¨ï¼Œé™¤ééœ€è¦ï¼Œå¦å‰‡ä¸æ‡‰åŸ·è¡Œã€‚
*/

//ä¸‹é¢çš„ç¯„ä¾‹ä½¿ç”¨æƒ°æ€§å„²å­˜å±¬æ€§ä¾†é¿å…ä¸å¿…è¦çš„è¤‡é›œçš„é¡åˆ¥çš„åˆå§‹åŒ–ã€‚æœ¬ç¯„ä¾‹å®šç¾©äº†å…©å€‹åç‚ºDataImporterå’ŒDataManagerçš„é¡åˆ¥ï¼š
//å®šç¾©DataImporterï¼šæ­¤é¡åˆ¥æ¨¡æ“¬é–‹å•Ÿå¤–éƒ¨æª”æ¡ˆ
class DataImporter {
    /*
    DataImporter is a class to import data from an external file.
    The class is assumed to take a nontrivial amount of time to initialize.
    */
    var filename = "data.txt"
    // the DataImporter class would provide data importing functionality here
    //æ¨¡æ“¬é–‹æª”ä¸¦å¯«å…¥é™£åˆ—çš„é›¢ç·šè³‡æ–™
}

//å®šç¾©DataManageré¡åˆ¥ï¼Œæ¨¡æ“¬å°‡dataé™£åˆ—çš„è³‡æ–™å¯«å…¥å¤–éƒ¨æª”æ¡ˆ
class DataManager {
    //æ­¤æƒ°æ€§å„²å­˜å±¬æ€§ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡å­˜å–æ™‚ï¼Œæ‰æœƒé€²è¡ŒDataImporterçš„åˆå§‹åŒ–
    lazy var importer = DataImporter()
    var data: [String] = []  //var data = [String]()
    // the DataManager class would provide data management functionality here
}

//æ¸¬è©¦
let manager = DataManager()
//å…ˆæ“ä½œé™£åˆ—è™•ç†é›¢ç·šè³‡æ–™
manager.data.append("Some data")
manager.data.append("Some more data")
//æ¨¡æ“¬ç¬¬ä¸€æ¬¡å­˜å–æƒ°æ€§å±¬æ€§æ™‚ï¼Œæ‰å°‡é™£åˆ—è³‡æ–™å¯«å…¥å¤–éƒ¨æª”æ¡ˆ
manager.importer

/*
class DataManager {

    // å‡è¨­é€™å€‹å±¬æ€§çš„åˆå§‹åŒ–æˆæœ¬å¾ˆé«˜
    lazy var largeDataSet: [Int] = {
        print("åˆå§‹åŒ– largeDataSet...")

        // æ¨¡æ“¬è€—æ™‚çš„åˆå§‹åŒ–
        var data: [Int] = []
        for i in 0..<1000000 {
            data.append(i)
        }
        return data
    } ()

    func processData() {
        // åªæœ‰åœ¨éœ€è¦æ™‚æ‰æœƒåˆå§‹åŒ– largeDataSet
        print("é–‹å§‹è™•ç†è³‡æ–™...")
        print("è³‡æ–™é›†ä¸­çš„ç¬¬ä¸€å€‹æ•¸å­—ï¼š\(largeDataSet[0])")
    }
}

let manager = DataManager()
manager.processData()


åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼ŒlargeDataSet å±¬æ€§åªæœ‰åœ¨ processData() å‡½æ•¸ç¬¬ä¸€æ¬¡å­˜å–å®ƒæ™‚æ‰æœƒåˆå§‹åŒ–ã€‚
å¦‚æœå¾æœªå‘¼å« processData()ï¼Œå‰‡ largeDataSet æ°¸é ä¸æœƒåˆå§‹åŒ–ã€‚

*/

// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆâ–ˆ  â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ    â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ   â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ    â–ˆ      â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ


//==============åˆ—èˆ‰å’Œçµæ§‹ (Enumerations and Structures) ==============
//ä½¿ç”¨enumå»ºç«‹åˆ—èˆ‰ã€‚è·Ÿé¡åˆ¥å’Œæ‰€æœ‰å…¶ä»–å‘½åå‹åˆ¥ä¸€æ¨£ï¼Œåˆ—èˆ‰å¯ä»¥æœ‰èˆ‡ä¹‹é—œè¯çš„æ–¹æ³•ã€‚
//å®šç¾©æ’²å…‹ç‰Œåˆ—èˆ‰Rank
enum Rank: Int, CaseIterable  //å¯ä»¥ä½¿ç”¨å­—ä¸²æˆ–æµ®é»æ•¸ä½œç‚ºåˆ—èˆ‰çš„"åŸå§‹å‹åˆ¥" (raw type) ï¼Œä½¿ç”¨rawValueå±¬æ€§å­˜å–åˆ—èˆ‰caseçš„åŸå§‹å€¼ã€‚
{
    case ace = 1
    //åˆ—èˆ‰çš„åŸå§‹å€¼ (rawValue) é è¨­å¾0èµ·ç®—ï¼Œä¹Ÿå¯ä»¥è‡ªå®šèµ·ç®—çš„å€¼ï¼Œä»¥å¾Œæ¯ä¸€å€‹caseè‡ªå‹•åŠ 1
    case two, three, four, five, six, seven, eight, nine, ten  //2-10
    case jack, queen, king  //11-13
    //åˆ—èˆ‰ä¹Ÿå¯ä»¥å®šç¾©æ–¹æ³•
    func simpleDescription() -> String {
        //æª¢æ¸¬åˆ—èˆ‰å¯¦é«”æœ¬èº«
        switch self
        {
        //å…ˆæ””æˆªåœ–åƒç‰Œï¼Œå›å‚³åœ–åƒçš„èªªæ˜
        case .ace:
            return "ace"
        case .jack:
            return "jack"
        case .queen:
            return "queen"
        case .king:
            return "king"
        //æ””æˆª2-10è™Ÿç‰Œï¼Œå›å‚³å°æ‡‰æ•¸å­—çš„æ–‡å­—
        default:
            return String(self.rawValue)
        }
    }
}

// æ¸¬è©¦
// ç”¢ç”Ÿåˆ—èˆ‰å¯¦é«”
// <æ–¹æ³•ä¸€> ä»¥åˆ—èˆ‰çš„å‹åˆ¥é»å‡ºå€‹åˆ¥çš„case
let ace = Rank.ace
let aceRawValue = ace.rawValue  //åªæœ‰å¸¶åŸå§‹å€¼æ™‚ï¼Œæ‰å¯ä»¥ä½¿ç”¨rawValue

// ç”¢ç”Ÿåˆ—èˆ‰å¯¦é«”
// <æ–¹æ³•äºŒ> ç•¶åˆ—èˆ‰å¸¶åŸå§‹å€¼æ™‚ï¼Œå¯ä»¥ä½¿ç”¨å¸¶ rawValue åƒæ•¸çš„"å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•" (Failable Initializers) ä¾†å–å¾—åˆ—èˆ‰å¯¦é«”ï¼Œæ­¤æ™‚å‹åˆ¥ç‚ºé¸æ“‡æ€§å‹åˆ¥
var rank = Rank(rawValue: 14)  //ç•¶å‚³å…¥rawValueçš„å€¼ä¸åœ¨åˆ—èˆ‰çš„ç¯„åœå…§æ™‚ï¼Œå›å ±ç‚ºnil

rank = Rank(rawValue: 5)
rank?.rawValue

if let rank = Rank(rawValue: 5) {
    print(rank.rawValue)
    rank.simpleDescription()
}

if let convertedRank = Rank(rawValue: 3) {
    let threeDescription = convertedRank.simpleDescription()
}

if let convertedRank = Rank(rawValue: 13) {
    let threeDescription = convertedRank.simpleDescription()
}

//ã€Šç·´ç¿’12ã€‹æ’°å¯«ä¸€å€‹å‡½å¼ï¼Œé€éæ¯”è¼ƒå…©å€‹åŸå§‹å€¼ä¾†æ¯”è¼ƒå…©å€‹Rankå€¼ã€‚
func compare(rank1: Rank, rank2: Rank) -> String {
    if rank1.rawValue < rank2.rawValue {
        return "rank1:\(rank1.rawValue)æ¯”rank2:\(rank2.rawValue)å°"
    } else if rank1.rawValue > rank2.rawValue {
        return "rank1:\(rank1.rawValue)æ¯”rank2:\(rank2.rawValue)å¤§"
    } else {
        return "rank1:\(rank1.rawValue)å’Œrank2:\(rank2.rawValue)ä¸€æ¨£å¤§"
    }
}

compare(rank1: .eight, rank2: .king)
compare(rank1: .queen, rank2: .two)
compare(rank1: .five, rank2: .five)

compare(rank1: Rank(rawValue: 5)!, rank2: Rank(rawValue: 11)!)

//åˆ—èˆ‰ä¹Ÿå¯ä»¥æ²’æœ‰åŸå§‹å€¼
//å®šç¾©æ’²å…‹ç‰Œçš„èŠ±è‰²åˆ—èˆ‰ (æ²’æœ‰å¸¶åŸå§‹å€¼)
enum Suit: Int, CaseIterable  //åŸç¯„ä¾‹ä¸å¸¶åŸå§‹å€¼
{
    //é»‘æ¡ƒ,ç´…å¿ƒ,æ–¹å¡Š,æ¢…èŠ±
    case spades, hearts, diamonds, clubs
    //åˆ—å°èŠ±è‰²è³‡è¨Š
    func simpleDescription() -> String {
        switch self
        {
        case .spades:
            return "â™ ï¸"
        case .hearts:
            return "â¤ï¸"
        case .diamonds:
            return "â™¦ï¸"
        case .clubs:
            return "â™£ï¸"
        }
    }
    //ã€Šç·´ç¿’13ã€‹
    func color() -> String {
        switch self
        {
        case .spades, .clubs:
            return "é»‘è‰²"
        case .hearts, .diamonds:
            return "ç´…è‰²"
        }
    }

}
//æ¸¬è©¦
//ç•¶åˆ—èˆ‰ä¸å¸¶åŸå§‹å€¼æ™‚ï¼Œæ²’æœ‰å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ï¼Œå”¯ä¸€å–å¾—åˆ—èˆ‰å¯¦é«”çš„ä½œæ³•åªæœ‰ä¸Šé¢çš„<æ–¹æ³•ä¸€>
let hearts = Suit.hearts
let heartsDescription = hearts.simpleDescription()

//ã€Šç·´ç¿’13ã€‹åœ¨Suitä¸­æ–°å¢ä¸€å€‹color()æ–¹æ³•ï¼Œè©²æ–¹æ³•åœ¨é»‘æ¡ƒå’Œæ¢…èŠ±æ™‚æœƒå›å‚³"é»‘è‰²"ï¼Œåœ¨ç´…å¿ƒå’Œæ–¹å¡Šæ™‚æœƒå›å‚³"ç´…è‰²"ã€‚

hearts.color()

Suit.spades.color()
Suit.spades.simpleDescription()

//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ      â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ   â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ
//

//-------------<è£œå……>å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³• (Failable Initializers) -------------
//å®£å‘ŠAnimalé¡åˆ¥ (åŸç¯„ä¾‹ç‚ºstruct)
class Animal {
    let species: String  //å”¯è®€çš„å„²å­˜å±¬æ€§ï¼šå“ç¨®å±¬æ€§
    //å®šç¾©å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ï¼Œå¯¦ä½œåœ¨ç‰¹å®šæƒ…æ³ä¸‹æœƒå›å‚³nil
    init?(species: String) {
        //å‡å®šå“ç¨®ç‚ºç©ºç™½å­—ä¸²æ™‚ï¼Œç„¡æ³•è£½ä½œå‡ºAnimalçš„å¯¦é«” (instance)
        if species.isEmpty { return nil }
        self.species = species
    }
}

//<æ–¹æ³•ä¸€>ä½¿ç”¨å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ç”¢ç”ŸAnimalå¯¦é«”
let someCreature = Animal(species: "Giraffe")
// someCreature is of type Animal?, not Animal

if let giraffe = someCreature {
    print("An animal was initialized with a species of \(giraffe.species)")
}

//<æ–¹æ³•äºŒ>ä½¿ç”¨å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ç”¢ç”ŸAnimalå¯¦é«”
if let giraffe = Animal(species: "Giraffe") {
    print("An animal was initialized with a species of \(giraffe.species)")
}
//æ¸¬è©¦å“ç¨®ç©ºç™½ï¼Œç„¡æ³•ç”¢ç”ŸAnimailå¯¦é«”
if let giraffe = Animal(species: "") {
    print("An animal was initialized with a species of \(giraffe.species)")
} else {
    print("ç„¡æ³•è¾¨è­˜çš„Animal")
}

//------------åˆ—èˆ‰çš„å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³• (Failable Initializers for Enumerations) ------------
//å®šç¾©æº«åº¦å–®ä½çš„åˆ—èˆ‰ (æ­¤åˆ—èˆ‰ä¸å¸¶åŸå§‹å€¼ï¼Œä¸æœƒè‡ªå‹•å¾—åˆ°ä¸€å€‹å¸¶rawValueåƒæ•¸çš„å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•)
enum TemperatureUnit {
    case kelvin  //çµ•å°æº«åº¦
    case celsius  //æ”æ°æº«åº¦
    case fahrenheit  //è¯æ°æº«åº¦
    //è‡ªå·±å®šç¾©ä¸€å€‹å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•
    init?(symbol: Character) {
        //ä»¥å°æ‡‰æº«åº¦å–®ä½çš„ä¸‰ç¨®å­—å…ƒä¾†å–å¾—åˆ—èˆ‰å¯¦é«”ï¼Œè‹¥å­—å…ƒä¸å°æ‡‰å‰‡å›å‚³nil
        switch symbol
        {
        case "K":
            self = .kelvin
        case "C":
            self = .celsius
        case "F":
            self = .fahrenheit
        //è‹¥å­—å…ƒä¸å°æ‡‰å‰‡å›å‚³nil
        default:
            return nil
        }
    }
}
//ä»¥å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•å–å¾—åˆ—èˆ‰å¯¦é«”
let fahrenheitUnit = TemperatureUnit(symbol: "F")
if fahrenheitUnit != nil {
    print("This is a defined temperature unit, so initialization succeeded.")
}

//ä»¥å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ç„¡æ³•åˆ—èˆ‰å¯¦é«”æ™‚ (å‚³å…¥ä¸åˆæ³•å­—å…ƒ)
let unknownUnit = TemperatureUnit(symbol: "X")
if unknownUnit == nil {
    print("This isn't a defined temperature unit, so initialization failed.")
}

//------------åˆ—èˆ‰å¸¶rawValueåƒæ•¸çš„å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³• (Failable Initializers for Enumerations with Raw Values) ------------
//å®šç¾©æº«åº¦å–®ä½çš„åˆ—èˆ‰ (æ­¤åˆ—èˆ‰å¸¶åŸå§‹å€¼ï¼Œæœƒè‡ªå‹•å¾—åˆ°ä¸€å€‹å¸¶rawValueåƒæ•¸çš„å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•)
enum TemperatureUnit2: Character {
    case kelvin = "K"
    case celsius = "C"
    case fahrenheit = "F"
}

//ä»¥å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•å–å¾—åˆ—èˆ‰å¯¦é«”
let fahrenheitUnit2 = TemperatureUnit2(rawValue: "F")
if fahrenheitUnit2 != nil {
    print("This is a defined temperature unit, so initialization succeeded.")
}
// Prints "This is a defined temperature unit, so initialization succeeded."

//ä»¥å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•ç„¡æ³•åˆ—èˆ‰å¯¦é«”æ™‚ (å‚³å…¥ä¸åˆæ³•å­—å…ƒ)
let unknownUnit2 = TemperatureUnit2(rawValue: "X")
if unknownUnit2 == nil {
    print("This isn't a defined temperature unit, so initialization failed.")
}

//---------åˆ—èˆ‰å¸¶åŸå§‹å€¼èˆ‡ä¸å¸¶åŸå§‹å€¼---------
//å®šç¾©CompassPoint1åˆ—èˆ‰ (ä¸å¸¶åŸå§‹å€¼)
enum CompassPoint1 {
    case north
    case south
    case east
    case west
}
//å–å¾—åˆ—èˆ‰å¯¦é«”
let cp1 = CompassPoint1.east
cp1.hashValue  //æ­¤åˆ—èˆ‰å¯¦é«”ä¸å¸¶åŸå§‹å€¼ï¼Œæ²’æœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨ (æ­¤å±¬æ€§ç‚ºé›œæ¹Šå€¼)

//å®šç¾©CompassPoint2åˆ—èˆ‰ (å¸¶åŸå§‹å€¼Int)
enum CompassPoint2: Int {
    case north = 1
    case south
    case east
    case west
}
//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•ä¸€>
var cp2: CompassPoint2? = CompassPoint2.east
cp2?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•äºŒ>
cp2 = CompassPoint2(rawValue: 2)
cp2!.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

//å®šç¾©CompassPoint3åˆ—èˆ‰ (å¸¶åŸå§‹å€¼Character)
enum CompassPoint3: Character {
    case north = "N"
    case south = "S"
    case east = "E"
    case west = "W"
}
//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•ä¸€>
var cp3: CompassPoint3? = CompassPoint3.east
cp3?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•äºŒ>
cp3 = CompassPoint3(rawValue: "E")
cp3!.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

//å®šç¾©CompassPoint4åˆ—èˆ‰ (å¸¶åŸå§‹å€¼String)
enum CompassPoint4: String {
    case north
    case south
    case east
    case west = "w"  //ä¸ä½¿ç”¨Stringé è¨­çš„åŸå§‹å€¼ï¼Œå¯ä»¥è‡ªè¡ŒæŒ‡å®š
}
//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•ä¸€>
var cp4: CompassPoint4? = CompassPoint4.east
cp4?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶StringåŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨ï¼ŒStringåŸå§‹å€¼é è¨­ç‚ºcaseåç¨±

//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•äºŒ>
cp4 = CompassPoint4(rawValue: "north")
cp4!.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

cp4 = CompassPoint4(rawValue: "west")
cp4 = CompassPoint4(rawValue: "W")
cp4 = CompassPoint4(rawValue: "w")

//å®šç¾©CompassPoint5åˆ—èˆ‰ (å¸¶åŸå§‹å€¼Double)
enum CompassPoint5: Double {
    case north
    case south
    case east
    case west = 3.3
}
//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•ä¸€>
var cp5: CompassPoint5? = CompassPoint5.east
cp5?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨ï¼ŒDoubleåŸå§‹å€¼é è¨­ç‚º0.0~3.0

//å–å¾—åˆ—èˆ‰å¯¦é«”<æ–¹æ³•äºŒ>
cp5 = CompassPoint5(rawValue: 2)
cp5?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

cp5 = CompassPoint5(rawValue: 3)
cp5?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

cp5 = CompassPoint5(rawValue: 3.3)
cp5?.rawValue  //æ­¤åˆ—èˆ‰å¯¦é«”å¸¶åŸå§‹å€¼ï¼Œæœ‰rawValueå±¬æ€§å¯ä»¥ä½¿ç”¨

//-------------åˆ—å‡ºåˆ—èˆ‰çš„æ‰€æœ‰case (Iterating over Enumeration Cases) -------------
//å®šç¾©Beverage(é£²æ–™)åˆ—èˆ‰
enum Beverage: Int, CaseIterable  //å¼•å…¥CaseIterableå”å®š (protocol) ï¼Œæœƒå–å¾—allCaseså±¬æ€§ï¼Œæ‰èƒ½ä½¿ç”¨for-inè¿´åœˆåˆ—å‡ºæ‰€æœ‰case
{
    case coffee, tea, juice
}
//ç”¢ç”ŸBeverageå¯¦é«”
let beverage = Beverage.tea

//å–å¾—æ‰€æœ‰åˆ—èˆ‰caseå¯¦é«”çš„é™£åˆ—<æ–¹æ³•ä¸€>é…åˆCaseIterableå”å®š
let beverages = Beverage.allCases
//ä»¥for-inè¿´åœˆåˆ—å‡ºé™£åˆ—
for beverage in beverages {
    //ä»¥ç‰¹å®š"åˆ—èˆ‰å¯¦é«”"é€²è¡Œè™•ç†
    print(beverage)
}

//å–å¾—æ‰€æœ‰åˆ—èˆ‰caseå¯¦é«”çš„é™£åˆ—<æ–¹æ³•äºŒ>é…åˆCaseIterableå”å®š
for beverage in Beverage.allCases {
    //ä»¥ç‰¹å®š"åˆ—èˆ‰å¯¦é«”"é€²è¡Œè™•ç†
    print(beverage)
}

//å–å¾—æ‰€æœ‰åˆ—èˆ‰caseçš„å¯¦é«”<æ–¹æ³•ä¸‰>å¦‚æœåˆ—èˆ‰å¸¶IntåŸå§‹å€¼æ™‚ï¼Œå¯ä»¥è‡ªè¡ŒæŒ‡å®šåŸå§‹å€¼ç¯„åœï¼Œä»¥å¸¶rawValueåƒæ•¸çš„å¯å¤±æ•—åˆå§‹åŒ–æ–¹æ³•è£½ä½œåˆ—èˆ‰å¯¦é«”
for i in 0...2 {
    //ä»¥ç‰¹å®š"åˆ—èˆ‰å¯¦é«”"é€²è¡Œè™•ç†
    print(Beverage(rawValue: i)!)
}

//å–å¾—åˆ—èˆ‰ä¸­caseçš„æ•¸é‡ (ç”±caseçš„é™£åˆ—å€‹æ•¸å–å¾—)
let numberOfChoices = Beverage.allCases.count
print("\(numberOfChoices) beverages available")



//  â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ          â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆ   â–ˆ    â–ˆ    â–ˆ      â–ˆ   â–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ      â–ˆ      â–ˆ  â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆ   â–ˆ    â–ˆ    â–ˆ      â–ˆ   â–ˆ          â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ
// â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ            â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
//
//
//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ      â–ˆâ–ˆ  â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ â–ˆ           â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ



//-------------åˆ—èˆ‰çš„é—œè¯å€¼ (Associated Values for Enumeration) -------------
// å¯ä»¥å®šç¾©Swiftåˆ—èˆ‰ä¾†å„²å­˜ä»»ä½•çµ¦å®šå‹åˆ¥çš„é—œè¯å€¼ï¼Œå¦‚æœéœ€è¦å¯ä»¥é‡å°æ¯å€‹åˆ—èˆ‰çš„æƒ…æ³ä¸åŒä¾†çµ¦æ¯ä¸€å€‹caseä¸åŒçš„å€¼ã€‚
// ä¾‹å¦‚ï¼Œä¸€äº›ç”¢å“æ¨™æœ‰UPCæ ¼å¼çš„"ä¸€ç¶­æ¢ç¢¼" (barcode) ï¼Œä½¿ç”¨æ•¸å­—0åˆ°9ã€‚ æ¯å€‹æ¢ç¢¼éƒ½æœ‰ä¸€å€‹æ•¸å­—ç³»çµ±ï¼Œå¾Œé¢æ˜¯äº”å€‹è£½é€ å•†ç¢¼å’Œäº”å€‹ç”¢å“ç¢¼ã€‚
// é€™äº›å‰å¾Œé¢å„æ˜¯ä¸€å€‹æª¢æŸ¥ç¢¼ï¼Œä»¥é©—è­‰ç¨‹å¼æ˜¯å¦å·²æ­£ç¢ºæƒæã€‚å…¶ä»–ç”¢å“å‰‡æ¨™æœ‰äºŒç¶­æ¢ç¢¼ (QR-Code) ï¼Œå¯ä»¥ç·¨ç¢¼é•·é”2,953å€‹å­—å…ƒçš„å­—ä¸²ã€‚
// å®šç¾©Barcode (æ¢ç¢¼) åˆ—èˆ‰
enum Barcode {
    //æ³¨æ„ï¼šåˆ—èˆ‰çš„é—œè¯å€¼å³æ˜¯ä»¥"å…ƒçµ„"çš„å½¢å¼ï¼Œä¾†å°æ‡‰æ¯ä¸€å€‹caseä¸åŒçš„å€¼
    case upc(Int, Int, Int, Int)  //ä¸€ç¶­æ¢ç¢¼ (UPCå½¢å¼)
    case qrCode(String)  //äºŒç¶­æ¢ç¢¼
}
//å–å¾—ä¸€ç¶­æ¢ç¢¼çš„å¯¦é«”ï¼Œä¸¦ä¸”è³¦äºˆå…¶é—œè¯å€¼
var productBarcode = Barcode.upc(8, 85909, 51226, 3)
productBarcode = .upc(1, 23456, 78999, 9)

productBarcode = .qrCode("ABCDEFGHIJKLMNOP")
productBarcode = .qrCode("http://apple.com/tw")

//ä»¥ä¸‹ç¯„ä¾‹ä»¥åˆ—èˆ‰ä¾†å¾ä¼ºæœå™¨è¦æ±‚æ—¥å‡ºå’Œæ—¥è½çš„æ™‚é–“ã€‚ä¼ºæœå™¨æœƒä»¥è«‹æ±‚çš„è³‡è¨Šä¾†å›è¦†ï¼Œä¸ç„¶å°±ä»¥éŒ¯èª¤è¨Šæ¯å›è¦†ã€‚
//å®šç¾©ServerResponseåˆ—èˆ‰
enum ServerResponse {
    case result(String, String)  //ä¼ºæœå™¨å›æ‡‰æ—¥å‡ºå’Œæ—¥è½çš„æ™‚é–“
    case failure(String)  //ä¼ºæœå™¨å›æ‡‰éŒ¯èª¤
    case tide(String, String)  //ã€Šç·´ç¿’14ã€‹ä¼ºæœå™¨å›æ‡‰æ¼²æ½®å’Œé€€æ½®çš„æ™‚é–“

    func simpleDescription() -> String {
        //è®€å–åˆ—èˆ‰å¯¦é«”ä¸­çš„é—œè¯å€¼
        switch self
        {
        //  case .result(let sunrise, let sunset):
        case let .result(sunrise, sunset):
            return "Sunrise is at \(sunrise) and sunset is at \(sunset)."
        //  case .failure(let message):
        case let .failure(message):
            return "Failure...  \(message)"
        //ã€Šç·´ç¿’14ã€‹
        case let .tide(rising, ebb):
            return "æ¼²æ½®ï¼š\(rising)ï¼Œé€€æ½®ï¼š\(ebb)"
        }
    }
}

//å–å¾—ä¼ºæœå™¨å›æ‡‰çš„å¯¦é«”
let success = ServerResponse.result("6:00 am", "8:09 pm")
let failure = ServerResponse.failure("Out of cheese.")

////è®€å–åˆ—èˆ‰å¯¦é«”ä¸­çš„é—œè¯å€¼
//switch success
//{
////  case .result(let sunrise, let sunset):
//    case let .result(sunrise, sunset):
//        print("Sunrise is at \(sunrise) and sunset is at \(sunset).")
////  case .failure(let message):
//    case let .failure(message):
//        print("Failure...  \(message)")
//    case let .tide(rising, ebb):
//        print("æ¼²æ½®ï¼š\(rising)ï¼Œé€€æ½®ï¼š\(ebb)")
//}

////è®€å–åˆ—èˆ‰å¯¦é«”ä¸­çš„é—œè¯å€¼
//switch failure
//{
////  case .result(let sunrise, let sunset):
//    case let .result(sunrise, sunset):
//        print("Sunrise is at \(sunrise) and sunset is at \(sunset).")
////  case .failure(let message):
//    case let .failure(message):
//        print("Failure...  \(message)")
//    case let .tide(rising, ebb):
//        print("æ¼²æ½®ï¼š\(rising)ï¼Œé€€æ½®ï¼š\(ebb)")
//}

//<ä¿®æ­£>ä»¥åˆ—èˆ‰çš„æ–¹æ³•ä¾†é€²è¡Œåˆ—èˆ‰å¯¦é«”çš„æª¢æ¸¬ï¼Œå¯ä»¥é¿å…æª¢æ¸¬ç¨‹å¼é‡è¤‡æ’°å¯«
success.simpleDescription()
failure.simpleDescription()

//ã€Šç·´ç¿’14ã€‹åœ¨ServerResponseåˆ—èˆ‰ä¸­æ–°å¢ç¬¬ä¸‰å€‹case (tide~rising,ebb) ï¼Œè€Œä¸”åœ¨Switchæª¢æ¸¬ä¸­ï¼Œä¹Ÿå¢åŠ ç¬¬ä¸‰å€‹caseã€‚
let tide = ServerResponse.tide("6:30 am", "8:23 pm")
tide.simpleDescription()

// ä½¿ç”¨structä¾†å»ºç«‹çµæ§‹ï¼Œçµæ§‹æ”¯æ´è¨±å¤šèˆ‡é¡åˆ¥ç›¸åŒçš„è¡Œç‚ºï¼ŒåŒ…æ‹¬æ–¹æ³• (method) å’Œåˆå§‹åŒ–æ–¹æ³• (initializer) ã€‚
// çµæ§‹å’Œé¡åˆ¥ä¹‹é–“æœ€é‡è¦çš„ä¸åŒæ˜¯ï¼šç•¶çµæ§‹å¯¦é«”åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ï¼Œç¸½æ˜¯è¢«è¤‡è£½ä¸€ä»½ï¼Œ
// ä½†é¡åˆ¥å¯¦é«”æ˜¯é€é"å¼•ç”¨" (reference) å‚³éçš„ (æœƒ"åƒè€ƒ"åˆ°åŒä¸€å¡Šè¨˜æ†¶é«”é…ç½®ç©ºé–“) ã€‚
// å®šç¾©å–®å¼µæ’²å…‹ç‰Œçµæ§‹
struct Card {
    // çµæ§‹æˆå“¡èˆ‡é¡åˆ¥å±¬æ€§çš„å®£å‘Šæ–¹å¼ç›¸åŒ (å¯ç”¨varæˆ–let) ï¼Œçµæ§‹æœƒè‡ªå‹•å¾—åˆ°ä¸€å€‹"æŒ‰ç…§æˆå“¡é †åºçš„åˆå§‹åŒ–æ–¹æ³•" (memberwise initialier)
    var rank: Rank  //æ’²å…‹ç‰Œç‰Œæ•¸çš„æˆå“¡
    var suit: Suit  //æ’²å…‹ç‰ŒèŠ±è‰²çš„æˆå“¡
    // å¯¦é«”æ–¹æ³• (instance method) ï¼šåˆ—å°å–®å¼µæ’²å…‹ç‰Œçš„èŠ±è‰²å’Œç‰Œæ•¸
    func simpleDescription() -> String {
        return "\(suit.simpleDescription()) \(rank.simpleDescription())"
    }

    // å‹åˆ¥æ–¹æ³• (type method) ï¼š<æ–¹æ³•ä¸‰>ä»¥CaseIterableå”å®šå–å¾—ç‰Œæ•¸å’ŒèŠ±è‰²çš„å¯¦é«”
    static func fullDeckOfCardsV3() -> [Card]  //ä»¥staticé—œéµå­—å»ºç«‹"å‹åˆ¥æ–¹æ³•"
    {
        //å…ˆæº–å‚™æ’²å…‹ç‰Œçš„ç©ºé™£åˆ—
        var cards = [Card]()

        //å¤–è¿´åœˆè·‘ç‰Œæ•¸
        for rank in Rank.allCases {
            //å…§è¿´åœˆè·‘èŠ±è‰²
            for suit in Suit.allCases {
                //çµæ§‹å¯¦é«”åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ï¼Œç¸½æ˜¯è¢«è¤‡è£½ä¸€ä»½
                let card = Card(rank: rank, suit: suit)
                //è¤‡è£½ä¸€ä»½å–®å¼µæ’²å…‹ç‰Œï¼Œè¨­å®šçµ¦é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ 
                cards.append(card)
            }
        }

        //å›å‚³ä¸€æ•´å‰¯æ’²å…‹ç‰Œ
        return cards
    }
}
//æ¸¬è©¦
let threeOfSpades = Card(rank: .three, suit: .spades)
let threeOfSpadesDescription = threeOfSpades.simpleDescription()
//ä»¥Cardçµæ§‹ä¾†åŸ·è¡Œå›å‚³ä¸€æ•´å‰¯æ’²å…‹ç‰Œçš„"å‹åˆ¥æ–¹æ³•"
Card.fullDeckOfCardsV3()

Card(rank: .jack, suit: .diamonds).simpleDescription()

//ã€Šç·´ç¿’15ã€‹æ’°å¯«ä¸€å€‹å…¨åŸŸå‡½å¼ï¼Œå›å‚³ä¸€å€‹åŒ…å«ä¸€æ•´å‰¯æ’²å…‹ç‰Œçš„é™£åˆ—ï¼Œé™£åˆ—çš„æ¯å€‹å…ƒç´ åŒ…å«ç‰Œæ•¸å’ŒèŠ±è‰²çš„çµ„åˆã€‚
//<æ–¹æ³•ä¸€>è‡ªè¡Œè¨­å®šç‰Œæ•¸å’ŒèŠ±è‰²çš„ç¯„åœ
func fullDeckOfCardsV1() -> [Card] {
    //å…ˆæº–å‚™æ’²å…‹ç‰Œçš„ç©ºé™£åˆ—
    var cards = [Card]()
    //å¤–è¿´åœˆè·‘ç‰Œæ•¸
    for i in 1...13 {
        //å…§è¿´åœˆè·‘èŠ±è‰²
        for j in 0...3 {
            //çµæ§‹å¯¦é«”åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ï¼Œç¸½æ˜¯è¢«è¤‡è£½ä¸€ä»½
            let card = Card(rank: Rank(rawValue: i)!, suit: Suit(rawValue: j)!)
            //è¤‡è£½ä¸€ä»½å–®å¼µæ’²å…‹ç‰Œï¼Œè¨­å®šçµ¦é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ 
            cards.append(card)
        }
    }
    //å›å‚³ä¸€æ•´å‰¯æ’²å…‹ç‰Œ
    return cards
}
//å‘¼å«å‡½å¼å–å¾—ä¸€æ•´å‰¯æ’²å…‹ç‰Œé™£åˆ—
var cards = fullDeckOfCardsV1()
//ä»¥for-inè¿´åœˆåˆ—å‡ºæ’²å…‹ç‰Œé™£åˆ—
for card in cards {
    print(card.simpleDescription())
}
//<æ–¹æ³•äºŒ>ä»¥CaseIterableå”å®šå–å¾—ç‰Œæ•¸å’ŒèŠ±è‰²çš„å¯¦é«”
func fullDeckOfCardsV2() -> [Card] {
    //å…ˆæº–å‚™æ’²å…‹ç‰Œçš„ç©ºé™£åˆ—
    var cards = [Card]()

    //å¤–è¿´åœˆè·‘ç‰Œæ•¸
    for rank in Rank.allCases {
        //å…§è¿´åœˆè·‘èŠ±è‰²
        for suit in Suit.allCases {
            //çµæ§‹å¯¦é«”åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ï¼Œç¸½æ˜¯è¢«è¤‡è£½ä¸€ä»½
            let card = Card(rank: rank, suit: suit)
            //è¤‡è£½ä¸€ä»½å–®å¼µæ’²å…‹ç‰Œï¼Œè¨­å®šçµ¦é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ 
            cards.append(card)
        }
    }

    //å›å‚³ä¸€æ•´å‰¯æ’²å…‹ç‰Œ
    return cards
}
//å‘¼å«å‡½å¼å–å¾—ä¸€æ•´å‰¯æ’²å…‹ç‰Œé™£åˆ—
cards = fullDeckOfCardsV2()
//ä»¥for-inè¿´åœˆåˆ—å‡ºæ’²å…‹ç‰Œé™£åˆ—
for card in cards {
    print(card.simpleDescription())
}


// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ


// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆâ–ˆ
//   â–ˆ     â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ    â–ˆ
//   â–ˆ      â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆ
//   â–ˆ      â–ˆ    â–ˆ      â–ˆ             â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ            â–ˆ
//   â–ˆ      â–ˆ    â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ        â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ



// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ
//   â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ        â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ      â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ
//   â–ˆ    â–ˆ â–ˆ â–ˆ   â–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆ
//   â–ˆ    â–ˆ  â–ˆâ–ˆ      â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ      â–ˆ             â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ          â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ



//-------<è£œå……>å‹åˆ¥å±¬æ€§ vs. å¯¦é«”å±¬æ€§ (Type Properties vs. Instance Properties) --------
//-----------<è£œå……>å‹åˆ¥æ–¹æ³• vs. å¯¦é«”æ–¹æ³• (Type Methods vs. Instance Methods) ----------
struct SomeStructure {
    //@MainActor:In Swift structures, enumerations, and classes primarily arises when that property is intended to be accessed or modified only on the main thread, especially within the context of UI frameworks like UIKit.
    //å‹åˆ¥çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§
    @MainActor static var storedTypeProperty = "Some value."
    //å‹åˆ¥çš„å”¯è®€è¨ˆç®—å±¬æ€§
    static var computedTypeProperty: Int {
        return 1
    }
    //å‹åˆ¥æ–¹æ³•
    static func someTypeMethod() {

    }
    //å¯¦é«”çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§ (æ³¨æ„ï¼šæ­¤å±¬æ€§ç‚ºçµæ§‹æˆå“¡ï¼Œç•¶çµæ§‹æˆå“¡æœ‰é è¨­å€¼æ™‚ï¼Œçµæ§‹çš„åˆå§‹åŒ–æ–¹æ³•æœƒå¤šä¸€å€‹ä¸éœ€æ­¤æˆå“¡çš„åˆå§‹åŒ–æ–¹æ³•)
    var storedInstanceProperty = "Some value."
    //å¯¦é«”æ–¹æ³•
    func someInstanceMethod() {

    }
}
//ä½¿ç”¨æŒ‰ç…§æˆå“¡é †åºçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œé…ç½®çµæ§‹å¯¦é«”
var someStructure = SomeStructure(storedInstanceProperty: "abc")
//ä½¿ç”¨æˆå“¡é è¨­å€¼çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œé…ç½®çµæ§‹å¯¦é«”
someStructure = SomeStructure()
//å­˜å–å¯¦é«”å±¬æ€§èˆ‡å¯¦é«”æ–¹æ³•
someStructure.storedInstanceProperty
someStructure.someInstanceMethod()
//å­˜å–å‹åˆ¥å±¬æ€§èˆ‡å‹åˆ¥æ–¹æ³•
SomeStructure.computedTypeProperty
SomeStructure.storedTypeProperty
SomeStructure.someTypeMethod()

SomeStructure.storedTypeProperty = "Another value."
print(SomeStructure.storedTypeProperty)

enum SomeEnumeration {
    case a, b, c
    //å‹åˆ¥çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§
    @MainActor static var storedTypeProperty = "Some value."
    //å‹åˆ¥çš„å”¯è®€è¨ˆç®—å±¬æ€§
    static var computedTypeProperty: Int {
        return 6
    }
    //å‹åˆ¥æ–¹æ³•
    static func someTypeMethod() {

    }

    //å¯¦é«”çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§ (æ³¨æ„ï¼šæ­¤å±¬æ€§ç‚ºçµæ§‹æˆå“¡ï¼Œç•¶çµæ§‹æˆå“¡æœ‰é è¨­å€¼æ™‚ï¼Œçµæ§‹çš„åˆå§‹åŒ–æ–¹æ³•æœƒå¤šä¸€å€‹ä¸éœ€æ­¤æˆå“¡çš„åˆå§‹åŒ–æ–¹æ³•)
    //    var storedInstanceProperty = "Some value."    //åˆ—èˆ‰çš„å¯¦é«”å±¬æ€§ä¸å¯ä½¿ç”¨"å„²å­˜å±¬æ€§"è£½ä½œ
    //Error:Enums must not contain stored properties
    //å¯è®€å¯å¯«çš„å¯¦é«”è¨ˆç®—å±¬æ€§
    var computedInstanceProperty: Int
    {
        get {
            return 1
        }
        set {

        }
    }

    //å¯¦é«”æ–¹æ³•
    func someInstanceMethod() {

    }
}

// ä½¿ç”¨æŒ‰ç…§æˆå“¡é †åºçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œé…ç½®çµæ§‹å¯¦é«”
var someEnumeration = SomeEnumeration.a
// å­˜å–å¯¦é«”å±¬æ€§èˆ‡å¯¦é«”æ–¹æ³•
someEnumeration.computedInstanceProperty
someEnumeration.someInstanceMethod()
// å­˜å–å‹åˆ¥å±¬æ€§èˆ‡å‹åˆ¥æ–¹æ³•
SomeEnumeration.computedTypeProperty
SomeEnumeration.storedTypeProperty
SomeEnumeration.someTypeMethod()

class SomeClass {
    // å‹åˆ¥çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§
    @MainActor static var storedTypeProperty: String = "Some value."
    // ä¸èƒ½è¦†å¯«çš„å”¯è®€å‹åˆ¥è¨ˆç®—å±¬æ€§ï¼Œä½¿ç”¨staticé—œéµå­—æ™‚ï¼Œä¸èƒ½è®“å­é¡åˆ¥è¦†å¯«æ­¤æ®µå¯¦ä½œ
    static var unoverideableComputedTypeProperty: Int {
        return 27
    }
    // é¡åˆ¥ä¸­çš„å‹åˆ¥è¨ˆç®—å±¬æ€§ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨classé—œéµå­—ä¾†å…è¨±å­é¡åˆ¥è¦†å¯«çˆ¶é¡åˆ¥çš„å¯¦ä½œ
    // å¯ä»¥è¦†å¯«çš„å‹åˆ¥å”¯è®€è¨ˆç®—å±¬æ€§
    class var overrideableComputedTypeProperty: Int {
        return 107
    }
    //ä¸èƒ½è¦†å¯«çš„å‹åˆ¥æ–¹æ³•
    static func someUnoverideableTypeMethod() {

    }
    // å¯ä»¥è¦†å¯«çš„å‹åˆ¥æ–¹æ³•
    class func someOverideableTypeMethod() {

    }
    //----------------------------------------------------------------
    // å¯¦é«”çš„å¯è®€å¯å¯«å„²å­˜å±¬æ€§ (æ³¨æ„ï¼šæ­¤å±¬æ€§ç‚ºçµæ§‹æˆå“¡ï¼Œç•¶çµæ§‹æˆå“¡æœ‰é è¨­å€¼æ™‚ï¼Œçµæ§‹çš„åˆå§‹åŒ–æ–¹æ³•æœƒå¤šä¸€å€‹ä¸éœ€æ­¤æˆå“¡çš„åˆå§‹åŒ–æ–¹æ³•)
    var storedInstanceProperty: String = "Some value."
    // å¯¦é«”çš„å¯è®€å¯å¯«è¨ˆç®—å±¬æ€§
    var computedInstanceProperty: String
    {
        get {
            return ""
        }
        set {

        }
    }
    // å¯¦é«”æ–¹æ³•
    func someInstanceMethod() {

    }
}

// æ¸¬è©¦
let someClass = SomeClass()
// å­˜å–å¯¦é«”å±¬æ€§èˆ‡å¯¦é«”æ–¹æ³•
someClass.computedInstanceProperty
someClass.storedInstanceProperty
someClass.someInstanceMethod()

// å­˜å–å‹åˆ¥å±¬æ€§èˆ‡å‹åˆ¥æ–¹æ³•
print(SomeClass.unoverideableComputedTypeProperty)
SomeClass.overrideableComputedTypeProperty
SomeClass.storedTypeProperty
SomeClass.someUnoverideableTypeMethod()
SomeClass.someOverideableTypeMethod()

// å®£å‘Š"SomeSubClass"å­é¡åˆ¥ç¹¼æ‰¿è‡ª"SomeClass"çˆ¶é¡åˆ¥
class SomeSubClass: SomeClass {
    // ç¹¼æ‰¿è‡ªçˆ¶é¡åˆ¥çš„å‹åˆ¥å”¯è®€è¨ˆç®—å±¬æ€§ï¼Œå¯ä»¥è¦†å¯«ç‚ºå¯è®€å¯å¯« (æ³¨æ„ï¼šå¦‚æœè¦ç¹¼çºŒå…è¨±SomeSubClassçš„å­é¡åˆ¥å¯ä»¥è¦†å¯«æ­¤å¯¦ä½œï¼Œæ‡‰ä½¿ç”¨classé—œéµå­—ï¼Œå¦å‰‡å¯ä»¥æ”¹ç”¨sstaticé—œéµå­—)
    override static var overrideableComputedTypeProperty: Int
    {
        get {
            return 1
        }
        set {

        }
    }
    // è¦†å¯«çˆ¶é¡åˆ¥çš„å‹åˆ¥æ–¹æ³•
    override class func someOverideableTypeMethod() {

    }
    //---------------------------------------------------------
    // è¦†å¯«å¯¦é«”å¯è®€å¯å¯«çš„è¨ˆç®—å±¬æ€§ï¼Œä¸èƒ½è¦†å¯«æˆå”¯è®€è¨ˆç®—å±¬æ€§
    override var computedInstanceProperty: String
    {
        get {
            return ""
        }
        set {

        }
    }
    // è¦†å¯«å¯¦é«”æ–¹æ³•
    override func someInstanceMethod() {

    }
}
//--------------------------------------------------------------------





/*
Properties
In addition to simple properties that are stored, properties can have a getter and a setter.

é™¤äº†å„²å­˜çš„ç°¡å–®å±¬æ€§ä¹‹å¤–ï¼Œå±¬æ€§é‚„å¯ä»¥æœ‰ä¸€å€‹ getter å’Œ setterï¼ˆè¨ˆç®—å±¬æ€§ï¼‰ã€‚
å¯¦é«”çš„å±¬æ€§æœ‰å…©ç¨®ï¼Œä¸€ç¨®æ˜¯å¯¦é«”çš„å„²å­˜å±¬æ€§ï¼Œå¦ä¸€ç¨®æ˜¯å¯¦é«”çš„è¨ˆç®—å±¬æ€§ã€‚
è¨ˆç®—å±¬æ€§ä¸èƒ½å­˜å€¼ï¼Œå®ƒå¯¦éš›ä¸Šæ˜¯å­˜åˆ°åˆ¥çš„åœ°æ–¹ã€‚

åœ¨ Properties é€™ç« ç¯€è£¡ï¼Œæœƒè¬›åˆ°å„²å­˜å±¬æ€§(Stored Properties)å’Œè¨ˆç®—å±¬æ€§(Computed Properties)

å¯¦é«”å±¬æ€§ => å„²å­˜å±¬æ€§ ==> å¯è®€å¯å¯«ï¼šç”¨ var å®£å‘Šçš„
                  ==> å–®ç´”å”¯è®€ï¼šç”¨ let å®£å‘Šçš„
å¯¦é«”å±¬æ€§ => è¨ˆç®—å±¬æ€§ ==> å¯è®€å¯å¯«ï¼šç”¨ var å®£å‘Šçš„ï¼Œæœ‰ get æœ‰ set
                  ==> å–®ç´”å”¯è®€ï¼šç”¨ var å®£å‘Šçš„ï¼Œåªæœ‰ get
å‹åˆ¥å±¬æ€§ => å„²å­˜å±¬æ€§
å‹åˆ¥å±¬æ€§ => è¨ˆç®—å±¬æ€§

*/




//----------------------------æ¯”è¼ƒçµæ§‹ã€åˆ—èˆ‰å’Œé¡åˆ¥-----------------------------
/*
Swiftä¸­çš„çµæ§‹ã€åˆ—èˆ‰å’Œé¡åˆ¥æœ‰å¾ˆå¤šå…±åŒé»ï¼š
1.å®šç¾©å„²å­˜å€¼çš„å±¬æ€§ (property)
2.å®šç¾©æä¾›åŠŸèƒ½çš„æ–¹æ³• (method)
3.å®šç¾©æ¨™è¨» (subscript) ï¼Œä»¥æä¾›ä½¿ç”¨æ¨™è¨»èªæ³•[]ä¾†å­˜å–å…¶å€¼
4.å®šç¾©åˆå§‹åŒ–æ–¹æ³• (initializer) ä¾†è¨­å®šå…¶åˆå§‹ç‹€æ…‹
5.ä½¿ç”¨æ“´å±• (extension) ä»¥æ“´å……"é è¨­å¯¦ä½œ" (default implementation) çš„åŠŸèƒ½
6.ç¬¦åˆå”å®š (protocol) ä»¥æä¾›æŸç¨®æ¨™æº–åŠŸèƒ½
*/

extension SomeEnumeration {
    func abc() {

    }
}

/*
é¡åˆ¥å…·æœ‰çµæ§‹ã€åˆ—èˆ‰æ‰€æ²’æœ‰çš„é¡å¤–åŠŸèƒ½ï¼š
1.ç¹¼æ‰¿ (inheritance) è®“ä¸€å€‹é¡åˆ¥èƒ½å¤ ç¹¼æ‰¿å¦ä¸€å€‹é¡åˆ¥çš„ç‰¹å¾µã€‚
2.å‹åˆ¥è½‰æ› (type casting) å…è¨±æ‚¨åœ¨åŸ·è¡Œæ™‚æª¢æŸ¥å’Œè§£é‡‹é¡åˆ¥å¯¦é«”çš„å‹åˆ¥ã€‚
  æ³¨æ„ï¼šå¯¦æ¸¬çµæ§‹å’Œåˆ—èˆ‰ä¹Ÿæœ‰å‹åˆ¥è½‰æ›çš„åŠŸèƒ½ï¼ (åƒ…é©ç”¨æ–¼å”å®šå‹åˆ¥ï¼Œä¸é©ç”¨æ–¼ç¹¼æ‰¿è¦–è§’çš„è½‰æ›)
3.ååˆå§‹åŒ–æ–¹æ³• (deinitializer) ä½¿é¡åˆ¥çš„å¯¦é«”èƒ½å¤ é‡‹æ”¾å…¶åˆ†é…çš„ä»»ä½•è³‡æºã€‚
4.å¼•ç”¨è¨ˆæ•¸ (reference counting) å…è¨±å°ä¸€å€‹é¡åˆ¥å¯¦é«”é€²è¡Œå¤šæ¬¡å¼•ç”¨ã€‚
çµæ§‹ã€åˆ—èˆ‰å’Œé¡åˆ¥ä¹‹é–“æœ€é‡è¦çš„ä¸åŒæ˜¯ï¼šç•¶çµæ§‹ã€åˆ—èˆ‰çš„å¯¦é«”åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ï¼Œç¸½æ˜¯è¢«è¤‡è£½ä¸€ä»½ (çµæ§‹å’Œåˆ—èˆ‰çš„è¨˜æ†¶é«”é…ç½®ç©ºé–“æ°¸é åªæœ‰è‡ªå·±çš„è®Šæ•¸æˆ–å¸¸æ•¸åœ¨ç”¨) ï¼Œä½†é¡åˆ¥å¯¦é«”æ˜¯é€é"å¼•ç”¨" (reference) å‚³éçš„ (æœƒ"åƒè€ƒ"åˆ°åŒä¸€å¡Šè¨˜æ†¶é«”é…ç½®ç©ºé–“) ã€‚
*/
//å®šç¾©è§£æåº¦çµæ§‹
struct Resolution {
    //æ³¨æ„ï¼šä»¥ä¸‹çµæ§‹æˆå“¡éƒ½æœ‰åˆå§‹å€¼ï¼Œæ‰€æœ‰æœƒå¾—åˆ°å¤šå€‹çµæ§‹åˆå§‹åŒ–æ–¹æ³• (æœ‰äº›çœç•¥äº†å¸¶åˆå§‹å€¼çš„æˆå“¡)
    var width = 0
    var height = 0
}
//å®šç¾©å½±åƒæ¨¡å¼é¡åˆ¥
class VideoMode {
    var resolution = Resolution()  //è§£æåº¦çš„çµæ§‹å±¬æ€§
    var interlaced = false  //é è¨­ç‚ºéäº¤éŒ¯æ¨¡å¼
    var frameRate = 0.0  //ç•«é¢çš„æ›´æ–°é »ç‡
    var name: String?  //å½±åƒæ¨¡å¼çš„åç¨±

    deinit {
        if let name  //= name
        {
            print("\(name)è¢«é‡‹æ”¾")
        } else {
            print("å½±åƒæ¨¡å¼çš„å¯¦é«”è¢«é‡‹æ”¾")
        }
    }
}
//ç”¢ç”Ÿçµæ§‹å’Œé¡åˆ¥å¯¦é«”
let someResolution = Resolution()
let someVideoMode = VideoMode()
//å­˜å–çµæ§‹å¯¦é«”çš„å±¬æ€§
someResolution.width
someResolution.height
//å­˜å–é¡åˆ¥å¯¦é«”çš„å±¬æ€§
someVideoMode.resolution.width
someVideoMode.resolution.height
//è®Šæ›´é¡åˆ¥å¯¦é«”è§£æåº¦çš„å±¬æ€§å€¼ (å–®ç¨è®Šæ›´æˆå“¡çš„å€¼ï¼Œæ­¤èªæ³•åªé©ç”¨æ–¼Swift)
someVideoMode.resolution.width = 1280
someVideoMode.resolution.height = 720
someVideoMode.name = "720p"
someVideoMode.resolution.width
someVideoMode.resolution.height
//æ³¨æ„ï¼šOBJCç„¡æ³•å–®ç¨è®Šæ›´çµæ§‹çš„æˆå“¡å€¼ï¼Œè‹¥è¦è®Šæ›´å…¶ä¸­ä¸€å€‹æˆå“¡ï¼Œåªèƒ½é‡è¨­æ•´å€‹çµæ§‹ã€‚ä½†Swiftç¨‹å¼èªè¨€å…©ç¨®åšæ³•éƒ½å¯ä»¥åŸ·è¡Œ
someVideoMode.resolution = Resolution(width: 1280, height: 720)  //æ­¤è¡Œç‚ºæ˜¯é‡å°çµæ§‹å±¬æ€§é€²è¡Œè¨­å®šï¼Œæ‰€ä»¥æ˜¯åˆå§‹åŒ–åŒæ™‚é€²è¡Œ"è¤‡è£½"è¡Œç‚º

//æ­¤è¡Œç‚ºæ˜¯åˆå§‹åŒ–å¯¦é«”ï¼Œç”±å–®ç¨çš„å¸¸æ•¸æŠ“å–è¨˜æ†¶é«”é…ç½®ç©ºé–“
let vga = Resolution(width: 640, height: 480)

//----------çµæ§‹å’Œåˆ—èˆ‰æ˜¯å€¼å‹åˆ¥ (Structures and Enumerations Are Value Types) ----------
/*
å€¼å‹åˆ¥ (value type) æ˜¯æŒ‡ç•¶å€¼åˆ†é…çµ¦è®Šæ•¸æˆ–å¸¸æ•¸æ™‚ï¼Œæˆ–ç•¶å…¶å‚³éçµ¦å‡½å¼æ™‚ï¼Œå…¶å€¼è¢«è¤‡è£½ä¸€ä»½çš„å‹åˆ¥ã€‚
äº‹å¯¦ä¸Šï¼ŒSwiftä¸­çš„æ‰€æœ‰åŸºæœ¬å‹åˆ¥ (æ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—ã€å­—ä¸²ã€é™£åˆ—å’Œå­—å…¸) éƒ½æ˜¯å€¼å‹åˆ¥ï¼Œä¸¦åœ¨èƒŒæ™¯éƒ½æ˜¯ä»¥"çµæ§‹"å¯¦ä½œã€‚
Swiftä¸­çš„æ‰€æœ‰çµæ§‹å’Œåˆ—èˆ‰éƒ½æ˜¯å€¼å‹åˆ¥ã€‚é€™æ„å‘³è‘—æ‚¨å»ºç«‹çš„ä»»ä½•çµæ§‹å’Œåˆ—èˆ‰å¯¦é«” (ä»¥åŠä»»ä½•çš„å€¼å‹åˆ¥ç•¶å®ƒå€‘è¢«ç•¶ä½œå±¬æ€§ä½¿ç”¨æ™‚) åœ¨ç¨‹å¼ä¸­å‚³éæ™‚ç¸½æ˜¯è¢«è¤‡è£½ã€‚
*/
//æ­¤è¡Œç‚ºç‚ºçµæ§‹çš„åˆå§‹åŒ– (éè¤‡è£½)
let hd = Resolution(width: 1920, height: 1080)
var cinema = hd  //æ­¤è¡Œç‚ºæ˜¯è¤‡è£½

//å°‡cinamaçš„è§£æåº¦å¾åŸæœ¬çš„HD (1920x1080) æ”¹æˆ4K (2048x1536)
cinema.width = 2048
cinema.height = 1536
//å› ç‚ºcinemaå’Œhdéƒ½æ˜¯çµæ§‹å¯¦é«”ï¼Œæ˜¯å€¼å‹åˆ¥ï¼Œæ‰€ä»¥æ›´å‹•å…¶ä¸­ä¸€å€‹å¯¦é«”ï¼Œä¸¦ä¸æœƒå½±éŸ¿å…¶ä»–å¯¦é«”
cinema.width
hd.width

//*************************åˆ—èˆ‰èˆ‡çµæ§‹çš„è¡Œç‚ºç›¸åŒ*************************
//å®šç¾©ä¸å¸¶åŸå§‹å€¼çš„æ–¹å‘åˆ—èˆ‰
enum CompassPoint {
    case north, south, east, west
    //å¦‚æœåˆ—èˆ‰çš„å¯¦é«”æ–¹æ³•ä¸­ï¼Œæ²’æœ‰è®Šæ›´å¯¦é«”è¡Œç‚ºï¼Œå‰‡ä¸éœ€åŠ mutatingé—œéµå­—
    mutating func turnNorth() {
        //        print("abc")
        self = .north  //å› ç‚ºå¯¦ä½œä¸­è®Šå‹•äº†å€¼å‹åˆ¥çš„å¯¦é«”ï¼Œæ­¤æ–¹æ³•å¿…é ˆæ¨™åç‚ºè®Šå‹•å¯¦é«”çš„æ–¹æ³•ï¼Œå¿…é ˆåŠ ä¸Šmutatingé—œéµå­—
    }
}
//æ¸¬è©¦
var currentDirection = CompassPoint.west  //æ­¤è¡Œç‚ºæ˜¯åˆå§‹åŒ–
var rememberedDirection = currentDirection  //æ­¤è¡Œç‚ºæ˜¯è¤‡è£½ (è¤‡è£½äº†è¥¿æ–¹çš„å¯¦é«”)
currentDirection.turnNorth()  //åŸ·è¡Œè®Šå‹•æ–¹æ³•ï¼Œå°‡æ­¤è®Šæ•¸è®Šæ›´ç‚ºåŒ—æ–¹çš„å¯¦é«”

print("The current direction is \(currentDirection)")
print("The remembered direction is \(rememberedDirection)")

rememberedDirection.turnNorth()

//*******************************************************************

//-------------é¡åˆ¥æ˜¯å¼•ç”¨å‹åˆ¥ (Classes Are Reference Types) -------------
/*
èˆ‡å€¼å‹åˆ¥ä¸åŒï¼Œç•¶å¼•ç”¨å‹åˆ¥è¢«åˆ†é…çµ¦è®Šæ•¸æˆ–å¸¸æ•¸æ™‚ï¼Œæˆ–ç•¶å®ƒå€‘è¢«å‚³éçµ¦å‡½å¼æ™‚ï¼Œä¸æœƒè¢«è¤‡è£½è€Œæ˜¯å‚³éåŒä¸€å¯¦é«”çš„å¼•ç”¨ã€‚ (æœƒåƒè€ƒåˆ°åŒä¸€å€‹è¨˜æ†¶é«”é…ç½®ç©ºé–“)
*/
var tenEighty: VideoMode! = VideoMode()  //æ­¤æ™‚è¨˜æ†¶é«”é…ç½®ç©ºé–“çš„å¼•ç”¨è¨ˆæ•¸ç‚º1
tenEighty.resolution = hd  //æ­¤è¡Œç‚ºæ˜¯è¤‡è£½
tenEighty.interlaced = true  //æ­¤è¡Œç‚ºæ˜¯æ›´æ›çµæ§‹å±¬æ€§çš„å€¼ (éè¤‡è£½)
tenEighty.name = "1080i"  //æ­¤è¡Œç‚ºæ˜¯æ›´æ›çµæ§‹å±¬æ€§çš„å€¼ (éè¤‡è£½)
tenEighty.frameRate = 25.0  //æ­¤è¡Œç‚ºæ˜¯æ›´æ›çµæ§‹å±¬æ€§çš„å€¼ (éè¤‡è£½)

var alsoTenEighty: VideoMode! = tenEighty  //æ­¤è¡Œç‚ºæ˜¯å¼•ç”¨ï¼Œå¼•ç”¨è¨ˆæ•¸ç‚º2
alsoTenEighty.frameRate = 30.0  //æ­¤è¡Œç‚ºæ˜¯æ›´æ›çµæ§‹å±¬æ€§çš„å€¼ (éè¤‡è£½)
//å› ç‚ºalsoTenEightyèˆ‡tenEightyæ˜¯åŒä¸€å¡Šè¨˜æ†¶é«”é…ç½®ç©ºé–“ï¼Œæ‰€ä»¥æ›´å‹•å…¶ä¸­ä¸€å€‹å±¬æ€§å€¼ï¼Œå¦ä¸€å€‹æœƒä¸€èµ·è®Šå‹•
tenEighty.frameRate

tenEighty = nil  //æ­¤æ™‚å¼•ç”¨è¨ˆæ•¸æ¸›1ï¼Œé™ç‚º1
alsoTenEighty = nil  //æ­¤æ™‚å¼•ç”¨è¨ˆæ•¸æ¸›1ï¼Œé™ç‚º0



// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ   â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆâ–ˆ  â–ˆ  â–ˆ       â–ˆ â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ        â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ â–ˆ    â–ˆ â–ˆ    â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆ        â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ


//==============================åŒæ™‚æ€§ (Concurrency) ==============================
//asynchronous (éåŒæ­¥/ç•°æ­¥) ï¼šå¯ä»¥è·Ÿå…¶ä»–ç¨‹å¼ç¢¼"åŒæ™‚"é‹ä½œ
//synchronous (åŒæ­¥) ï¼šä¸èƒ½è·Ÿå…¶ä»–ç¨‹å¼ç¢¼"åŒæ™‚"é‹ä½œ
//ä»¥ä¸‹èªæ³•æ˜¯Swift5.7ä¹‹å¾Œå¢åŠ 
//ä½¿ç”¨asyncé—œéµå­—ä¾†æ¨™è¨˜"éåŒæ­¥"åŸ·è¡Œçš„å‡½å¼ï¼Œä»¥è¡¨æ˜æ­¤å‡½å¼ä¸€æ—¦è¢«å‘¼å«ï¼ŒåŸ·è¡Œä¸­çš„å¯¦ä½œå¯ä»¥è·Ÿå…¶ä»–ç¨‹å¼ç¢¼"åŒæ™‚"é‹ä½œã€‚
func fetchUserID(from server: String) async -> Int {
    //ä»¥ä¸‹æ¨¡æ“¬ä¼ºæœå™¨éœ€è¦è€—æ™‚çš„é‹ä½œæ‰èƒ½å–å¾—UserID
    if server == "primary" {
        return 97
    }
    return 501
}

//ä½ é€éåœ¨éåŒæ­¥å‡½å¼å‰é¢å¯«ä¸Šawaitä¾†æ¨™è¨˜å°éåŒæ­¥å‡½å¼çš„å‘¼å«ã€‚
//ä»¥ä¸‹éåŒæ­¥å‡½å¼ï¼Œæ¨¡æ“¬ä»¥UserIDä¾†å¾ä¼ºæœå™¨å–å¾—UserName
func fetchUsername(from server: String) async -> String {
    //ä»¥awaitæ¨™æ˜æ­¤éåŒæ­¥å‡½å¼å‘¼å«å¿…é ˆå¾—åˆ°UserIDæ‰èƒ½åŸ·è¡Œä¸‹ä¸€è¡Œ
    let userID = await fetchUserID(from: server)  //ç•¶å¿…é ˆå¾—åˆ°å›å‚³å€¼æ™‚ï¼Œè«‹å¯«ä¸Šawaité—œéµå­—
    //ä»¥ä¸‹æ¨¡æ“¬ä¼ºæœå™¨éœ€è¦è€—æ™‚çš„é‹ä½œæ‰èƒ½ä»¥UserIDå–å¾—UserName
    if userID == 501 {
        return "John Appleseed"
    }
    return "Guest"
}

//ä½¿ç”¨async letå‘¼å«éåŒæ­¥å‡½å¼ï¼Œè®“å®ƒèˆ‡å…¶ä»–éåŒæ­¥ç¨‹å¼åŒæ™‚åŸ·è¡Œã€‚ (ä¸èƒ½ä½¿ç”¨async varä¾†å‘¼å«éåŒæ­¥å‡½å¼)
func connectUser(to server: String) async {
    //ä»¥ä¸‹å…©è¡Œç¨‹å¼æœƒåŒæ™‚åŸ·è¡Œ
    async let userID = fetchUserID(from: server)
    async let username = fetchUsername(from: server)
    //ä»¥ä¸‹æ­¤è¡Œç¨‹å¼å¿…é ˆç­‰å¾…å‰é¢å…©æ¬¡éåŒæ­¥å‘¼å«å®Œæˆï¼Œå¾—åˆ°userIDå’Œusernameæ‰èƒ½åŸ·è¡Œï¼Œæ‰€ä»¥ä½¿ç”¨awaité—œéµå­—
    //    let greeting = "Hello \(await username), user ID \(await userID)"
    let greeting = await "Hello \(username), user ID \(userID)"
    print(greeting)
}

//ä½¿ç”¨Taskå¾"åŒæ­¥ç¨‹å¼"ä¸­å‘¼å«"éåŒæ­¥å‡½å¼"ï¼Œç„¡éœ€ç­‰å¾…å®ƒå€‘å›å‚³ã€‚
Task {
    await connectUser(to: "primary")
}

//ä»¥ä¸‹èªæ³•åœ¨Swift6ä»¥å¾Œæ–°å¢
//ä½¿ç”¨ä»»å‹™ç¾¤çµ„ (task groups) ä¾†æ§‹å»ºå¯ä»¥åŒæ™‚åŸ·è¡Œçš„ç¨‹å¼ã€‚
//ä½¿ç”¨withTaskGroupå‡½å¼ä¾†å€åˆ†å¯ä»¥åŸ·è¡Œå¤šä»»å‹™çš„å€æ®µ
let userIDs = await withTaskGroup(of: Int.self) {
    group
    in
    //ä»¥for-inè¿´åœˆåˆ—å‡ºä¼ºæœå™¨é™£åˆ—
    for server in ["primary", "secondary", "development"] {
        //æ–°å¢ç‰¹å®šçš„ä»»å‹™åœ¨è¿´åœˆä¸­ï¼Œä»¥å¤šæ¬¡å‘¼å«éåŒæ­¥å‡½å¼ï¼Œé€²è¡ŒåŒæ™‚æ€§çš„é‹ä½œ (ç¾¤çµ„ä»»å‹™)
        group.addTask {
            return await fetchUserID(from: server)
        }
    }
    //å®£å‘Šç´€éŒ„å¾ä¸åŒä¼ºæœå™¨å–å¾—UserIDçš„é™£åˆ—
    var results = [Int]()
    //ä»¥for-inè¿´åœˆåˆ—å‡ºä»»å‹™çš„åŸ·è¡Œçµæœ-UserID (å¾—åˆ°åŸ·è¡Œçµæœæ™‚ï¼Œå¿…é ˆåŠ ä¸Šawaité—œéµå­—)
    for await result in group
    {
        results.append(result)
    }
    //å›å‚³UserIDçš„é™£åˆ—
    return results
}

//actorèˆ‡é¡åˆ¥ç›¸ä¼¼ï¼Œåªæ˜¯å®ƒå€‘åœ¨ç¢ºä¿ä¸åŒçš„éåŒæ­¥å‡½å¼å¯ä»¥åŒæ™‚å®‰å…¨åœ°èˆ‡åŒä¸€å€‹actorçš„å¯¦é«”é€²è¡Œäº’å‹•ã€‚
actor ServerConnection
{
    var server: String = "primary"
    //ä»¥é™£åˆ—ç´€éŒ„æ­£åœ¨é€£ç·šåˆ°æŒ‡å®šä¼ºæœå™¨ (primarty) çš„User
    private var activeUsers: [Int] = []
    //æ­¤å‡½å¼æ¨¡æ“¬ç‰¹å®šUseræœƒé€£ç·šåˆ°æŒ‡å®šçš„ä¼ºæœå™¨ (primarty)
    func connect() async -> Int
    {
        //å–å¾—é€£ç·šä¸­çš„UserID
        let userID = await fetchUserID(from: server)
        // ... communicate with server ...
        //ç´€éŒ„é€£ç·šä¸­çš„UserID
        activeUsers.append(userID)
        return userID
    }
}

//ç•¶æ‚¨å‘¼å«actorçš„å¯¦é«”æ–¹æ³•æˆ–å­˜å–å…¶å¯¦é«”å±¬æ€§æ™‚ï¼Œå°‡è©²ç¨‹å¼æ¨™è¨˜ç‚ºawaitï¼Œä»¥è¡¨æ˜å®ƒå¯èƒ½å¿…é ˆç­‰å¾…å·²ç¶“åœ¨actorä¸ŠåŸ·è¡Œä¸­çš„å…¶ä»–ç¨‹å¼å®Œæˆã€‚
let server = ServerConnection()
let userID = await server.connect()

//åƒè€ƒæ•™æï¼šhttps://www.appcoda.com.tw/swift-concurrency-actor/


// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ       â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ       â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ â–ˆ    â–ˆ   â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ
// â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ

//================å”å®šèˆ‡æ“´å±• (Protocols and Extensions) ================
//ä½¿ç”¨protocolå®£å‘Šå”å®šï¼Œä¾†æŒ‡åç‰¹å®šçš„è¦æ±‚ (requirement)
protocol ExampleProtocol
{
    //è¦æ±‚è£½ä½œä¸€å€‹"è‡³å°‘å”¯è®€"çš„å¯¦é«”å±¬æ€§
    var simpleDescription: String { get }
    //ã€Šç·´ç¿’16ã€‹åŠ å…¥å¦å¤–ä¸€å€‹å”å®šè¦æ±‚ï¼šaIntè¦æ±‚è‡³å°‘å¯è®€å¯å¯«
    var aInt:Int {get set}
    
    //è¦æ±‚è£½ä½œä¸€å€‹å¯¦é«”æ–¹æ³•
    mutating func adjust()
}

class ABC:ExampleProtocol
{
    var aInt: Int = 0
    
    var simpleDescription: String = ""
    
    func adjust()
    {
        
    }
}

//é¡åˆ¥ã€åˆ—èˆ‰å’Œçµæ§‹éƒ½å¯ä»¥æ¡ç”¨å”å®š
//å®£å‘ŠSimpleClassé¡åˆ¥ï¼Œç¹¼æ‰¿è‡ªNamedShapeé¡åˆ¥ï¼Œä¸¦ä¸”æ¡ç”¨ExampleProtocolå”å®š
class SimpleClass:NamedShape,ExampleProtocol    //é¡åˆ¥çš„ç¹¼æ‰¿å¿…é ˆåœ¨å†’è™Ÿä¹‹å¾Œçš„ç¬¬ä¸€å€‹ä½ç½®
{
    
    
    //å”å®šè¦æ±‚ï¼šå¯¦ä½œsimpleDescriptionå±¬æ€§ç‚ºå¯¦é«”"å¯è®€å¯å¯«"çš„å„²å­˜å±¬æ€§
    var simpleDescription: String = "A very simple class."
    //å®£å‘Šä¾›è¨ˆç®—å±¬æ€§å­˜å–å…¶å€¼çš„"ç§æœ‰"ä¸­ä»‹å±¬æ€§ (å¯è®€å¯å¯«çš„å„²å­˜å±¬æ€§) ï¼Œæ­¤å±¬æ€§åªä¾›å®šç¾©é¡åˆ¥æ™‚ä½¿ç”¨ï¼Œç„¡æ³•ç”±å¯¦é«”å­˜å–
    private var tempInt = 0     //ã€Šç·´ç¿’16ã€‹
    //å”å®šè¦æ±‚ï¼šå¯¦ä½œaIntå±¬æ€§ç‚ºå¯¦é«”"å¯è®€å¯å¯«"çš„è¨ˆç®—å±¬æ€§
    var aInt: Int
    {
        //å–å€¼æ®µ
        get
        {
            return tempInt
        }
        //è¨­å®šæ®µ
        set
        {
//            self.aInt = newValue  //æ­¤è¡ŒåŸ·è¡Œæœƒé€ æˆç„¡é™éè¿´ (infinity recursion)
            tempInt = newValue
        }
    }
    //å®£å‘Šè‡ªå·±çš„å¯¦é«”å¯è®€å¯å¯«çš„å„²å­˜å±¬æ€§ (èˆ‡å”å®šç„¡é—œ)
    var anotherProperty: Int = 69105
    //å”å®šè¦æ±‚ï¼šå¯¦ä½œadjustå¯¦é«”æ–¹æ³• (æ³¨æ„ï¼šå› ç‚ºé¡åˆ¥æ˜¯å¼•ç”¨å‹åˆ¥ï¼Œæ‰€ä»¥å³ä½¿å¯¦ä½œä¸­è®Šå‹•äº†å¯¦é«”æˆ–å¯¦é«”å±¬æ€§ï¼Œä¸éœ€è¦åŠ ä¸Šmutatingé—œéµå­—ï¼)
    func adjust()
    {
        //å¯¦ä½œèª¿æ•´äº†å¯¦é«”çš„å±¬æ€§
        self.simpleDescription += "  Now 100% adjusted."
    }
}
//æ¸¬è©¦é¡åˆ¥å¯¦é«”
var a = SimpleClass()
a.anotherProperty
a.simpleDescription
let aDescription = a.simpleDescription
//åŸ·è¡Œé¡åˆ¥å¯¦é«”çš„è®Šå‹•æ–¹æ³•ï¼Œè®Šæ›´å±¬æ€§å€¼
a.adjust()
//ç¢ºèªè®Šå‹•éå¾Œçš„å±¬æ€§å€¼
a.simpleDescription

a.aInt
a.aInt = 123
a.aInt


//å®£å‘ŠSimpleStructureçµæ§‹ï¼Œæ¡ç”¨ExampleProtocolå”å®š
struct SimpleStructure: ExampleProtocol
{
    //å”å®šè¦æ±‚ï¼šä»¥"çµæ§‹æˆå“¡"å¯¦ä½œsimpleDescription
    var simpleDescription: String = "A simple structure"
    //å”å®šè¦æ±‚ï¼šä»¥"çµæ§‹æˆå“¡"å¯¦ä½œaInt
    var aInt: Int       //ã€Šç·´ç¿’16ã€‹
    //å®£å‘Šè‡ªå·±çš„æˆå“¡ (èˆ‡å”å®šç„¡é—œ)
    var anotherProperty: Int = 69105
    //å”å®šè¦æ±‚ï¼šå¯¦ä½œå¯¦é«”çš„è®Šå‹•æ–¹æ³• (æ³¨æ„ï¼šå› ç‚ºçµæ§‹æ˜¯å€¼å‹åˆ¥ï¼Œå¯¦ä½œä¸­è®Šå‹•äº†å¯¦é«”æˆ–å¯¦é«”æˆå“¡ï¼Œå¿…é ˆåŠ ä¸Šmutatingé—œéµå­—ï¼)
    mutating func adjust()
    {
        //å¯¦ä½œèª¿æ•´äº†å¯¦é«”çš„æˆå“¡å€¼
        simpleDescription += " (adjusted)"
    }
}

//æ¸¬è©¦çµæ§‹å¯¦é«”
var b = SimpleStructure(aInt: 456)
b.simpleDescription
b.adjust()
let bDescription = b.simpleDescription
b.aInt

//ã€Šç·´ç¿’16ã€‹
// åœ¨ExampleProtocolä¸­åŠ å…¥å¦å¤–ä¸€å€‹å”å®šè¦æ±‚ï¼šaIntè¦æ±‚è‡³å°‘å¯è®€å¯å¯«ã€‚
// ä½ å¿…é ˆåšä»€éº¼æ”¹è®Šï¼Œæ‰èƒ½è®“SimpleClasså’ŒSimpleStructureä»ç„¶ç¬¦åˆå”å®šçš„è¦æ±‚ï¼Ÿ

//<è£œå……ç·´ç¿’>åˆ—èˆ‰æ¡ç´å”å®š
enum SimpleEnumeration:Int,ExampleProtocol
{
    case one=1,two,three
    case oneAdjusted,twoAdjusted,threeAdjusted
    //å”å®šè¦æ±‚ï¼šä»¥å”¯è®€è¨ˆç®—å±¬æ€§å¯¦ä½œ
    var simpleDescription: String
    {
        switch self
        {
            case .one:
                return "ã€ä¸€ã€‘"
            case .two:
                return "ã€äºŒã€‘"
            case .three:
                return "ã€ä¸‰ã€‘"
            case .oneAdjusted:
                return "ã€ä¸€ã€‘+"
            case .twoAdjusted:
                return "ã€äºŒã€‘+"
            case .threeAdjusted:
                return "ã€ä¸‰ã€‘+"
        }
    }
    //å”å®šè¦æ±‚ï¼šä»¥å¯è®€å¯å¯«çš„è¨ˆç®—å±¬æ€§å¯¦ä½œ
    var aInt: Int
    {
        get
        {
            return self.rawValue
        }
        set
        {
            print("è¨­å®šæ­¤å±¬æ€§ç„¡æ•ˆ")
        }
    }
    // å”å®šè¦æ±‚ï¼šå¯¦ä½œadjustæ–¹æ³•ï¼Œè‹¥ç‚ºèª¿æ•´å‰çš„one,two,threeå¯¦é«”ä¾†åŸ·è¡Œï¼Œ
    // å‰‡å°‡å¯¦é«”æ›´æ›æˆå°æ‡‰çš„oneAdjusted,twoAdjusted,threeAdjustedï¼Œè‹¥ç‚ºèª¿æ•´å¾Œçš„oneAdjusted,twoAdjusted,threeAdjustedå‰‡ç¶­æŒåŸå€¼
    mutating func adjust()
    {
        switch self
        {
            //æ””æˆªèª¿æ•´å‰çš„one,two,three
            case .one:
                self = .oneAdjusted
            case .two:
                self = .twoAdjusted
            case .three:
                self = .threeAdjusted
            default:    //æ””æˆªèª¿æ•´å¾Œçš„oneAdjusted,twoAdjusted,threeAdjusted
                break   //ä¸é€²è¡Œå‹•ä½œ
        }
    }
    //å®£å‘Šè‡ªå·±çš„å±¬æ€§ (èˆ‡å”å®šç„¡é—œ) åˆ—èˆ‰ä¸å¯ä»¥ä½¿ç”¨å„²å­˜å±¬æ€§ï¼Œåªèƒ½å¯¦ä½œè¨ˆç®—å±¬æ€§
    var anotherProperty: Int
    {
        return 69105
    }
}
//æ¸¬è©¦åˆ—èˆ‰å¯¦é«”
var c = SimpleEnumeration.one
c.simpleDescription
c.adjust()
c.simpleDescription

c = SimpleEnumeration(rawValue: 5)!
c.simpleDescription
c.adjust()
c.simpleDescription


/*
åŸºç¤å”è­° (Fundamental Protocols):

Equatable:
    ä½¿ä½ çš„è‡ªå®šç¾©å‹åˆ¥å¯ä»¥é€²è¡Œç›¸ç­‰æ€§æ¯”è¼ƒ (==, !=)ã€‚
    ç•¶ä½ éœ€è¦æ¯”è¼ƒå…©å€‹å¯¦ä¾‹æ˜¯å¦åœ¨é‚è¼¯ä¸Šç›¸ç­‰æ™‚ï¼Œä½ éœ€è¦è®“ä½ çš„å‹åˆ¥éµå¾ªé€™å€‹å”è­°ä¸¦å¯¦ä½œ == é‹ç®—ç¬¦ã€‚

Comparable:
    å»ºç«‹åœ¨ Equatable çš„åŸºç¤ä¸Šï¼Œä½¿ä½ çš„è‡ªå®šç¾©å‹åˆ¥å¯ä»¥é€²è¡Œå¤§å°æ¯”è¼ƒ (<, >, <=, >=)ã€‚
    ä½ éœ€è¦å¯¦ä½œ < é‹ç®—ç¬¦ï¼Œå…¶ä»–æ¯”è¼ƒé‹ç®—ç¬¦é€šå¸¸å¯ä»¥åŸºæ–¼ < å’Œ == è‡ªå‹•åˆæˆã€‚

Hashable:
    ä½¿ä½ çš„è‡ªå®šç¾©å‹åˆ¥å¯ä»¥è¢«æ·»åŠ åˆ°é›†åˆé¡å‹ä¸­ï¼Œä¾‹å¦‚ Set å’Œå­—å…¸çš„éµ (Dictionary çš„ Key)ã€‚
    éµå¾ªé€™å€‹å”è­°éœ€è¦å¯¦ä½œ hash(into:) æ–¹æ³•ä¾†ç‚ºå¯¦ä¾‹ç”Ÿæˆä¸€å€‹å“ˆå¸Œå€¼ã€‚
    å¦‚æœä½ çš„å‹åˆ¥ä¹Ÿéµå¾ª Equatableï¼Œé‚£éº¼ç•¶å…©å€‹å¯¦ä¾‹ç›¸ç­‰æ™‚ï¼Œå®ƒå€‘çš„å“ˆå¸Œå€¼ä¹Ÿå¿…é ˆç›¸ç­‰ã€‚

Codable (Encodable & Decodable):
    ä½¿ä½ çš„è‡ªå®šç¾©å‹åˆ¥å¯ä»¥é€²è¡Œåºåˆ—åŒ–ï¼ˆç·¨ç¢¼ç‚ºå¤–éƒ¨æ ¼å¼ï¼Œå¦‚ JSON æˆ– PropertyListï¼‰å’Œååºåˆ—åŒ–
    ï¼ˆå¾å¤–éƒ¨æ ¼å¼è§£ç¢¼å›å¯¦ä¾‹ï¼‰ã€‚Codable æ˜¯ä¸€å€‹çµ„åˆå”è­°ï¼ŒåŒ…å«äº† Encodable å’Œ Decodableã€‚

Identifiable:
    é€šå¸¸ç”¨æ–¼ SwiftUI ä¸­ï¼Œä½¿ä½ çš„è³‡æ–™æ¨¡å‹å¯ä»¥è¢«å”¯ä¸€åœ°è­˜åˆ¥ã€‚
    éµå¾ªé€™å€‹å”è­°åªéœ€è¦è²æ˜ä¸€å€‹åç‚º id çš„å±¬æ€§ï¼Œå…¶å‹åˆ¥éµå¾ª Hashable å”è­°ã€‚é€™å°æ–¼åœ¨åˆ—è¡¨ä¸­è¿½è¹¤å’Œæ›´æ–°å…ƒç´ éå¸¸æœ‰ç”¨ã€‚

*/

// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ             â–ˆ   â–ˆâ–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ        â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ


//-----------------ä»¥å”å®šç•¶ä½œå‹åˆ¥ (Protocols as Types) -----------------
// æ‚¨å¯ä»¥åƒä»»ä½•å…¶ä»–å‘½åå‹åˆ¥ (named type) ä¸€æ¨£ä½¿ç”¨å”å®šåç¨±â€”â€”ä¾‹å¦‚ï¼Œå»ºç«‹å…·æœ‰ä¸åŒå‹åˆ¥ä½†éƒ½ç¬¦åˆå–®ä¸€å”è­°çš„ç‰©ä»¶é›†åˆ[ExampleProtocol]ã€‚
// ç•¶æ‚¨è™•ç†çš„å‹åˆ¥ç‚ºå°è£çš„å”å®šå‹åˆ¥çš„å€¼æ™‚ (ç•¶ä»¥å”å®šå‹åˆ¥çš„è¦–è§’ä¾†è§€çœ‹æ™‚) ï¼Œå”å®šå®šç¾©ä¹‹å¤–çš„æ–¹æ³•å’Œå±¬æ€§ç„¡æ³•å­˜å–ã€‚
// å®£å‘Šå¸¸æ•¸å…¶å‹åˆ¥ç‚º"å¯¦ä½œé"ExampleProtocolå”å®šçš„"å¯¦é«”"
var protocolValue: ExampleProtocol = a          //åŸç¯„ä¾‹ç‚ºlet (æ³¨æ„ï¼šæ­¤è¡Œç‚ºç‚ºå¼•ç”¨ï¼Œä¸ç®¡æ˜¯å”å®šçš„è¦–è§’æˆ–é¡åˆ¥å¯¦é«”çš„è¦–è§’ï¼Œåƒè€ƒåˆ°æ˜¯åŒä¸€å¡Šè¨˜æ†¶é«”é…ç½®ç©ºé–“)
//let protocolValue: any ExampleProtocol = a    //anyé—œéµå­—ç‚ºSwiftUIå°ˆç”¨ï¼ŒUIKit (Storyboard) æ¡†æ¶ï¼Œä¸éœ€è¦anyé—œéµå­—
print(protocolValue.simpleDescription)
//ä»¥é¡åˆ¥çš„è¦–è§’ï¼Œå¯ä»¥å­˜å–é¡åˆ¥ä¸­çš„æ‰€æœ‰å±¬æ€§å’Œæ–¹æ³•ï¼Œä¸è«–æ˜¯å¦èˆ‡å”å®šç›¸é—œ
a.anotherProperty

//ä»¥å”å®šå‹åˆ¥çš„è¦–è§’ï¼Œ"ä¸å¯ä»¥"å­˜å–é¡åˆ¥ä¸­çš„èˆ‡å”å®šç„¡é—œçš„å±¬æ€§å’Œæ–¹æ³•
//protocolValue.anotherProperty

//ä»¥å‹åˆ¥è½‰æ›çš„èªæ³•ï¼Œå¯ä»¥æ“ä½œè¦–è§’è½‰æ›ç‚ºåŸä¾†åˆå§‹åŒ–é…ç½®é€²å»çš„å‹åˆ¥å¯¦é«”ï¼Œæ‰€ä»¥å°±å¯ä»¥å­˜å–åˆ°æ‰€æœ‰çš„å±¬æ€§å’Œæ–¹æ³•
(protocolValue as! SimpleClass).anotherProperty

protocolValue = b                //æ³¨æ„ï¼šæ­¤è¡Œç‚ºç‚ºè¤‡è£½ï¼Œå› ç‚ºbç‚ºçµæ§‹å¯¦é«”ï¼Œç‚ºå€¼å‹åˆ¥

b.anotherProperty

print("b.anotherProperty:\(b.anotherProperty)")

(protocolValue as! SimpleStructure).anotherProperty
print("(protocolValue as! SimpleStructure).anotherProperty:\((protocolValue as! SimpleStructure).anotherProperty)")

protocolValue = c

c.anotherProperty
print("c.anotherProperty:\(c.anotherProperty)")

(protocolValue as! SimpleEnumeration).anotherProperty
print("(protocolValue as! SimpleEnumeration).anotherProperty:\((protocolValue as! SimpleEnumeration).anotherProperty)")

//--------------------------é¸æ“‡æ€§çš„å”å®šè¦æ±‚ (Optional Protocol Requirements) --------------------------
//å”å®šè‹¥æœ‰ä¸ä¸€å®šè¦å¯¦ä½œçš„å”å®šè¦æ±‚ï¼Œå¿…é ˆä½¿ç”¨ @objc protocol ä¾†å®£å‘Šå”å®š
@objc protocol CounterDataSource
{
    //ä¸ä¸€å®šè¦å¯¦ä½œçš„å”å®šè¦æ±‚ï¼Œéœ€ä½¿ç”¨ @objc optional é—œéµå­—æ¨™ç¤º
    @objc optional func increment(forCount count: Int) -> Int   //è¦æ±‚å¯¦ä½œå¢å€¼çš„æ–¹æ³•
    @objc optional var fixedIncrement: Int { get }              //è¦æ±‚å¯¦ä½œå›ºå®šçš„å¢å€¼æ•¸å­—
    //ä»¥ä¸‹è¦æ±‚"å¿…éœ€å¯¦ä½œ" (ä¸ä½¿ç”¨ @objc optional é—œéµå­—)  æ³¨æ„ï¼šé€™ç¨®è¦æ±‚åœ¨é–‹ç™¼æ–‡ä»¶ä¸­ï¼Œé€šå¸¸æœƒå‡ºç¾requiredæˆ–requirementçš„æè¿°
    var aInt:Int { get set }
}
//å®šç¾©è¨ˆæ•¸é¡åˆ¥ (æ³¨æ„ï¼šé€šå¸¸æ­¤é¡åˆ¥ç‚ºframeworkçš„æ—¢æœ‰é¡åˆ¥)
class Counter
{
    //ç´€éŒ„ç´¯è¨ˆæ•¸é‡
    var count = 0
    //è³‡æ–™ä¾†æºå±¬æ€§è¦æ±‚å¯¦ä½œéCounterDataSourceå”å®šçš„å¯¦é«” (æ­¤ç‚ºä»£ç†æ©Ÿåˆ¶Delegation)
    var dataSource: CounterDataSource?           //æ­¤å±¬æ€§è¦æ±‚å¯¦ä½œéå”å®šçš„ä»£ç†äºº
    //ç´¯è¨ˆæ•¸é‡çš„å¢å€¼æ–¹æ³• (å¯¦ä½œä¸­åŸ‹è¨­äº†ç”±ä»£ç†äººåŸ·è¡Œä»£ç†æ–¹æ³•çš„ç¨‹å¼ç¢¼)
    func increment()
    {
        if let amount = dataSource?.increment?(forCount: count)
        {
            count += amount
        }
        else if let amount = dataSource?.fixedIncrement
        {
            count += amount
        }
        else if let amount = dataSource?.aInt
        {
            count += amount
        }
    }
}

//å®£å‘ŠThreeSourceé¡åˆ¥ï¼Œç¹¼æ‰¿è‡ªç¾æœ‰é¡åˆ¥ (ä¸€èˆ¬ä¸æœƒæ˜¯NSObject) ï¼Œä¸¦ä»¥æ­¤é¡åˆ¥å¯¦ä½œå”å®š (æ³¨æ„ï¼šé€šå¸¸æ­¤é¡åˆ¥ç‚ºè‡ªå®šé¡åˆ¥)
class ThreeSource: NSObject, CounterDataSource
//NSObjectç‚ºOBJCçš„åŸºç¤é¡åˆ¥ï¼Œä»»ä½•OBJCçš„å­é¡åˆ¥ï¼Œå¿…é ˆä»¥ç¹¼æ‰¿è‡ªNSObject (ä½†Swiftå¯ä»¥ä¸éœ€åŸºç¤é¡åˆ¥)
{
    var aInt: Int = 0
    //å¯¦ä½œå›ºå®šä»¥3ä¾†å¢å€¼
    let fixedIncrement = 3
}

//åˆå§‹åŒ–è¨ˆæ•¸é¡åˆ¥ (å³frameworkçš„æ—¢æœ‰é¡åˆ¥)
var counter = Counter()
//æŒ‡å®šå¯¦ä½œéCounterDataSourceå”å®šçš„ä»£ç†äºº (è‡ªå·±çš„ThreeSourceé¡åˆ¥å¯¦é«”ï¼Œå¯¦ä½œéCounterDataSourceå”å®š)
counter.dataSource = ThreeSource()  //ä»¥å›ºå®šå¢å€¼å±¬æ€§å¯¦ä½œçš„ä»£ç†äºº

for _ in 1...4
{
    counter.increment()
    print(counter.count)
}

print(counter.count)

//å®£å‘ŠTowardsZeroSourceé¡åˆ¥ï¼Œç¹¼æ‰¿è‡ªç¾æœ‰é¡åˆ¥ (ä¸€èˆ¬ä¸æœƒæ˜¯NSObject) ï¼Œä¸¦ä»¥æ­¤é¡åˆ¥å¯¦ä½œå”å®š (æ³¨æ„ï¼šé€šå¸¸æ­¤é¡åˆ¥ç‚ºè‡ªå®šé¡åˆ¥)
class TowardsZeroSource: NSObject, CounterDataSource
{
    var aInt: Int = 10
    //å¯¦ä½œå¢å€¼æ–¹æ³•
    func increment(forCount count: Int) -> Int
    {
        //ä¸ç®¡æ­£è² å€¼æ™‚ï¼Œéƒ½éœ€å¾€0çš„æ–¹å‘é€²è¡Œå¢å€¼
        if count == 0
        {
            return 0
        }
        else if count < 0
        {
            return 1    //è² æ•¸éœ€åŠ ä¸€ï¼Œå¾€é›¶çš„æ–¹å‘å¢å€¼
        }
        else
        {
            return -1  //æ­£æ•¸éœ€æ¸›ä¸€ï¼Œå¾€é›¶çš„æ–¹å‘æ¸›å€¼
        }
    }
}
//è¨ˆæ•¸é¡åˆ¥å¯¦é«”çš„è¨ˆæ•¸å¾-4èµ·ç®—
counter.count = -4
//é‡è¨­è³‡æ–™ä¾†æºçš„ä»£ç†äºº (ä»¥å¢å€¼æ–¹æ³•å¯¦ä½œçš„ä»£ç†äºº)
counter.dataSource = TowardsZeroSource()
for _ in 1...5
{
    counter.increment()
    print(counter.count)
}

print(counter.count)





// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ       â–ˆ â–ˆ     â–ˆ    â–ˆ      â–ˆâ–ˆ  â–ˆ  â–ˆ        â–ˆ    â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆ      â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ   â–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ
// â–ˆ       â–ˆ â–ˆ     â–ˆ    â–ˆ      â–ˆ  â–ˆâ–ˆ      â–ˆ    â–ˆ    â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ    â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ

//------------------------------------æ“´å±• (Extension) ------------------------------------
//ä½¿ç”¨extensionå°"æ—¢æœ‰å‹åˆ¥" (å¾å‡½å¼åº«æˆ–æ¡†æ¶åŒ¯å…¥çš„å‹åˆ¥ã€åœ¨å…¶ä»–åœ°æ–¹å®£å‘Šçš„å‹åˆ¥) æ–°å¢åŠŸèƒ½ï¼Œä¾‹å¦‚æ–°æ–¹æ³•å’Œè¨ˆç®—å±¬æ€§ (ä¸èƒ½å¢åŠ å„²å­˜å±¬æ€§) ï¼Œä»¥åŠå¼•å…¥å”å®šã€‚
extension Int: ExampleProtocol
{
    //æ³¨æ„ï¼šæ­¤è™•ä¸èƒ½å¯¦ä½œç‚ºå”¯è®€è¨ˆç®—å±¬æ€§ï¼Œå› ç‚ºå”å®šè¦æ±‚è‡³å°‘å¯è®€å¯å¯«
    var aInt: Int
    {
        get
        {
            return 888
        }
        set
        {
            
        }
    }
    
    var simpleDescription: String
    {
        return "The number \(self)"
    }
    
    mutating func adjust()
    {
        self += 42
    }
}

//æ¸¬è©¦Intå¯¦é«”
print("7.simpleDescription:\(7.simpleDescription)")

7.aInt
print("7.aInt:\(7.aInt)")

//7.adjust()      //error:Cannot use mutating member on immutable value: literals are not mutable

var testInt = 7
testInt.simpleDescription
testInt.aInt
testInt.adjust()
testInt
print("testInt:\(testInt)")

//ã€Šç·´ç¿’17ã€‹ç‚ºDoubleå‹åˆ¥æ’°å¯«æ“´å±•ï¼Œè©²æ“´å±•æœƒæ–°å¢ä¸€å€‹absoluteValueå±¬æ€§ã€‚
extension Double
{
    var absoluteValue:Double
    {
        if self < 0
        {
            return -self
        }
        else    //self >= 0
        {
            return self
        }
    }
}

print("3.99.absoluteValue:\(3.99.absoluteValue)")

print("-3.99.absoluteValue:\((-3.99).absoluteValue)")

let testDouble = -4.88

print("testDouble.absoluteValue:\(testDouble.absoluteValue)")


//
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ          â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ â–ˆ    â–ˆ â–ˆ    â–ˆ   â–ˆ  â–ˆ â–ˆ           â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ        â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ         â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
//

//====================éŒ¯èª¤è™•ç† (Error Handling) ====================
//ä½¿ç”¨ä»»ä½•å‹åˆ¥æ¡ç´Errorå”å®šä¾†è¡¨ç¤ºéŒ¯èª¤ (æœ€å¥½ä½¿ç”¨åˆ—èˆ‰)
//ä»¥åˆ—èˆ‰ä¾†å®šç¾©å°è¡¨æ©Ÿçš„éŒ¯èª¤
enum PrinterError: Error
{
    case outOfPaper         //ç¼ºç´™
    case noToner            //æ²’æœ‰ç¢³ç²‰
    case onFire             //æ•…éšœ
}
//ã€Šç·´ç¿’19ã€‹å®šç¾©å…¶ä»–éŒ¯èª¤
enum OtherError: Error
{
    case unknown
}

//ä½¿ç”¨throwä¾†æ‹‹å‡ºéŒ¯èª¤ï¼Œä½¿ç”¨throwsä¾†æ¨™è¨˜å¯ä»¥æ‹‹å‡ºéŒ¯èª¤çš„å‡½å¼ã€‚å¦‚æœåœ¨å‡½å¼ä¸­æ‹‹å‡ºæ“²éŒ¯èª¤ï¼Œè©²å‡½å¼å°‡ç«‹å³é›¢é–‹åŸ·è¡Œï¼Œä¸¦ä¸”å‘¼å«è©²å‡½å¼çš„ç¨‹å¼æ‡‰è©²è™•ç†è©²éŒ¯èª¤
func send(job: Int, toPrinter printerName: String) throws -> String     //ä½¿ç”¨throwsä¾†æ¨™è¨˜å¯ä»¥æ‹‹å‡ºéŒ¯èª¤çš„å‡½å¼
{
    //åœ¨å‡½å¼çš„å¯¦ä½œä¸­ï¼Œè¨­å®šç‰¹å®šç‹€æ³æœƒæ‹‹å‡ºéŒ¯èª¤
    if printerName == "Never Has Toner"
    {
        throw PrinterError.noToner
    }
    //ã€Šç·´ç¿’19ã€‹
    else if printerName == "Out Of Paper"
    {
        throw PrinterError.outOfPaper
    }
    //ã€Šç·´ç¿’19ã€‹
    else if printerName == "On Fire"
    {
        throw PrinterError.onFire
    }
    else if printerName.isEmpty     //else if printerName == ""
    {
        throw OtherError.unknown
    }
    return "Job sent"
}

//è™•ç†éŒ¯èª¤æœ‰å¹¾ç¨®æ–¹æ³•ï¼šä¸€ç¨®æ–¹æ³•æ˜¯ä½¿ç”¨do-catchï¼Œåœ¨doå€å¡Šä¸­ï¼Œæ‚¨é€éåœ¨doå€å¡Šå‰é¢å¯«tryä¾†æ¨™è¨˜å¯èƒ½æ‹‹å‡ºéŒ¯èª¤çš„ç¨‹å¼ã€‚åœ¨catchå€å¡Šå…§ï¼Œé™¤éæ‚¨çµ¦å®ƒä¸€å€‹ä¸åŒçš„åç¨±ï¼Œå¦å‰‡éŒ¯èª¤æœƒè‡ªå‹•è¢«è³¦äºˆé è¨­åç¨±errorã€‚

//æ²’æœ‰éŒ¯èª¤æ™‚ï¼Œæœªæ•æ‰éŒ¯èª¤å¯ä»¥æ­£å¸¸åŸ·è¡Œ
print("\(try send(job: 123, toPrinter: "Test"))")
//æœ‰éŒ¯èª¤æ™‚ï¼Œæœªæ•æ‰éŒ¯èª¤æœƒè§¸ç™¼åŸ·è¡Œéšæ®µéŒ¯èª¤
//print("\(try send(job: 123, toPrinter: "Never Has Toner"))")

//éŒ¯èª¤è™•ç†ã€Šæ–¹æ³•ä¸€ã€‹ä½¿ç”¨do-try-catché€²è¡Œå–®æ®µå¼æ””æˆª
do
{
    //åœ¨doå€å¡Šä¸­ä»¥tryé—œéµå­—å‘¼å«å¯èƒ½æœƒæ‹‹å‡ºéŒ¯èª¤çš„å‡½å¼
    let printerResponse = try send(job: 1040, toPrinter: "Bi Sheng")
    print(printerResponse)
}
catch
{
    //catchå€æ®µè‡ªå‹•ä»¥é è¨­åç¨±erroræ•æ‰éŒ¯èª¤
    print(error)
}

//ã€Šç·´ç¿’18ã€‹å°‡å°è¡¨æ©Ÿåç¨±æ›´æ”¹ç‚º"Never Has Toner"ï¼Œä»¥ä¾¿send(job:toPrinter:)å‡½å¼æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚

do
{
    let printerResponse = try send(job: 1040, toPrinter: "Never Has Toner")
}
catch
{
    print("Error:\(error)")
    print(error.localizedDescription)
}

do
{
    let printerResponse = try send(job: 1040, toPrinter: "Never Has Toner")
}
catch(let err)          //ä¸ä½¿ç”¨é è¨­çš„errorï¼Œéœ€é…åˆå°æ‹¬è™Ÿå’Œleté—œéµå­—æ›´æ”¹é è¨­åç¨±
{
    print("Err:\(err)")
    print(err.localizedDescription)
}

//éŒ¯èª¤è™•ç†ã€Šæ–¹æ³•äºŒã€‹ä½¿ç”¨å¤šå€‹è™•ç†ç‰¹å®šéŒ¯èª¤çš„catchå€å¡Šä¾†æ””æˆªéŒ¯èª¤ã€‚åœ¨catchä¹‹å¾Œæ’°å¯«ä¸€å€‹æ¨¡å¼ï¼Œå°±åƒåœ¨switchä¸­çš„caseä¹‹å¾Œä¸€æ¨£ã€‚
do
{
    let printerResponse = try send(job: 1440, toPrinter: "Gutenberg")
    print(printerResponse)
}
catch PrinterError.onFire       //ç¬¬ä¸€å€‹catchå€å¡Šï¼šæ””æˆªæ•…éšœçš„éŒ¯èª¤
{
    print("I'll just put this over here, with the rest of the fire.")
}
catch let printerError as PrinterError      //ç¬¬äºŒå€‹å€å¡Šï¼šæ””æˆªPrinterErrorçš„å¦å¤–å…©ç¨®éŒ¯èª¤ (æ²’æœ‰ç¢³ç²‰ã€ç¼ºç´™çš„éŒ¯èª¤)
{
    print("Printer error: \(printerError).")
}
catch                                       //ç¬¬ä¸‰å€‹å€å¡Šï¼šæ””æˆªä¸å±¬æ–¼PrinterErrorçš„å…¶ä»–éŒ¯èª¤
{
    print(error)
}

//ã€Šç·´ç¿’19ã€‹
// æ’°å¯«ä¸€æ®µç¨‹å¼åœ¨doå€å¡Šå…§æ‹‹å‡ºéŒ¯èª¤ã€‚æ‚¨éœ€è¦æ‹‹å‡ºä»€éº¼æ¨£çš„éŒ¯èª¤ï¼Œè®“ç¬¬ä¸€å€‹catchå€å¡Šæ•æ‰ä¸¦è™•ç†éŒ¯èª¤ï¼Ÿ
// ä»¥åŠå¦‚ä½•è®“ç¬¬äºŒå€‹å€å¡Šå’Œç¬¬ä¸‰å€‹å€å¡Šæ•æ‰ä¸¦è™•çµ¦éŒ¯èª¤ï¼Ÿ
// è®“ç¬¬ä¸€å€‹catchå€å¡Šæ•æ‰ä¸¦è™•ç†éŒ¯èª¤
do
{
    let printerResponse = try send(job: 1440, toPrinter: "On Fire")
    print(printerResponse)
}
catch PrinterError.onFire       //ç¬¬ä¸€å€‹catchå€å¡Šï¼šæ””æˆªæ•…éšœçš„éŒ¯èª¤
{
    print("I'll just put this over here, with the rest of the fire.")
}
catch let printerError as PrinterError      //ç¬¬äºŒå€‹å€å¡Šï¼šæ””æˆªPrinterErrorçš„å¦å¤–å…©ç¨®éŒ¯èª¤ (æ²’æœ‰ç¢³ç²‰ã€ç¼ºç´™çš„éŒ¯èª¤)
{
    print("Printer error: \(printerError).")
}
catch                                       //ç¬¬ä¸‰å€‹å€å¡Šï¼šæ””æˆªä¸å±¬æ–¼PrinterErrorçš„å…¶ä»–éŒ¯èª¤
{
    print(error)
}

//è®“ç¬¬äºŒå€‹catchå€å¡Šæ•æ‰ä¸¦è™•ç†éŒ¯èª¤
do
{
    let printerResponse = try send(job: 1440, toPrinter: "Out Of Paper")
    print(printerResponse)
}
catch PrinterError.onFire       //ç¬¬ä¸€å€‹catchå€å¡Šï¼šæ””æˆªæ•…éšœçš„éŒ¯èª¤
{
    print("I'll just put this over here, with the rest of the fire.")
}
catch let printerError as PrinterError      //ç¬¬äºŒå€‹å€å¡Šï¼šæ””æˆªPrinterErrorçš„å¦å¤–å…©ç¨®éŒ¯èª¤ (æ²’æœ‰ç¢³ç²‰ã€ç¼ºç´™çš„éŒ¯èª¤)
{
    print("Printer error: \(printerError).")
}
catch                                       //ç¬¬ä¸‰å€‹å€å¡Šï¼šæ””æˆªä¸å±¬æ–¼PrinterErrorçš„å…¶ä»–éŒ¯èª¤
{
    print(error)
}

//è®“ç¬¬ä¸‰å€‹catchå€å¡Šæ•æ‰ä¸¦è™•ç†éŒ¯èª¤
do
{
    let printerResponse = try send(job: 1440, toPrinter: "")
    print(printerResponse)
}
catch PrinterError.onFire       //ç¬¬ä¸€å€‹catchå€å¡Šï¼šæ””æˆªæ•…éšœçš„éŒ¯èª¤
{
    print("I'll just put this over here, with the rest of the fire.")
}
catch let printerError as PrinterError      //ç¬¬äºŒå€‹å€å¡Šï¼šæ””æˆªPrinterErrorçš„å¦å¤–å…©ç¨®éŒ¯èª¤ (æ²’æœ‰ç¢³ç²‰ã€ç¼ºç´™çš„éŒ¯èª¤)
{
    print("Printer error: \(printerError).")
}
catch                                       //ç¬¬ä¸‰å€‹å€å¡Šï¼šæ””æˆªä¸å±¬æ–¼PrinterErrorçš„å…¶ä»–éŒ¯èª¤
{
    print(error)
}
//-------------------------------------------------------------------------------------------------------------

//éŒ¯èª¤è™•ç†ã€Šæ–¹æ³•ä¸‰ã€‹ä½¿ç”¨try?å°‡å‡½å¼çš„å‘¼å«çµæœè½‰æ›ç‚ºé¸æ“‡å€¼ã€‚å¦‚æœå‡½å¼æ‹‹å‡ºéŒ¯èª¤ï¼Œå‰‡ä¸Ÿæ£„ç‰¹å®šéŒ¯èª¤ï¼Œå›å‚³çµæœç‚ºnilã€‚å‡½å¼å‘¼å«æˆåŠŸï¼Œå‰‡å¾—åˆ°å‡½å¼å›å‚³å€¼çš„é¸æ“‡å€¼ã€‚
//å‡½å¼å‘¼å«æˆåŠŸï¼Œå–å¾—å›å‚³çµæœçš„é¸æ“‡å€¼
let printerSuccess = try? send(job: 1884, toPrinter: "Mergenthaler")
//print(printerSuccess)

//å‡½å¼å‘¼å«å¤±æ•—ï¼Œå¾—åˆ°nil
let printerFailure = try? send(job: 1885, toPrinter: "Never Has Toner")

//å‡½å¼å‘¼å«æˆåŠŸï¼Œé…åˆé¸æ“‡æ€§ç¶å®šèˆ‡æ³•å–å¾—è‡ªå‹•æ‹†å°çš„å›å‚³çµæœ (å¯¦å‹™æœ€å¸¸ç”¨)
if let printerSuccess = try? send(job: 1884, toPrinter: "Mergenthaler")
{
    print("å‡½å¼å‘¼å«æˆåŠŸï¼š\(printerSuccess)")
}
else
{
    print("å‡½å¼å‘¼å«å¤±æ•—ï¼")
}

// ä½¿ç”¨deferæ’°å¯«ä¸€æ®µç¨‹å¼ç¢¼å€æ®µï¼Œè©²ç¨‹å¼ç¢¼å€æ®µæœƒåœ¨å‡½å¼ä¸­æ‰€æœ‰å…¶ä»–ç¨‹å¼ç¢¼ä¹‹å¾Œã€å‡½å¼å›å‚³ä¹‹å‰è¢«åŸ·è¡Œã€‚
// ä¸è«–å‡½å¼æ˜¯å¦æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œdeferå€æ®µçš„ç¨‹å¼ç¢¼éƒ½æœƒè¢«åŸ·è¡Œã€‚æ‚¨å¯ä»¥ä½¿ç”¨deferå°‡è¨­å®šç¨‹å¼å’Œæ¸…ç†ç¨‹å¼ç¢¼ä¸¦æ’ç·¨å¯«ï¼Œå³ä½¿å®ƒå€‘æ˜¯åœ¨ä¸åŒçš„æ™‚é–“åŸ·è¡Œã€‚
// ä¸€é–‹å§‹è¨­å®šå†°ç®±ç‚ºé—œé–‰çš„ç‹€æ…‹
var fridgeIsOpen = false

//é™£åˆ—è¨­å®šå†°ç®±çš„å…§å®¹ç‰©
let fridgeContent = ["milk", "eggs", "leftovers"]

//å®šç¾©ç¢ºèªå†°ç®±å…§å®¹ç‰©çš„å‡½å¼
@MainActor func fridgeContains(_ food: String) -> Bool
{
    //1.æ¨¡æ“¬æ‰“é–‹å†°ç®±
    fridgeIsOpen = true
    //3,æ­¤deferå€æ®µæœƒåœ¨å‡½å¼æœ€å¾Œå³å°‡é›¢é–‹æ™‚è¢«åŸ·è¡Œ
    defer
    {
        //æ¨¡æ“¬é›¢é–‹å‰ä¸€å®šè¦é—œä¸Šå†°ç®±
        fridgeIsOpen = false
    }
    //2.ç¢ºèªå†°ç®±æ˜¯å¦åŒ…å«ç‰¹å®šé£Ÿç‰©
    let result = fridgeContent.contains(food)
    //4.å‡½å¼å›å‚³æˆ–ç›´æ¥é›¢é–‹å‡½å¼
    return result
}
//å‘¼å«ç¢ºèªå†°ç®±å…§å®¹ç‰©çš„å‡½å¼
if fridgeContains("banana")
{
    print("Found a banana")
}
//ç¢ºèªåŸ·è¡Œéå¾Œï¼Œå†°ç®±æœƒè‡ªå‹•é—œä¸Š (åŸ·è¡Œdeferå€æ®µ)
print(fridgeIsOpen)


/*
å‹åˆ¥å±¬æ€§çš„å…±åŒé»ï¼š
  å±¬æ–¼å‹åˆ¥æœ¬èº«ï¼Œè€Œä¸æ˜¯å‹åˆ¥çš„ä»»ä½•ç‰¹å®šå¯¦ä¾‹ã€‚ é€™æ„å‘³è‘—ä½ ç›´æ¥é€šéé¡åˆ¥åç¨±ä¾†å­˜å–å’Œä¿®æ”¹å®ƒå€‘ï¼Œè€Œä¸æ˜¯é€šéå‰µå»ºçš„ç‰©ä»¶ã€‚
  åœ¨æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„ç”Ÿå‘½é€±æœŸä¸­ï¼Œå‹åˆ¥å±¬æ€§åªå­˜åœ¨ä¸€ä»½å‰¯æœ¬ã€‚ æ‰€æœ‰çš„é¡åˆ¥å¯¦ä¾‹éƒ½å…±äº«ç›¸åŒçš„å‹åˆ¥å±¬æ€§ã€‚
*/
/*
class å’Œ static çš„ä¸»è¦å€åˆ¥åœ¨æ–¼ç¹¼æ‰¿å’Œè¦†å¯«ï¼š
  static é—œéµå­—ï¼š
    ç”¨æ–¼å®šç¾©éœæ…‹å‹åˆ¥å±¬æ€§ã€‚
    ä¸å…è¨±å­é¡åˆ¥è¦†å¯« (override)ã€‚å­é¡åˆ¥å¯ä»¥é®è”½ (shadow) çˆ¶é¡çš„éœæ…‹å±¬æ€§ï¼Œæä¾›ä¸€å€‹åŒåçš„æ–°çš„éœæ…‹å±¬æ€§ï¼Œ
    ä½†é€™ä¸æ˜¯çœŸæ­£çš„è¦†å¯«ï¼Œçˆ¶é¡çš„åŸå§‹å¯¦ç¾ä»ç„¶å­˜åœ¨ã€‚

  class é—œéµå­—ï¼š
    ç”¨æ–¼å®šç¾©é¡åˆ¥å‹åˆ¥å±¬æ€§ã€‚
    å…è¨±å­é¡åˆ¥è¦†å¯« (override)ã€‚å­é¡åˆ¥å¯ä»¥ä½¿ç”¨ override é—œéµå­—ä¾†æä¾›è‡ªå·±çš„ getter å’Œ/æˆ– setter å¯¦ç¾ï¼Œå¾è€Œå¯¦ç¾å¤šå‹è¡Œç‚ºã€‚
*/


/*
Cannot override mutable property with read-only property 'xxx'

é€™å¥è©±é€šå¸¸å‡ºç¾åœ¨ç¨‹å¼ç¢¼ç·¨è­¯æˆ–åŸ·è¡Œæ™‚çš„éŒ¯èª¤è¨Šæ¯ï¼Œè¡¨ç¤ºä½ åœ¨å­é¡åˆ¥ä¸­å˜—è©¦è¦†å¯«çˆ¶é¡åˆ¥ä¸­ä¸€å€‹å¯ä»¥ä¿®æ”¹çš„å±¬æ€§ (mutable)ï¼Œ
ä½†ä½ åœ¨å­é¡åˆ¥ä¸­å°‡å…¶å®šç¾©ç‚ºåªèƒ½è®€å–ã€ä¸èƒ½ä¿®æ”¹çš„å±¬æ€§ (read-only)ï¼Œé€™æ˜¯ä¸å…è¨±çš„ã€‚

å­é¡åˆ¥çš„è¨­è¨ˆæ‡‰è©²ä¿æŒèˆ‡çˆ¶é¡åˆ¥ä¸€å®šçš„è¡Œç‚ºä¸€è‡´æ€§ã€‚å¦‚æœä½ åœ¨å­é¡åˆ¥ä¸­å°‡ä¸€å€‹åŸæœ¬å¯ä»¥ä¿®æ”¹çš„å±¬æ€§è®Šç‚ºåªèƒ½è®€å–ï¼Œ
å¯èƒ½æœƒç ´å£ä¾è³´æ–¼è©²å±¬æ€§å¯è®Šæ€§çš„ç¨‹å¼ç¢¼é‚è¼¯ã€‚
ç·¨è­¯å™¨æˆ–ç¨‹å¼èªè¨€çš„è¨­è¨ˆé€šå¸¸æœƒé˜»æ­¢é€™ç¨®ä¸å®‰å…¨çš„è¦†å¯«è¡Œç‚ºã€‚
*/

/*
nonisolated(unsafe) å’Œ @MainActor çš„ç”¨æ³•ï¼š

@MainActorï¼šç¢ºä¿åœ¨ä¸»åŸ·è¡Œç·’ä¸ŠåŸ·è¡Œ
    ç”¨é€”ï¼š
    ç”¨ä¾†æ¨™è¨˜é¡åˆ¥ã€çµæ§‹ã€actor æˆ–å‡½å¼ï¼Œå¼·åˆ¶å®ƒå€‘åœ¨æ‡‰ç”¨ç¨‹å¼çš„ä¸»åŸ·è¡Œç·’ (è² è²¬ UI æ›´æ–°) ä¸ŠåŸ·è¡Œã€‚

    å ´æ™¯ï¼š
    ç•¶ä½ çš„ç¨‹å¼ç¢¼éœ€è¦ç›´æ¥æ“ä½œä½¿ç”¨è€…ä»‹é¢ (ä¾‹å¦‚æ›´æ–°æŒ‰éˆ•æ–‡å­—ã€ä¿®æ”¹åˆ—è¡¨å…§å®¹) æ™‚ï¼Œå°±å¿…é ˆç¢ºä¿é€™äº›æ“ä½œåœ¨ä¸»åŸ·è¡Œç·’ä¸Šé€²è¡Œï¼Œå¦å‰‡å¯èƒ½æœƒå°è‡´ UI ç„¡å›æ‡‰æˆ–å´©æ½°ã€‚

    æ•ˆæœï¼š
    æ¨™è¨˜å¾Œçš„ç¨‹å¼ç¢¼æœƒè‡ªå‹•åœ¨ä¸»åŸ·è¡Œç·’ä¸ŠåŸ·è¡Œï¼Œå³ä½¿ä½ å¾èƒŒæ™¯åŸ·è¡Œç·’å‘¼å«å®ƒï¼ŒSwift ä¹Ÿæœƒå¹«ä½ åˆ‡æ›åˆ°ä¸»åŸ·è¡Œç·’ã€‚
    ç·¨è­¯å™¨æœƒæª¢æŸ¥ï¼Œå¦‚æœä½ è©¦åœ–å¾éä¸»åŸ·è¡Œç·’ç›´æ¥å­˜å–è¢« @MainActor æ¨™è¨˜çš„æˆå“¡ï¼Œæœƒç™¼å‡ºè­¦å‘Šæˆ–éŒ¯èª¤ã€‚

    ç°¡å–®æ¯”å–»ï¼š
    @MainActor å°±åƒä¸€å€‹äº¤é€šè­¦å¯Ÿï¼Œç¢ºä¿æ‰€æœ‰è¦æ›´æ–° UI çš„è»Šè¼›éƒ½è¡Œé§›åœ¨æ­£ç¢ºçš„ã€Œä¸»å¹¹é“ã€ä¸Šï¼Œé¿å…äº¤é€šæ··äº‚ã€‚


nonisolated(unsafe)ï¼šæ˜ç¢ºæŒ‡å‡ºä¸è¦æ±‚åœ¨ç‰¹å®šåŸ·è¡Œç·’ä¸ŠåŸ·è¡Œï¼Œä¸”ä¸ä¿è­‰å®‰å…¨
    ç”¨é€”ï¼š
    ç”¨åœ¨ actor ä¸­çš„æ–¹æ³•æˆ–è¨ˆç®—å±¬æ€§å‰ï¼Œæ˜ç¢ºå‘ŠçŸ¥ç·¨è­¯å™¨é€™å€‹æˆå“¡ä¸éœ€è¦åœ¨ actor çš„éš”é›¢åŸŸ (é€šå¸¸æ˜¯æŸå€‹ç‰¹å®šçš„åŸ·è¡Œç·’æˆ–åŸ·è¡Œç’°å¢ƒ) ä¸­åŸ·è¡Œã€‚

    å ´æ™¯ï¼š
    ç•¶ actor ä¸­çš„æŸäº›æ“ä½œæ˜¯ç´”ç²¹çš„è¨ˆç®—ï¼Œä¸æ¶‰åŠ actor çš„å…§éƒ¨ç‹€æ…‹ï¼Œä¸”å¯ä»¥å®‰å…¨åœ°åœ¨ä»»ä½•åŸ·è¡Œç·’ä¸ŠåŸ·è¡Œæ™‚ã€‚
    éå¸¸é‡è¦ï¼š é€šå¸¸èˆ‡ä¸€äº›åº•å±¤çš„ã€éœ€è¦æ‰‹å‹•ç®¡ç†ä¸¦ç™¼å®‰å…¨çš„æƒ…æ³ä¸€èµ·ä½¿ç”¨ã€‚ä½¿ç”¨å®ƒè¡¨ç¤ºä½ æ‰‹å‹•è² è²¬ç¢ºä¿ä¸¦ç™¼å®‰å…¨ï¼Œç·¨è­¯å™¨ä¸æœƒç‚ºä½ æä¾›ä¿è­·ã€‚

    æ•ˆæœï¼š
    å…è¨±é€™å€‹æˆå“¡å¾ä»»ä½•åŸ·è¡Œç·’ç›´æ¥å­˜å–ï¼Œä¸æœƒæœ‰ actor éš”é›¢çš„é™åˆ¶ã€‚
    unsafe çš„éƒ¨åˆ†å¼·èª¿äº†ä½ éœ€è¦è‡ªè¡Œè™•ç†æ½›åœ¨çš„ä¸¦ç™¼å•é¡Œï¼Œä¾‹å¦‚è³‡æ–™ç«¶çˆ­ã€‚ å¦‚æœä½¿ç”¨ä¸ç•¶ï¼Œå¯èƒ½æœƒå°è‡´ç¨‹å¼å´©æ½°æˆ–è³‡æ–™æå£ã€‚

    ç°¡å–®æ¯”å–»ï¼š
    nonisolated(unsafe) å°±åƒå‘Šè¨´äº¤é€šè­¦å¯Ÿï¼šã€Œé€™æ¢å°è·¯æˆ‘æ¸…æ¥šå®ƒçš„ç‹€æ³ï¼Œä¸éœ€è¦ä½ æŒ‡æ®ï¼Œæˆ‘è‡ªå·±æœƒæ³¨æ„å®‰å…¨ã€‚ã€ä½†å¦‚æœé§•é§›ä¸æ…ï¼Œå°±å¯èƒ½ç™¼ç”Ÿå±éšªã€‚

    ç¸½çµï¼š
    @MainActor æ˜¯ç‚ºäº†å®‰å…¨åœ°åœ¨ä¸»åŸ·è¡Œç·’ä¸Šæ›´æ–° UI è€Œè¨­è¨ˆçš„ã€‚ å®ƒæ˜¯ä½ é€²è¡Œ UI ç›¸é—œæ“ä½œçš„é¦–é¸å·¥å…·ã€‚
    nonisolated(unsafe) æ˜¯ä¸€ç¨®æ›´åº•å±¤çš„æ©Ÿåˆ¶ï¼Œç”¨æ–¼ actor ä¸­éœ€è¦ç¹ééš”é›¢é™åˆ¶çš„ç‰¹å®šæƒ…æ³ï¼Œ
    ä¸¦ä¸”ä½ éœ€è¦éå¸¸æ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ï¼Œä¸¦è‡ªè¡Œä¿è­‰ä¸¦ç™¼å®‰å…¨ã€‚ é€šå¸¸æƒ…æ³ä¸‹ï¼Œæ‡‰ç›¡é‡é¿å…ä½¿ç”¨ nonisolated(unsafe)ï¼Œé™¤éä½ æœ‰å……åˆ†çš„ç†ç”±å’Œå°ä¸¦ç™¼çš„æ·±å…¥ç†è§£ã€‚

*/


//---------------<è£œå……>æœƒå›æ‹‹éŒ¯èª¤çš„å‡½å¼å’Œæ–¹æ³• (Rethrowing Functions and Methods) ---------------
//å‡½å¼æˆ–æ–¹æ³•å¯ä»¥ä½¿ç”¨rethrowsé—œéµå­—å®£å‘Šï¼Œä»¥è¡¨æ˜åªæœ‰ç•¶å…¶å‡½å¼å¼•æ•¸ä¹‹ä¸€æœƒæ‹‹å‡ºéŒ¯èª¤æ™‚ï¼Œå®ƒæ‰æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚é€™äº›å‡½å¼å’Œæ–¹æ³•è¢«ç¨±ç‚ºå›æ‹‹å‡½å¼å’Œå›æ‹‹æ–¹æ³•ã€‚ å›æ‹‹å‡½å¼å’Œå›æ‹‹æ–¹æ³•å¿…é ˆè‡³å°‘æœ‰ä¸€å€‹å›æ‹‹å‡½å¼ä½œç‚ºå¼•æ•¸ã€‚
func someFunction(callback: () throws -> Void) rethrows
{
    //åŸ·è¡Œæœ‰å¯èƒ½æœƒæ‹‹å‡ºéŒ¯èª¤å‡½å¼ï¼Œä½†æ˜¯æ²’æœ‰æ•æ‰éŒ¯èª¤ï¼Œæ‰€ä»¥éŒ¯èª¤æœƒå›æ‹‹çµ¦å‘¼å«æ­¤someFunctionå‡½å¼çš„åŸ·è¡Œè€…
    try callback()
}

//ç•¶å‚³å…¥çš„é–‰åŒ…ä¸æœƒæ‹‹å‡ºéŒ¯èª¤æ™‚ï¼Œä¸éœ€è¦æ•æ‰éŒ¯èª¤
someFunction {
    print("å‚³å…¥æ²’æœ‰æ‹‹å‡ºéŒ¯èª¤çš„é–‰åŒ…å¯¦ä½œ")
}

//ç•¶å‚³å…¥çš„é–‰åŒ…æœƒæ‹‹å‡ºéŒ¯èª¤æ™‚ï¼Œå¿…éœ€æ•æ‰éŒ¯èª¤ (ä»¥ã€Šæ–¹æ³•ä¸‰ã€‹æ•æ‰éŒ¯èª¤)
try? someFunction {
    throw OtherError.unknown
}

//<è‡ªå®šæ’åºæ–¹æ³•>ç•¶å‚³å…¥çš„é–‰åŒ…ä¸æœƒæ‹‹å‡ºéŒ¯èª¤æ™‚ï¼Œä¸éœ€è¦æ•æ‰éŒ¯èª¤
fridgeContent.sorted {
    str1, str2
    in
    return str1 > str2
}

//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ      â–ˆâ–ˆ  â–ˆ  â–ˆ      â–ˆ   â–ˆ    â–ˆ    â–ˆ      â–ˆ
// â–ˆ â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆ       â–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ      â–ˆ  â–ˆâ–ˆ  â–ˆ      â–ˆ â–ˆ      â–ˆ    â–ˆ          â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ

//======================================æ³›ç”¨å‹åˆ¥/æ³›å‹ (Generics) ======================================
//å®šç¾©éæ³›å‹å‡½å¼ï¼Œè£½ä½œInté™£åˆ—
func makeArray1(repeating item: Int, numberOfTimes: Int) -> [Int]
{
    var result = [Int]()
    for _ in 0..<numberOfTimes
    {
         result.append(item)
    }
    return result
}
//åŸ·è¡Œéæ³›å‹å‡½å¼
makeArray1(repeating: 5, numberOfTimes: 4)

// å®šç¾©éæ³›å‹å‡½å¼ï¼Œè£½ä½œStringé™£åˆ—
func makeArray1(repeating item: String, numberOfTimes: Int) -> [String]
{
    var result = [String]()
    for _ in 0..<numberOfTimes
    {
         result.append(item)
    }
    return result
}
// åŸ·è¡Œéæ³›å‹å‡½å¼
makeArray1(repeating: "test5", numberOfTimes: 4)


// åœ¨"è§’æ‹¬è™Ÿ"<>å…§æ’°å¯«ä¸€å€‹æ³›ç”¨å‹åˆ¥åç¨±ï¼Œä»¥å»ºç«‹æ³›å‹å‡½å¼æˆ–å‹åˆ¥ã€‚
func makeArray<Item>(repeating item: Item, numberOfTimes: Int) -> [Item]
{
    //å®£å‘Šæ³›ç”¨å‹åˆ¥çš„ç©ºé™£åˆ—
    var result = [Item]()
    for _ in 0..<numberOfTimes
    {
         result.append(item)
    }
    return result
}
//åŸ·è¡Œæ³›ç”¨å‹åˆ¥çš„å‡½å¼
makeArray(repeating: "knock", numberOfTimes: 4)

let result = makeArray(repeating: 3.99, numberOfTimes: 4)

//æ‚¨å¯ä»¥å®šç¾©æ³›å‹çš„å‡½å¼å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å®šç¾©æ³›å‹çš„é¡åˆ¥ã€åˆ—èˆ‰å’Œçµæ§‹ã€‚
// Reimplement the Swift standard library's optional type
enum OptionalValue<Wrapped>
{
    case none
    case some(Wrapped)
    
    func simpleDescription() -> String
    {
        switch self
        {
            case .none:
                return "æ­¤åˆ—èˆ‰å¯¦é«”æ²’æœ‰é—œè¯å€¼"
            case let .some(myValue):
                return "æ­¤åˆ—èˆ‰å¯¦é«”çš„é—œè¯å€¼ï¼š\(myValue)"
        }
    }
}
//å–å¾—åˆ—èˆ‰å¯¦é«”
var possibleInteger: OptionalValue<Int> = .none
possibleInteger.simpleDescription()

possibleInteger = .some(100)
possibleInteger.simpleDescription()


// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
//     â–ˆ  â–ˆ   â–ˆ      â–ˆ  â–ˆ             â–ˆ   â–ˆ  â–ˆ   â–ˆ             â–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ          â–ˆ         â–ˆ   â–ˆ      â–ˆ         â–ˆ      â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

var possibleInteger2 = OptionalValue.some(200.0)
possibleInteger2 = .none
possibleInteger2 = .some(3.99)

//åœ¨å¯¦ä½œä¹‹å‰ä½¿ç”¨whereä¾†æŒ‡å®šä¸€ç³»åˆ—çš„è¦æ±‚ â€” â€” ä¾‹å¦‚ï¼Œè¦æ±‚å‹åˆ¥å¯¦ä½œå”å®šã€è¦æ±‚å…©ç¨®å‹åˆ¥ç›¸åŒæˆ–è¦æ±‚å‹åˆ¥å…·æœ‰ç‰¹å®šçš„çˆ¶é¡åˆ¥ã€‚
//å®£å‘Šæ³›å‹å‡½å¼ï¼Œä½¿ç”¨Tå’ŒUå…©ç¨®æ³›å‹ (å¿…é ˆæ¡ç´Sequenceå”å®š) ï¼Œå¯¦ä½œä¸­æ¯”å°Tå’ŒUæ˜¯å¦æœ‰ä»»ä½•ä¸€å€‹ç›¸åŒå…ƒç´ 
func anyCommonElements<T: Sequence, U: Sequence>(_ lhs: T, _ rhs: U) -> Bool    //è¦æ±‚å‹åˆ¥å¯¦ä½œå”å®š
    where T.Element: Equatable, T.Element == U.Element  //whereæ¢ä»¶å¼è¦æ±‚ï¼š1.Tå‹åˆ¥çš„å…ƒç´ å¿…é ˆæ¡ç´ç›¸ç­‰å”å®š 2.è¦æ±‚Tå’ŒUå…©ç¨®å‹åˆ¥ç›¸åŒ
{
    for lhsItem in lhs
    {
        for rhsItem in rhs
        {
            if lhsItem == rhsItem
            {
                return true
            }
        }
    }
   return false
}
//åŸ·è¡Œæ³›å‹å‡½å¼
anyCommonElements([1, 2, 3], [3,5])

//ã€Šç·´ç¿’20ã€‹ä¿®æ”¹ä¸Šè¿°å‡½å¼ï¼Œä½¿å…¶å›å‚³ä¸€å€‹åºåˆ—ï¼Œå…¶ä¸­çš„åºåˆ—å…ƒç´ æ˜¯ä»»å…©å€‹åºåˆ—çš„å…±åŒå…ƒç´ ã€‚
func anyCommonElements2<T: Sequence, U: Sequence>(_ lhs: T, _ rhs: U) -> [T.Element]    //è¦æ±‚å‹åˆ¥å¯¦ä½œå”å®š
    where T.Element: Equatable, T.Element == U.Element  //whereæ¢ä»¶å¼è¦æ±‚ï¼š1.Tå‹åˆ¥çš„å…ƒç´ å¿…é ˆæ¡ç´ç›¸ç­‰å”å®š 2.è¦æ±‚Tå’ŒUå…©ç¨®å‹åˆ¥ç›¸åŒ
{
    //å®£å‘Šç´€éŒ„å…±åŒå…ƒç´ çš„é™£åˆ—
    var commons = [T.Element]()
    for lhsItem in lhs {

        for rhsItem in rhs {

            if lhsItem == rhsItem {
                commons.append(lhsItem)
            }
        }
    }
   return commons
}
//åŸ·è¡Œæ³›å‹å‡½å¼
anyCommonElements2([1,3,5,7,9], [7,3,4,1])

//<è£œå……ç·´ç¿’1>ä»¥ä¸Šå‡½å¼æ”¹ç‰ˆæˆåªä½¿ç”¨ä¸€ç¨®æ³›å‹
func anyCommonElements3<T: Sequence>(_ lhs: T, _ rhs: T) -> [T.Element]    //è¦æ±‚å‹åˆ¥å¯¦ä½œå”å®š
    where T.Element: Equatable  //whereæ¢ä»¶å¼è¦æ±‚ï¼šTå‹åˆ¥çš„å…ƒç´ å¿…é ˆæ¡ç´ç›¸ç­‰å”å®š
{
    //å®£å‘Šç´€éŒ„å…±åŒå…ƒç´ çš„é™£åˆ—
    var commons = [T.Element]()
    for lhsItem in lhs {

        for rhsItem in rhs {

            if lhsItem == rhsItem {

                commons.append(lhsItem)
            }
        }
    }
   return commons
}
//åŸ·è¡Œæ³›å‹å‡½å¼
anyCommonElements3([1,3,5,7,9], [7,3,4,1])

//<è£œå……ç·´ç¿’2>ç›¸ç­‰å”å®šã€æ¯”è¼ƒå”å®šã€é›œæ¹Šå”å®š
struct Point3D:Comparable,Hashable  //è‡ªå®šå‹åˆ¥æœ€å¥½åŒæ™‚å¼•å…¥Comparableå”å®šå’ŒHashableå”å®šï¼Œä»¥ç¢ºä¿æ‰€æœ‰åŸºæœ¬æ“ä½œéƒ½å¯ä»¥ä½¿ç”¨
//æ³¨æ„ï¼šComparableå”å®šåŠHashableå”å®šéƒ½åŒ…å«Equatableå”å®šï¼Œæ‰€ä»¥ä¸éœ€è¦å–®ç¨å¼•å…¥Equatableå”å®š
{
    var x:Int
    var y:Int
    var z:Int
    //Equatableæä¾›äº†é è¨­å¯¦ä½œï¼Œè‹¥ä¸æ›´æ”¹é è¨­å¯¦ä½œï¼Œä¸å¿…å¯¦ä½œä»¥ä¸‹æ–¹æ³•ï¼Œåªéœ€å¼•å…¥Equatableå”å®šå³å¯
    static func == (lhs:Point3D, rhs:Point3D) -> Bool
    {
        return lhs.x+lhs.y+lhs.z == rhs.x+rhs.y+rhs.z
    }
    //Comparableå”å®šè¦æ±‚è‡³å°‘è¦å¯¦ä½œå°æ–¼çš„åˆ¤æ–·é‚è¼¯ï¼Œå…¶é¤˜çš„<=ã€>ã€>=æœƒè‡ªå‹•è³¦äºˆé è¨­å¯¦ä½œ (æ­¤æ–‡ä»¶æè¿°æ–¼å°æ–¼æ–¹æ³•çš„Discussion)
    static func < (lhs: Point3D, rhs: Point3D) -> Bool
    {
//        return lhs.x < rhs.x && lhs.y < rhs.y && lhs.z < rhs.z
        return lhs.x+lhs.y+lhs.z < rhs.x+rhs.y+rhs.z
    }
}

let point1 = Point3D(x: 3, y: 4, z: 5)
let point2 = Point3D(x: 5, y: 4, z: 3)

if point1 == point2
{
    print("å…©å€‹é»ç›¸ç­‰")
}
else
{
    print("å…©å€‹é»ä¸ç›¸ç­‰")
}

if point1 != point2
{
    print("å…©å€‹é»ä¸ç›¸ç­‰")
}
else
{
    print("å…©å€‹é»ç›¸ç­‰")
}

if point1 > point2
{
    print("point1 > point2")
}
else if point1 < point2
{
    print("point1 < point2")
}
else
{
    print("point1 == point2")
}

//ã€è‡ªå®šå‹åˆ¥ã€è‹¥æ²’æœ‰é›œæ¹Šå€¼ï¼Œå°±ä¸èƒ½ç•¶ä½œé›†åˆçš„å€¼æˆ–å­—å…¸çš„éµã€‚
var dic = [point1:"ç¬¬ä¸€å€‹é»"]

var set:Set<Point3D>




// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
//   â–ˆ     â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ             â–ˆ      â–ˆ   â–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ
//   â–ˆ      â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ     â–ˆ      â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ
//   â–ˆ      â–ˆ    â–ˆ      â–ˆ             â–ˆ      â–ˆ   â–ˆ      â–ˆ    â–ˆ      â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ
//   â–ˆ      â–ˆ    â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ

// å‹åˆ¥è½‰æ› (type casting) æ˜¯ä¸€ç¨®æª¢æŸ¥å¯¦é«”å‹åˆ¥çš„æ–¹æ³• (way) ï¼Œæˆ–å°‡è©²å¯¦é«”è¦–ç‚ºèˆ‡å…¶è‡ªèº«é¡åˆ¥å±¤æ¬¡æ¶æ§‹ä¸­çš„çˆ¶é¡åˆ¥æˆ–å­é¡åˆ¥ã€‚
// Swiftä¸­çš„å‹åˆ¥è½‰æ›æ˜¯ä½¿ç”¨iså’Œasé‹ç®—ç¬¦è™Ÿå¯¦ä½œã€‚é€™å…©å€‹é‹ç®—ç¬¦è™Ÿç”¨ä¾†æª¢æŸ¥å€¼çš„å‹åˆ¥(is)æˆ–å°‡å€¼è½‰æ›ç‚ºä¸åŒçš„å‹åˆ¥(as)ã€‚
// å®šç¾©åª’é«”é …ç›®é¡åˆ¥
class MediaItem {
    var name: String
    init(name: String)
    {
        self.name = name
    }
}

// ä»¥ä¸‹å®šç¾©é›»å½±å’Œæ­Œæ›²é¡åˆ¥ï¼ŒåŒæ¨£ç¹¼æ‰¿è‡ªåª’é«”é …ç›®é¡åˆ¥
class Movie: MediaItem {
    var director: String    //å°æ¼”å±¬æ€§
    init(name: String, director: String)
    {
        //Step1
        self.director = director
        //Step2
        super.init(name: name)
    }
}

class Song: MediaItem
{
    var artist: String      //ä½œæ›²è€…å±¬æ€§
    init(name: String, artist: String)
    {
        self.artist = artist
        super.init(name: name)
    }
}

//æ­¤é™£åˆ—å…ƒç´ æœ‰ä¸åŒçš„é¡åˆ¥å¯¦é«”ï¼Œä½†å› ç‚ºæœ‰ç›¸åŒçš„çˆ¶é¡åˆ¥MediaItemï¼Œæ‰€ä»¥å‹åˆ¥æ¨æ¸¬æ©Ÿåˆ¶ï¼Œè‡ªå‹•è­˜åˆ¥æ­¤é™£åˆ—ç‚º[MediaItem]å‹åˆ¥
let library //:[Any]        //æ³¨æ„ï¼šç•¶é™£åˆ—å…ƒç´ æ²’æœ‰å…±åŒçš„çˆ¶é¡åˆ¥æ™‚ï¼Œåªèƒ½è‡ªå·±æ˜ç¢ºå®£å‘Šç‚ºä»»æ„å‹åˆ¥çš„é™£åˆ—
=
[
    Movie(name: "Casablanca", director: "Michael Curtiz"),
    Song(name: "Blue Suede Shoes", artist: "Elvis Presley"),
    Movie(name: "Citizen Kane", director: "Orson Welles"),
    Song(name: "The One And Only", artist: "Chesney Hawkes"),
    Song(name: "Never Gonna Give You Up", artist: "Rick Astley"),
    //14
]


(library[0] as! Movie).director


//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ â–ˆâ–ˆ     â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ               â–ˆ     â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ
// â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆ       â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ           â–ˆ      â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ      â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ â–ˆâ–ˆ     â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ           â–ˆ      â–ˆ    â–ˆ      â–ˆ
//  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ           â–ˆ      â–ˆ    â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

//----------------------å‹åˆ¥æª¢æŸ¥ (Checking Type) ----------------------
//åˆ†åˆ¥å®£å‘Šå…©å€‹çµ±è¨ˆé›»å½±å’Œæ­Œæ›²æ•¸é‡çš„è®Šæ•¸
var movieCount = 0
var songCount = 0

//for inè¿´åœˆåˆ—å‡ºlibraryé™£åˆ—
for item in library {
    if item is Movie        //æª¢æŸ¥itemæ˜¯å¦ç‚ºMovieçš„é¡åˆ¥å¯¦é«”
    {
        movieCount += 1
        (item as! Movie).director
    }
    else if item is Song    //æª¢æŸ¥itemæ˜¯å¦ç‚ºSongçš„é¡åˆ¥å¯¦é«”
    {
        songCount += 1
        (item as! Song).artist
    }
}

// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆ  â–ˆ  â–ˆ      â–ˆ   â–ˆ  â–ˆ        â–ˆ      â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆ â–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ     â–ˆ      â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ
// â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆ  â–ˆâ–ˆ  â–ˆ      â–ˆ   â–ˆ      â–ˆ    â–ˆ      â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ     â–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ

print("Media library contains \(movieCount) movies and \(songCount) songs")

//------------------å‘ä¸‹è½‰å‹ (Downcasting)------------------
/*
ç‰¹å®šé¡åˆ¥å‹åˆ¥çš„å¸¸æ•¸æˆ–è®Šæ•¸ï¼Œå¯¦éš›ä¸ŠèƒŒæ™¯å¯èƒ½æŒ‡çš„æ˜¯å¯¦éš›é…ç½®çš„å­é¡åˆ¥å¯¦é«”ã€‚å¦‚æœæ‚¨èªç‚ºæƒ…æ³æ˜¯é€™æ¨£çš„ï¼Œ
æ‚¨å¯ä»¥å˜—è©¦ä½¿ç”¨å‹åˆ¥è½‰æ›é‹ç®—ç¬¦è™Ÿå‘ä¸‹è½‰æ›åˆ°å­é¡åˆ¥çš„å‹åˆ¥ (ä½¿ç”¨as? æˆ–è€…as!) ã€‚
 
ç”±æ–¼å‘ä¸‹è½‰å‹å¯èƒ½æœƒå¤±æ•—ï¼Œå‹åˆ¥è½‰æ›é‹ç®—ç¬¦è™Ÿæœ‰å…©ç¨®ä¸åŒçš„å½¢å¼ï¼š
1.æ¢ä»¶å½¢å¼(as?)ï¼šå›å‚³æ‚¨å˜—è©¦å‘ä¸‹è½‰æ›çš„å‹åˆ¥çš„é¸æ“‡å€¼ã€‚
2.å¼·åˆ¶å½¢å¼(as!)ï¼šå˜—è©¦å‘ä¸‹è½‰å‹ï¼Œä¸¦å°‡è½‰æ›çµæœå’Œå¼·åˆ¶æ‹†å°çµåˆç‚ºå–®ä¸€è¤‡åˆä½œæ¥­ã€‚
*/
for item in library
{
    if let movie = item as? Movie
    //æ¢ä»¶å½¢å¼çš„è½‰å‹ï¼Œè‹¥è½‰æ›æˆåŠŸæœƒå›å‚³é¸æ“‡å€¼ï¼Œè‹¥è½‰æ›å¤±æ•—å‰‡å›å‚³nilã€‚æ¢ä»¶å½¢å¼çš„è½‰å‹ï¼Œé…åˆé¸æ“‡æ€§ç¶å®šèªæ³•å¯è‡ªå‹•æ‹†å°ã€‚
    {
        print("Movie: \(movie.name), dir. \(movie.director)")
    }
    else if let song = item as? Song
    {
        print("Song: \(song.name), by \(song.artist)")
    }
}

// æ³¨æ„ï¼š
// å‹åˆ¥è½‰æ›å¯¦éš›ä¸Šä¸æœƒä¿®æ”¹å¯¦é«”æˆ–è®Šæ›´å…¶å€¼ã€‚èƒŒæ™¯çš„å¯¦é«”æœƒå§‹çµ‚ä¿æŒä¸è®Šï¼Œå®ƒåªæ˜¯è¢«ç•¶ä½œè¢«è½‰æ›çš„å‹åˆ¥å¯¦é«”ä¾†"è™•ç†"å’Œ"å­˜å–"
// (ä»¥çˆ¶é¡åˆ¥çš„è¦–è§’æˆ–å­é¡åˆ¥çš„è¦–è§’è™•ç†) ã€‚

// å¯ä»¥æ“ä½œ"å‘ä¸Šè½‰å‹" (è¦–è§’è½‰å›çˆ¶é¡åˆ¥å¯¦é«”) ï¼Œä½†æ˜¯"å‘ä¸Šè½‰å‹"ä¸€å®šæˆåŠŸï¼Œè½‰æ›åªéœ€è¦asé—œéµå­—ï¼Œä¸éœ€è¦æ¢ä»¶å½¢å¼æˆ–å¼·åˆ¶å½¢å¼
(library[0] as! Movie) as MediaItem

//---------------------Anyå’ŒAnyObjectçš„å‹åˆ¥è½‰æ›---------------------
/*
 Swift ç‚ºè™•ç†éç‰¹å®šå‹åˆ¥æä¾›äº†å…©ç¨®ç‰¹æ®Šå‹åˆ¥ï¼š
 1.Any å‹åˆ¥ï¼šå¯ä»¥ä»£è¡¨ä»»ä½•å‹åˆ¥çš„å¯¦é«”ï¼ŒåŒ…æ‹¬å‡½å¼å‹åˆ¥ã€‚
 2.AnyObject å‹åˆ¥ï¼šå¯ä»¥è¡¨ç¤ºä»»ä½•é¡åˆ¥å‹åˆ¥çš„å¯¦é«”ã€‚
*/

var things = [Any]()

things.append(0)                // Int å¯¦é«”å…¶å€¼ç‚º0
things.append(0.0)              // Double å¯¦é«”å…¶å€¼ç‚º0
things.append(42)               // Int å¯¦é«”å…¶å€¼ç‚º42
things.append(3.14159)          // Double å¯¦é«”å…¶å€¼ç‚º3.14159
things.append(-2.88)            // Double å¯¦é«”å…¶å€¼ç‚º-2.88
things.append("hello")          // String å¯¦é«”å…¶å€¼ç‚ºhello
things.append((3.0, 5.0))       // (Double,Double) çš„ Tuple å¯¦é«”å…¶å€¼ç‚º(3.0,5.0)
things.append(Movie(name: "Ghostbusters", director: "Ivan Reitman"))    //Movieå¯¦é«”
things.append({ (name: String) -> String in "Hello, \(name)" })         //é–‰åŒ…å¯¦é«”
things.append([1,3,5])

for thing in things
{
    switch thing
    {
        case 0 as Int:                  //åˆ¤æ–·æ˜¯å¦ç‚ºIntå‹åˆ¥çš„å¯¦é«”0
            print("zero as an Int")
        case 0 as Double:               //åˆ¤æ–·æ˜¯å¦ç‚ºDoubleå‹åˆ¥çš„å¯¦é«”0
            print("zero as a Double")
        case let someInt as Int:
            print("an integer value of \(someInt)")
        case let someDouble as Double where someDouble > 0:         //åˆ¤æ–·æ˜¯å¦ç‚ºæ­£æ•¸çš„Doubleå€¼
            print("a positive double value of \(someDouble)")
//        case let someDouble as Double where someDouble < 0:
        case is Double:                                            //åˆ¤æ–·æ˜¯å¦ç‚ºè² æ•¸çš„Doubleå€¼
            print("some other double value:\(thing) that I don't want to print")
        case let someString as String:
            print("a string value of \"\(someString)\"")
        case let (x, y) as (Double, Double):
            print("an (x, y) point at \(x), \(y)")
        case let movie as Movie:
            print("a movie called \(movie.name), dir. \(movie.director)")
        case let stringConverter as (String) -> String:
            print(stringConverter("Michael"))
        default:
            print("something else:\(thing)")
    }
}

// ç‰¹åˆ¥æ³¨æ„äº‹é …ï¼šAny å‹åˆ¥å¯ä»¥è¡¨ç¤ºä»»ä½•å‹åˆ¥çš„å€¼ï¼ŒåŒ…æ‹¬é¸æ“‡æ€§å‹åˆ¥ã€‚å¦‚æœæ‚¨ä½¿ç”¨é¸æ“‡å€¼ï¼Œè€ŒæœŸæœ›å€¼ç‚ºAnyå‹åˆ¥ï¼ŒSwift æœƒå‘æ‚¨ç™¼å‡ºè­¦å‘Šã€‚
// å¦‚æœæ‚¨çœŸçš„éœ€è¦ä½¿ç”¨é¸æ“‡å€¼ä½œç‚º Any å€¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ as é‹ç®—ç¬¦è™Ÿå°‡é¸æ“‡å€¼æ˜ç¢ºè½‰æ›ç‚º Anyï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
let optionalNumber: Int? = 3
things.append(optionalNumber)        // Warning(ç³»çµ±å»ºè­°ä¸è¦æŠŠåŒ…è£ç›’ç›´æ¥ä¸Ÿåˆ°Anyå‹åˆ¥çš„ä½ç½®)
//warning: Expression implicitly coerced from 'Int?' to 'Any'

var testThing = things[2]
print(testThing as! Int)

things.append(optionalNumber as Any) // No warning(å¦‚æœè¦æŠŠåŒ…è£ç›’ç›´æ¥ä¸Ÿåˆ°Anyå‹åˆ¥çš„ä½ç½®ï¼Œè¦è‡ªå·±æ˜ç¢ºè½‰å‹ç‚ºAny)
testThing = things[11]
print(testThing as! Int)

//ä»¥ä¸‹æ˜¯é–‹ç™¼å»ºè­° (å‰å…©ç¨®åšæ³•éƒ½ç›¡é‡é¿å…ä½¿ç”¨)
var newThings = [Any?]()
newThings.append(12)
newThings.append("ABC")

for thing in newThings
{
    if let t = thing as? Int
    {
        print("t:\(t)")
    }
    else if let s = thing as? String
    {
        print("s:\(s)")
    }
}

// â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ              â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ
// â–ˆâ–ˆ  â–ˆ    â–ˆ    â–ˆ             â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ      â–ˆ      â–ˆ        â–ˆ    â–ˆâ–ˆ  â–ˆ  â–ˆ
// â–ˆ â–ˆ â–ˆ    â–ˆ    â–ˆ             â–ˆ      â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ   â–ˆ        â–ˆ    â–ˆ â–ˆ â–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ
// â–ˆ  â–ˆâ–ˆ    â–ˆ    â–ˆ             â–ˆ      â–ˆ   â–ˆ  â–ˆ   â–ˆ  â–ˆ      â–ˆ          â–ˆ  â–ˆ        â–ˆ    â–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ
// â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ

// nil coalescing operator ??
// åœ¨ Swift ä¸­ï¼Œ?? æ˜¯ä¸€å€‹ç¨±ç‚ºã€Œnil coalescing operatorã€ï¼ˆnil åˆä½µé‹ç®—å­ï¼‰çš„é‹ç®—ç¬¦ã€‚
// å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æä¾›ä¸€å€‹é è¨­å€¼ï¼Œç•¶ä¸€å€‹å¯é¸å‹åˆ¥ï¼ˆoptional typeï¼‰çš„å€¼ç‚º nil æ™‚ï¼Œå°±ä½¿ç”¨é€™å€‹é è¨­å€¼ã€‚

// åŠŸèƒ½
// ?? é‹ç®—ç¬¦æœƒæª¢æŸ¥ä¸€å€‹å¯é¸å‹åˆ¥çš„å€¼æ˜¯å¦ç‚º nilã€‚
// å¦‚æœå¯é¸å‹åˆ¥æœ‰å€¼ï¼Œå®ƒæœƒè§£åŒ…ï¼ˆunwrapï¼‰é€™å€‹å€¼ï¼Œä¸¦å›å‚³å®ƒã€‚
// å¦‚æœå¯é¸å‹åˆ¥ç‚º nilï¼Œå®ƒæœƒå›å‚³ ?? å³å´æä¾›çš„é è¨­å€¼ã€‚

// èªæ³•
// optionalValue ?? defaultValue
//     optionalValueï¼šä¸€å€‹å¯é¸å‹åˆ¥çš„å€¼ã€‚
//     defaultValueï¼šä¸€å€‹èˆ‡ optionalValue å‹åˆ¥ç›¸å®¹çš„é è¨­å€¼ã€‚

/* ç¯„ä¾‹
let optionalName: String? = "John"
let name = optionalName ?? "Guest"
print(name) // è¼¸å‡ºï¼šJohn

let optionalAge: Int? = nil
let age = optionalAge ?? 0
print(age) // è¼¸å‡ºï¼š0
*/
